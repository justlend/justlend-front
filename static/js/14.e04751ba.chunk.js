(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[14],{1184:function(e,t,a){"use strict";a.r(t);var r,n,o=a(5),i=a(6),s=a(13),l=a(12),c=a(0),m=a.n(c),d=a(46),u=a(1),p=a.n(u),k=a(10),b=a(149),v=a(24),w=a.n(v),g=a(574),f=a(1176),y=a(303),h=a(129),E=a(613),j=a(30),O=a(11),N=a(7),S=(a(696),a(626)),D=(a(861),Object(h.b)("network")(r=Object(h.b)("lend")(r=Object(h.c)(r=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(k.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",r.getMarketData(),r.props.lend.getMintInfo(),e.next=5,r.props.network.getNowTime();case 5:r.props.network.getCountTime();case 6:case"end":return e.stop()}}),e)}))),r.depositApyTooltipRender=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:"mr-2"},w.a.get("market.deposit_apy")),m.a.createElement(g.a,{title:w.a.get("market.deposit_tip"),placement:"bottom"},m.a.createElement("span",{className:"tooltip-icon info-icon mr-6"})))},r.marketLendTooltipRender=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,w.a.get("market.borrow_market")),m.a.createElement(g.a,{overlayClassName:"mltr",title:w.a.getHTML("market_lend_tip"),placement:"bottomLeft",arrowPointAtCenter:!0,trigger:["click","hover"]},m.a.createElement("span",{className:"tooltip-icon info-icon"})))},r.renderMarketSummary=function(){var e=r.state.marketData,t=r.props.lend,a=(t.assetList,t.marketList,r.props.network.multyRealStart,e.markets);return m.a.createElement("div",{className:"market-summary-list"},m.a.createElement("div",{className:"c-0F134F fs14 fw600"},w.a.get("market.overview")),m.a.createElement(f.a,{onRow:function(e){return{onClick:function(t){var a;window.open(window.location.origin+((null===(a=window.location)||void 0===a?void 0:a.pathname)||"")+"#/marketDetail?jtokenAddress="+e.jtokenAddress)}}},style:{marginTop:"20px"},columns:r.getInfoColumns(),dataSource:a,pagination:!1,locale:{emptyText:O.h},scroll:{x:Object(b.a)(window.navigator).any?500:770}}))},r.getMarketData=Object(k.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.e)();case 3:if((t=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:a=t.data.markets.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{key:e.id})})),t.data.markets=a,r.setState({marketData:t.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("getMarketData",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.getInfoColumns=function(){var e=r.props.lend,t=e.assetList,a=e.marketList,n=r.props.network.multyRealStart;return[{title:w.a.get("market.asset"),dataIndex:"collateralSymbol",key:"1",ellipsis:!0,fixed:"left",width:Object(b.a)(window.navigator).any?60:"auto",render:function(e,t){return m.a.createElement("div",{className:"table-alike table-row"},m.a.createElement("div",{className:"collateralSymbol collateral-new"},m.a.createElement("img",{src:t.logoUrl?t.logoUrl:defaultIcon,onError:function(e){e.target.onerror=null,e.target.src=defaultIcon}}),m.a.createElement("div",{className:"tokenDetail"},m.a.createElement("div",{className:"token-names fw500"},"".concat(e)),m.a.createElement("div",{className:"description"},"".concat(t.collateralName)))))}},{title:w.a.get("market.deposit_size"),dataIndex:"depositApy",key:"2",width:Object(b.a)(window.navigator).any?160:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.depositedUSD-t.depositedUSD},showSorterTooltip:!1,render:function(e,t){return m.a.createElement("div",{className:"fw500"},Object(O.c)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))}},{title:r.depositApyTooltipRender(),dataIndex:"depositedAPY",key:"3",width:Object(b.a)(window.navigator).any?140:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){var a=r.props.lend.assetList,n=Object(O.E)(t,a);return Object(O.E)(e,a).totalApy-n.totalApy},showSorterTooltip:!1,render:function(e,a){var r=Object(O.E)(a,t),o=r.depositApy,i=r.mintApy,s=r.mintApyWithUSDD;r.totalApy;return m.a.createElement("div",{className:"fw500 "+(!n||N.a.hideMarketMintIcon.indexOf(a.collateralSymbol)>-1?"":"fire")},m.a.createElement(g.a,{title:m.a.createElement("div",{className:"info-tooltip"},m.a.createElement("div",null,w.a.get("market.deposit_base_nex")," :"," ",Object(O.i)(o,2,{per:!0,miniText:"0.01"}),"%"),m.a.createElement("div",null,N.a.usddMint.includes(a.jtokenAddress)?w.a.get("market.sun_mining_nex1"):w.a.get("market.sun_mining_nex")," ",":"," ",N.a.usddMint.includes(a.jtokenAddress)?"".concat(Object(O.i)(s,2,{per:!0,miniText:"0.01"})):Object(O.i)(i,2,{per:!0,miniText:"0.01"}),"%"),N.a.usddMint.includes(a.jtokenAddress)&&m.a.createElement("div",null,w.a.get("usddapy.hover2"))),placement:"bottom"},m.a.createElement("span",{className:"fw500"},Object(O.i)(Object(O.a)(Object(O.a)(o)._toFixed(2,1)).plus(Object(O.a)(i)._toFixed(2,1)),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%")))}},{title:w.a.get("market.borrow_size"),dataIndex:"totalCashNew",key:"5",width:Object(b.a)(window.navigator).any?160:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.borrowedUSD-t.borrowedUSD},showSorterTooltip:!1,render:function(e,t){return m.a.createElement("div",{className:"fw500"},Object(O.c)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))}},{title:w.a.get("market.borrow_apy"),dataIndex:"balance",key:"4",width:Object(b.a)(window.navigator).any?140:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.borrowedAPY-t.borrowedAPY},showSorterTooltip:!1,ellipsis:!0,render:function(e,t){return m.a.createElement("div",{className:"fw500"},Object(O.i)(Object(O.a)(t.borrowedAPY).times(100),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%")}},{title:r.marketLendTooltipRender(),dataIndex:"",key:"6",ellipsis:!0,width:170,render:function(e,t){return m.a.createElement("div",{className:"fw500"},a[t.jtokenAddress]?Object(O.c)(Object(O.J)(a[t.jtokenAddress]),2,{miniText:.01}):""," ",t.collateralSymbol)}}]},r.state={mobile:Object(b.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||w.a.options.currentLocale,marketData:{markets:[]},pagination:{size:"small",pageSize:300,simple:!1,showSizeChanger:!1,hideOnSinglePage:!0}},r}return Object(i.a)(a,[{key:"renderSummaryHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"block-title"},e),m.a.createElement("div",{className:"block-money"},"$","--"===t?"--":Object(O.i)(t,0)),m.a.createElement("div",{className:"block-subtitle"},a))}},{key:"renderProgress",value:function(e){var t=e.text,a=e.percent,r=void 0===a?0:a,n=e.key,o=void 0===n?0:n,i=e.strokeType,s=void 0===i||i;return m.a.createElement("div",{key:o},m.a.createElement("div",{className:"block-process flex-between"},m.a.createElement("span",{className:"process-title"},t),m.a.createElement("span",{className:"process-text"},this.percentFormat(r))),m.a.createElement(y.a,{className:s?"deposit-stroke":"lend-stroke",percent:100*r,showInfo:!1}))}},{key:"percentFormat",value:function(e){var t=Object(O.a)(100*e).toFormat(2);return t<.01?"< 0.01%":t+"%"}},{key:"renderSummaryFooter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"summary-footer flex-between"},m.a.createElement("div",{className:"c-84869E fs12"},e),m.a.createElement("div",{className:"c-84869E fs12"},t)),m.a.createElement("div",{className:"summary-footer flex-between mt12"},m.a.createElement("div",{className:"c-0F134F fs14"},Object(O.i)(a,0,{needDolar:!0})),m.a.createElement("div",{className:"c-0F134F fs14"},Object(O.i)(r,0))))}},{key:"renderDeposit",value:function(){var e=this.state.marketData;if(e&&e.depositTop3){e.depositTop3;return m.a.createElement("div",{className:"market-summary-block"},this.renderSummaryHeader(w.a.get("market.deposit_size"),e.totalDepositedUSD),this.renderSummaryFooter(w.a.get("market.24hr_deposited"),w.a.get("market.people_amount"),e.totalDepositedUSD24H,e.depositUser))}return m.a.createElement("div",{className:"market-summary-block"},this.renderSummaryHeader(w.a.get("market.deposit_size"),"--"),this.renderSummaryFooter(w.a.get("market.24hr_deposited"),w.a.get("market.people_amount"),"--","--"))}},{key:"renderLend",value:function(){var e=this.state.marketData;if(e&&e.depositTop3)return m.a.createElement("div",{className:"market-summary-block lend-block"},this.renderSummaryHeader(w.a.get("market.borrow_size"),e.totalBorrowedUSD),this.renderSummaryFooter(w.a.get("market.24hr_borrowed"),w.a.get("market.people_amount"),e.totalBorrowUSD24H,e.borrowUser));return m.a.createElement("div",{className:"market-summary-block lend-block"},this.renderSummaryHeader(w.a.get("market.borrow_size"),"--"),this.renderSummaryFooter(w.a.get("market.24hr_borrowed"),w.a.get("market.people_amount"),"--","--"))}},{key:"render",value:function(){var e=this.state.mobile,t=this.props.network.menuFlag;return m.a.createElement("div",{className:e?"":"flex-end"},m.a.createElement(E.a,null),m.a.createElement("div",{className:e?"market-container right-container mobile-right-container":t?"market-container right-container":"market-container right-container max-width"},m.a.createElement("div",{className:"common-title"},w.a.get("market.data_overview")),m.a.createElement("div",{className:"market-summary-blocks"},this.renderDeposit(),this.renderLend()),this.renderMarketSummary(),m.a.createElement(S.a,null)))}}]),a}(m.a.Component))||r)||r)||r),x=Object(h.b)("network")(n=Object(h.c)(n=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.network.setData({routeName:"market"})}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(D,null))}}]),a}(m.a.Component))||n)||n;t.default=x},696:function(e,t,a){},861:function(e,t,a){e.exports=a.p+"static/media/logoSingle.dede80f5.png"}}]);