(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[11],{1418:function(e,t,a){},1483:function(e,t,a){},1484:function(e,t,a){},1495:function(e,t,a){"use strict";a.r(t);var r,n,o,c,l=a(1),s=a.n(l),i=a(4),m=a(8),d=a(14),u=a(17),p=a(16),v=a(0),b=a.n(v),k=a(63),j=a(21),w=a(398),g=a(397),E=a(37),f=a(2),N=a.n(f),y=a(89),O=a(1413),h=a(694),D=a(145),_=a(67),A=a(53),x=a(3),S=a(9),T=D.a.Option,C=Object(j.b)("network")(r=Object(j.b)("lend")(r=Object(j.c)(r=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",r.getMarketData(),r.props.lend.getMintInfo(),e.next=5,r.props.network.getNowTime();case 5:r.props.network.getCountTime(),r.props.lend.setVariablesInterval();case 7:case"end":return e.stop()}}),e)}))),r.setSort=function(e){r.setState({sortValue:e});var t=r.props.lend.assetList,a=r.state,n=a.markets,o=a.defaultMarkets,c=[],l=n.map((function(e){var a=Object(x.K)(e,t),r=a.depositApy,n=a.mintApy;return Object(E.a)(Object(E.a)({},e),{},{depositSortApy:Object(x.a)(r).plus(n).toNumber()})}));"depositDesc"===e?c=l.sort((function(e,t){return t.depositSortApy-e.depositSortApy})):"depositAsc"===e?c=l.sort((function(e,t){return e.depositSortApy-t.depositSortApy})):"borrowDesc"===e?c=l.sort((function(e,t){return t.borrowedAPY-e.borrowedAPY})):"borrowAsc"===e?c=l.sort((function(e,t){return e.borrowedAPY-t.borrowedAPY})):"default"===e&&(c=o),r.setState({markets:c})},r.sortRender=function(){var e=r.state,t=e.sortValue,a=e.lang;return b.a.createElement("div",{className:"apy-sort-m"},b.a.createElement(D.a,{value:["depositDesc","depositAsc"].includes(t)?N.a.get("depositapy"):["borrowDesc","borrowAsc"].includes(t)?N.a.get("borrowapy"):N.a.get("sort_apy"),style:{width:100,height:20,lineHeight:20},onChange:r.setSort,className:"sort-select"+("en-US"===a?" en":"")+(["depositDesc","borrowDesc"].includes(t)?" desc":"")+(["depositAsc","borrowAsc"].includes(t)?" asc":""),dropdownClassName:"sort-select-down",dropdownAlign:{points:["tr","br"],offset:[0,0],overflow:{adjustX:0,adjustY:0}}},b.a.createElement(T,{value:"depositDesc"},b.a.createElement("div",{className:"div-item"+("depositDesc"===t?" active":"")},b.a.createElement("span",null,N.a.get("depositapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,N.a.get("up_to_down")))),b.a.createElement(T,{value:"depositAsc"},b.a.createElement("div",{className:"div-item"+("depositAsc"===t?" active":"")},b.a.createElement("span",null,N.a.get("depositapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,N.a.get("down_to_up")))),b.a.createElement(T,{value:"borrowDesc"},b.a.createElement("div",{className:"div-item"+("borrowDesc"===t?" active":"")},b.a.createElement("span",null,N.a.get("borrowapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,N.a.get("up_to_down")))),b.a.createElement(T,{value:"borrowAsc"},b.a.createElement("div",{className:"div-item"+("borrowAsc"===t?" active":"")},b.a.createElement("span",null,N.a.get("borrowapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,N.a.get("down_to_up")))),b.a.createElement(T,{value:"default"},b.a.createElement("div",{className:"div-item"+("default"===t?" active":"")},b.a.createElement("span",null,N.a.get("default_sort"))))))},r.marketCardRender=function(e){var t=r.props.lend,a=t.assetList,n=t.marketList,o=t.trxPrice;return b.a.createElement("div",{className:"market-cards"},e.map((function(e){return b.a.createElement(_.b,{to:"/marketDetail?jtokenAddress="+e.jtokenAddress},b.a.createElement("div",{className:"market-card",onClick:function(){var t;gtag("event","click",{event_category:"H5",event_label:"market_".concat(null===e||void 0===e||null===(t=e.collateralSymbol)||void 0===t?void 0:t.toLocaleLowerCase())})}},b.a.createElement("div",{className:"card-top"},b.a.createElement("img",{className:"mc-logo",src:e.logoUrl?e.logoUrl:defaultIcon,onError:function(e){e.target.onerror=null,e.target.src=defaultIcon},alt:""}),b.a.createElement("span",{className:"mc-symbol"},e.collateralSymbol),b.a.createElement("span",{className:"mc-subtitle"},e.collateralName)),b.a.createElement("div",{className:"card-bottom"},b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},N.a.get("market.deposit_size")),b.a.createElement("div",{className:"cb-value"},Object(x.d)(e.depositedUSD,2,{miniText:.01,needDolar:!0}))),b.a.createElement("div",{className:"cb-ele cb-right"},b.a.createElement("div",{className:"cb-title"},b.a.createElement(y.a,{overlayClassName:"market-tooltip-overlay",title:b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"tooltip-title"},N.a.get("v2.tip1")),b.a.createElement("div",{className:"with-point"},N.a.get("v2.tip2")),b.a.createElement("div",{className:"with-point"},N.a.get("v2.tip3"))),placement:"top",trigger:["click","hover"]},b.a.createElement("span",{className:"tooltip-icon"})),b.a.createElement("span",null,N.a.get("market.deposit_apy"))),b.a.createElement("div",{className:"cb-value"},b.a.createElement("span",{className:"single"},Object(x.j)(Object(x.a)(Object(x.a)(Object(x.K)(e,a).depositApy)._toFixed(2,1)).plus(Object(x.a)(Object(x.K)(e,a).mintApy)._toFixed(2,1)),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%"),S.b.hideMarketMintIcon.indexOf(e.collateralSymbol)<0&&b.a.createElement("span",{className:"ic-fire"})))),b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},N.a.get("market.borrow_overview")),b.a.createElement("div",{className:"cb-value"},Object(x.d)(e.borrowedUSD,2,{miniText:.01,needDolar:!0}))),b.a.createElement("div",{className:"cb-ele cb-right"},b.a.createElement("div",{className:"cb-title"},N.a.get("market.borrow_apy")),b.a.createElement("div",{className:"cb-value"},Object(x.j)(Object(x.a)(e.borrowedAPY).times(100),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%"))),b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},N.a.get("market.detail_collateral")),b.a.createElement("div",{className:"cb-value"},Object(x.cb)(Object(x.a)(e.collateralFactor).div(S.b.tokenDefaultPrecision),{decimal:16,miniText:"0.0000000000000001",multi100:!0}))),b.a.createElement("div",{className:"cb-ele cb-right"},b.a.createElement("div",{className:"cb-title"},b.a.createElement("span",null,b.a.createElement(y.a,{overlayClassName:"market-tooltip-overlay",title:N.a.getHTML("v2.price_tooltip"),placement:"top",trigger:["click","hover"]},b.a.createElement("span",{className:"tooltip-icon"})),b.a.createElement("span",null,N.a.get("market.detail_price")))),b.a.createElement("div",{className:"cb-value"},n[e.jtokenAddress]&&Object(x.k)(Object(x.a)(n[e.jtokenAddress].assetPrice).times(o).times(Object(x.a)(10).pow(n[e.jtokenAddress].collateralDecimal)).div(S.b.tokenDefaultPrecision).div(S.b.tokenDefaultPrecision).div(S.b.defaultPrecision),6,{needDolar:!0,miniText:"0.000001"})))),b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},N.a.get("v2.liquidity")),b.a.createElement("div",{className:"cb-value"},b.a.createElement(y.a,{overlayClassName:"market-tooltip-overlay short right",placement:"bottom",title:"".concat(N.a.get("v2.utilization_rate")," ").concat(n[e.jtokenAddress]?Object(x.gb)(Object(x.a)(n[e.jtokenAddress].borrowedUSD).div(n[e.jtokenAddress].depositedUSD).times(100),2):"--","%")},b.a.createElement("div",{className:"fw500"},n[e.jtokenAddress]?Object(x.d)(Object(x.T)(n[e.jtokenAddress]),2,{miniText:.01}):""," ",e.collateralSymbol),n[e.jtokenAddress]&&b.a.createElement("div",{className:"pipe"},b.a.createElement("div",{className:"active-bar",style:{width:Object(x.gb)(Object(x.a)(n[e.jtokenAddress].borrowedUSD).div(n[e.jtokenAddress].depositedUSD).times(100),2)+"%"}})))))))))})))},r.getMarketData=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(A.e)();case 3:if((t=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:a=t.data.markets.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{key:e.id})})),t.data.markets=a,r.setState({marketData:t.data,markets:a,defaultMarkets:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("getMarketData",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.state={mobile:Object(k.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||N.a.options.currentLocale,marketData:{markets:[]},pagination:{size:"small"},markets:[],defaultMarkets:[],sortValue:"default"},r}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){this.props.lend.clearVariablesInterval()}},{key:"render",value:function(){var e=this.state.markets;return b.a.createElement("div",{className:"market-summary-list-v2"},b.a.createElement("div",{className:"msl-title flex aic jcsb w-100"},b.a.createElement("div",{className:"flex aic jcsb w-100"},b.a.createElement("div",{className:"flex aic jcsb all-market"},N.a.get("index.markets_title")),this.sortRender())),this.marketCardRender(e))}}]),a}(b.a.Component))||r)||r)||r,P=a(105),U=a.n(P),M=(a(1483),a(1484),{"en-us":/JustLend DAO Launches Supply Mining Phase/,"zh-cn":/JustLend DAO \u5f00\u542f(\u7b2c[^\\x00-\\xff]+\u671f)\u5b58\u6b3e\u6316\u77ff\u6d3b\u52a8/,"zh-tc":/JustLend DAO \u5f00\u542f(\u7b2c[^\\x00-\\xff]+\u671f)\u5b58\u6b3e\u6316\u77ff\u6d3b\u52a8/}),L=Object(j.b)("network")(n=Object(j.b)("lend")(n=Object(j.c)(n=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){var t,a,n,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",r.getMarketData(),r.props.lend.getMintInfo(),e.next=5,r.props.network.getNowTime();case 5:return r.props.network.getCountTime(),t=r.props.lend.lang,r.props.lend.setVariablesInterval(),e.next=10,Object(A.a)({perPageCount:20,lang:t});case 10:a=e.sent,n=M[t.toLowerCase()]||M["en-us"],(o=a.find((function(e){return n.test(e.title)})))&&"zh-tc"===t.toLowerCase()&&(null===(c=o.title.match(n))||void 0===c?void 0:c[1])&&(o.title="JustLend DAO \u958b\u555f".concat(c[1],"\u5b58\u6b3e\u6316\u7926\u6d3b\u52d5")),r.setState({announcement:o||(null===a||void 0===a?void 0:a[0])||{}}),gtag("event","Pageview",{event_category:"PC_V1.5",event_label:"market-new"});case 16:case"end":return e.stop()}}),e)}))),r.depositApyTooltipRender=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(y.a,{title:Object(x.hb)(N.a.get("v2.tip1"),[{title:N.a.get("v2.tip2")},{title:N.a.get("v2.tip3")}]),placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown"},b.a.createElement("span",{className:"j-tooltip-icon j-info-icon mr-4"})),b.a.createElement("span",null,N.a.get("market.deposit_apy")))},r.tooltipHeadRender=function(e,t){return b.a.createElement(b.a.Fragment,null,b.a.createElement(y.a,{overlayClassName:"market-tooltip-overlay",title:t,placement:"topRight",trigger:["click","hover"],align:{offset:[14,0]}},b.a.createElement("span",{className:"j-tooltip-icon j-info-icon mr-4"})),b.a.createElement("span",null,e))},r.marketLendTooltipRender=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(y.a,{title:Object(x.hb)(N.a.get("v2.tip8"),[{title:N.a.get("v2.tip9")},{title:N.a.get("v2.tip10")}]),placement:"top",arrowPointAtCenter:!0,trigger:["click","hover"],overlayClassName:"j-tooltip-dropdown"},b.a.createElement("span",{className:"j-tooltip-icon j-info-icon mr-4"})),N.a.get("v2.liquidity"))},r.renderMarketSummary=function(){var e=r.state.marketData.markets;return b.a.createElement("div",{className:"bs-v2-list"},b.a.createElement("div",{className:"market-top"},b.a.createElement("div",null,N.a.get("v2.markets"))),b.a.createElement(O.a,{onRow:function(e){return{onClick:function(t){var a,r;window.open(window.location.origin+((null===(a=window.location)||void 0===a?void 0:a.pathname)||"")+window.location.search+"#/marketDetailNew?jtokenAddress="+e.jtokenAddress),gtag("event","click",{event_category:"PC_V1.5",event_label:"market_".concat(null===e||void 0===e||null===(r=e.collateralSymbol)||void 0===r?void 0:r.toLocaleLowerCase())})}}},columns:r.getInfoColumns(),dataSource:e,pagination:!1,locale:{emptyText:x.h},scroll:{x:Object(k.a)(window.navigator).any?500:770}}))},r.getMarketData=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(A.e)();case 3:if((t=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:a=t.data.markets.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{key:e.id})})),t.data.markets=a,r.setState({marketData:t.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("getMarketData",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.getInfoColumns=function(){var e=r.props.lend,t=e.assetList,a=e.marketList,n=e.trxPrice,o=r.props.network.multyRealStart;return[{title:N.a.get("market.asset"),dataIndex:"collateralSymbol",key:"1",ellipsis:!0,fixed:"left",width:Object(k.a)(window.navigator).any?60:"auto",render:function(e,t){return b.a.createElement("div",{className:"j-list-logo"},b.a.createElement("img",{src:t.logoUrl?t.logoUrl:U.a,onError:function(e){e.target.onerror=null,e.target.src=U.a},alt:""}),b.a.createElement("div",{className:"j-token"},b.a.createElement("div",{className:"token-names"},"".concat(e)),b.a.createElement("div",{className:"description"},"".concat(t.collateralName))))}},{title:N.a.get("market.deposit_size"),dataIndex:"depositApy",key:"2",width:Object(k.a)(window.navigator).any?160:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.depositedUSD-t.depositedUSD},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"fw500"},Object(x.d)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))}},{title:r.depositApyTooltipRender(),dataIndex:"depositedAPY",key:"3",width:Object(k.a)(window.navigator).any?140:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){var a=r.props.lend.assetList,n=Object(x.K)(t,a);return Object(x.K)(e,a).totalApy-n.totalApy},showSorterTooltip:!1,render:function(e,a){var r=Object(x.K)(a,t),n=r.depositApy,c=r.mintApy,l=r.mintApyWithUSDD;return b.a.createElement("div",{className:"fw500 right "+(!o||S.b.hideMarketMintIcon.indexOf(a.collateralSymbol)>-1?"":"fire")},b.a.createElement(y.a,{overlayClassName:"j-tooltip-dropdown market-tooltip-overlay short",overlayInnerStyle:{width:300},title:Object(x.hb)(N.a.get("v2.deposit_apy_hover"),[{title:N.a.get("v2.deposit_basic_apy")+(Object(x.j)(n,2,{per:!0,miniText:"0.01"})+"%")},{title:S.b.usddMint.includes(a.jtokenAddress)?N.a.get("v2.deposit_mining_apy"):N.a.get("v2.deposit_mining_apy")+(S.b.usddMint.includes(a.jtokenAddress)?"".concat(Object(x.j)(l,2,{per:!0,miniText:"0.01"})):Object(x.j)(c,2,{per:!0,miniText:"0.01"})+"%")},{title:S.b.usddMint.includes(a.jtokenAddress)&&b.a.createElement("div",null,N.a.get("usddapy.hover2"))}]),placement:"bottom"},b.a.createElement("span",{className:"fw500 j-deposit-apy"},Object(x.j)(Object(x.a)(Object(x.a)(n)._toFixed(2,1)).plus(Object(x.a)(c)._toFixed(2,1)),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%")))}},{title:N.a.get("market.borrow_overview"),dataIndex:"totalCashNew",key:"5",width:Object(k.a)(window.navigator).any?160:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.borrowedUSD-t.borrowedUSD},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"fw500"},Object(x.d)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))}},{title:N.a.get("market.borrow_apy"),dataIndex:"balance",key:"4",width:Object(k.a)(window.navigator).any?140:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.borrowedAPY-t.borrowedAPY},showSorterTooltip:!1,ellipsis:!0,render:function(e,t){return b.a.createElement("div",{className:"fw500 mr-6"},Object(x.j)(Object(x.a)(t.borrowedAPY).times(100),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%")}},{title:r.tooltipHeadRender(N.a.get("v2.detail_collateral"),N.a.get("v2.market_detail_collateral_tip")),dataIndex:"collateralFactor",key:"6",sortDirections:["descend","ascend"],sorter:function(e,t){return e.collateralFactor-t.collateralFactor},showSorterTooltip:!1,ellipsis:!0,width:140,render:function(e,t){return b.a.createElement("div",{className:"fw500"},Object(x.cb)(Object(x.a)(e).div(S.b.tokenDefaultPrecision),{decimal:16,miniText:"0.0000000000000001",multi100:!0}))}},{title:r.marketLendTooltipRender(),dataIndex:"",key:"7",ellipsis:!0,sortDirections:["descend","ascend"],sorter:function(e,t){if(a[e.jtokenAddress]&&a[t.jtokenAddress])return Object(x.T)(a[e.jtokenAddress]).minus(Object(x.T)(a[t.jtokenAddress]))},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"utilization-cell-wrap"},b.a.createElement(y.a,{overlayClassName:"market-tooltip-overlay short right",placement:"bottom",title:"".concat(N.a.get("v2.utilization_rate")," ").concat(a[t.jtokenAddress]?Object(x.gb)(Object(x.a)(a[t.jtokenAddress].borrowedUSD).div(a[t.jtokenAddress].depositedUSD).times(100),2):"--","%")},b.a.createElement("div",{className:"utilization-cell-inner"},b.a.createElement("div",{className:"fw500 utilization-cell"},a[t.jtokenAddress]?Object(x.d)(Object(x.T)(a[t.jtokenAddress]),2,{miniText:.01}):""," ",t.collateralSymbol),a[t.jtokenAddress]&&b.a.createElement("div",{className:"pipe"},b.a.createElement("div",{className:"active-bar",style:{width:Object(x.gb)(Object(x.a)(a[t.jtokenAddress].borrowedUSD).div(a[t.jtokenAddress].depositedUSD).times(100),2)+"%"}})))))}},{title:r.tooltipHeadRender(N.a.get("v2.market_detail_price_text"),N.a.get("v2.price_tooltip")),dataIndex:"",key:"8",ellipsis:!0,sortDirections:["descend","ascend"],sorter:function(e,t){if(a[e.jtokenAddress]&&a[t.jtokenAddress])return Object(x.a)(a[e.jtokenAddress].assetPrice).times(Object(x.a)(10).pow(a[e.jtokenAddress].collateralDecimal)).minus(Object(x.a)(a[t.jtokenAddress].assetPrice).times(Object(x.a)(10).pow(a[t.jtokenAddress].collateralDecimal)))},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"fw500"},a[t.jtokenAddress]&&Object(x.k)(Object(x.a)(a[t.jtokenAddress].assetPrice).times(n).times(Object(x.a)(10).pow(a[t.jtokenAddress].collateralDecimal)).div(S.b.tokenDefaultPrecision).div(S.b.tokenDefaultPrecision).div(S.b.defaultPrecision),6,{needDolar:!0,miniText:"0.000001"}))}}]},r.state={mobile:Object(k.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||N.a.options.currentLocale,marketData:{markets:[]},pagination:{size:"small",pageSize:300,simple:!1,showSizeChanger:!1,hideOnSinglePage:!0},announcement:{}},r}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){this.props.lend.clearVariablesInterval()}},{key:"renderSummaryHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"market-summary-wrap"},b.a.createElement("div",{className:"block-title"},e),b.a.createElement("div",{className:"block-money"},"$","--"===t?"--":Object(x.j)(t,0))))}},{key:"renderProgress",value:function(e){var t=e.text,a=e.percent,r=void 0===a?0:a,n=e.key,o=void 0===n?0:n,c=e.strokeType,l=void 0===c||c;return b.a.createElement("div",{key:o},b.a.createElement("div",{className:"block-process flex-between"},b.a.createElement("span",{className:"process-title"},t),b.a.createElement("span",{className:"process-text"},this.percentFormat(r))),b.a.createElement(h.a,{className:l?"deposit-stroke":"lend-stroke",percent:100*r,showInfo:!1}))}},{key:"percentFormat",value:function(e){var t=Object(x.a)(100*e).toFormat(2);return t<.01?"< 0.01%":t+"%"}},{key:"renderSummaryFooter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return b.a.createElement("div",{className:"mp-15"},b.a.createElement("div",{className:"summary-footer flex-between"},b.a.createElement("div",{className:""},e),b.a.createElement("div",{className:""},t)),b.a.createElement("div",{className:"summary-footer flex-between second"},b.a.createElement("div",{className:"num"},Object(x.j)(a,0,{needDolar:!0})),b.a.createElement("div",{className:"num"},Object(x.j)(r,0))))}},{key:"renderDeposit",value:function(){var e=this.state.marketData;return e&&e.depositTop3?b.a.createElement("div",{className:"market-summary-block"},this.renderSummaryHeader(N.a.get("market.deposit_size"),e.totalDepositedUSD),this.renderSummaryFooter(N.a.get("market.24hr_deposited"),N.a.get("market.detail_number_of_deposit_accounts"),e.totalDepositedUSD24H,e.depositUser)):b.a.createElement("div",{className:"market-summary-block"},this.renderSummaryHeader(N.a.get("market.deposit_size"),"--"),this.renderSummaryFooter(N.a.get("market.24hr_deposited"),N.a.get("market.detail_number_of_deposit_accounts"),"--","--"))}},{key:"renderLend",value:function(){var e=this.state.marketData;return e&&e.depositTop3?b.a.createElement("div",{className:"market-summary-block lend-block"},this.renderSummaryHeader(N.a.get("market.borrow_overview"),e.totalBorrowedUSD),this.renderSummaryFooter(N.a.get("market.24hr_borrowed"),N.a.get("market.detail_number_of_borrow_accounts"),e.totalBorrowUSD24H,e.borrowUser)):b.a.createElement("div",{className:"market-summary-block lend-block"},this.renderSummaryHeader(N.a.get("market.borrow_overview"),"--"),this.renderSummaryFooter(N.a.get("market.24hr_borrowed"),N.a.get("market.detail_number_of_borrow_accounts"),"--","--"))}},{key:"renderRewards",value:function(){var e=this.state.marketData;return b.a.createElement("div",{className:"market-summary-block reward-block"},b.a.createElement("div",{className:"block-title"},N.a.get("v2.daily_rewards")),b.a.createElement("div",{className:"reward-amount"},Object(x.j)(null===e||void 0===e?void 0:e.farmRewardUSD24h,0,{needDolar:!0})))}},{key:"render",value:function(){var e=this.state,t=e.mobile,a=e.announcement,r=this.props.network.menuFlag,n=this.props.lend,o=n.marketDataSource,c=n.assetList;return b.a.createElement("div",{className:"j-market "+(t?"market-container mobile-right-container":r?"market-container":"market-container max-width")},b.a.createElement("div",{className:"flexSPA top-header"},b.a.createElement("div",{className:"common-title title-wrap"},N.a.get("market.overview")),Object.keys(a).length>0&&b.a.createElement("div",{className:"j-announce for-pc"},b.a.createElement("span",{className:"announce-icon"}),b.a.createElement("span",{className:"announce-content"}," ",a.title,",\xa0\xa0"),b.a.createElement("span",{className:"announce-content"},N.a.getHTML("v2.mining_apy",{value:Object(x.j)(Object(x.C)(o,c),2,{per:!0,miniText:"0.01"})}),"%"),b.a.createElement("span",{className:"market-up"}),b.a.createElement("a",{className:"announce-link",href:"".concat(null===a||void 0===a?void 0:a.html_url),target:"_blank",rel:"noopener noreferrer"},N.a.get("v2.view_announcement")),b.a.createElement("span",{className:"announce-arrow-icon"}))),b.a.createElement("div",{className:"market-v2-summary-blocks"},this.renderDeposit(),this.renderLend(),this.renderRewards(),Object.keys(a).length>0&&b.a.createElement("div",{className:"j-announce for-mobile"},b.a.createElement("div",{className:"j-announce-top"},b.a.createElement("span",{className:"announce-icon"}),b.a.createElement("div",null,b.a.createElement("span",{className:"announce-content"}," ",a.title,",\xa0\xa0"),b.a.createElement("span",{className:"announce-content"},N.a.getHTML("v2.mining_apy",{value:Object(x.j)(Object(x.C)(o,c),2,{per:!0,miniText:"0.01"})}),"%"))),b.a.createElement("div",{className:"j-announce-bottom"},b.a.createElement("a",{className:"announce-link",href:"".concat(null===a||void 0===a?void 0:a.html_url),target:"_blank",rel:"noopener noreferrer"},N.a.get("v2.view_announcement")),b.a.createElement("span",{className:"announce-arrow-icon"})))),t?b.a.createElement(C,null):this.renderMarketSummary())}}]),a}(b.a.Component))||n)||n)||n,I=a(249),F=(a(1418),a(699),Object(j.b)("network")(o=Object(j.b)("lend")(o=Object(j.b)("system")(o=Object(j.b)("pool")(o=Object(j.c)(o=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.mobile){e.next=3;break}return window.location.hash=window.location.hash.replace("/marketNew","/market"),e.abrupt("return");case 3:case"end":return e.stop()}}),e)}))),r.state={mobile:Object(k.a)(window.navigator).any},r}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.lend.theme,t=this.state.mobile;return b.a.createElement("div",{className:"j-wrapper market "+e},b.a.createElement(w.a,{hideBackBtn:!0}),b.a.createElement("div",{className:"j-market"},b.a.createElement(L,null)),t?b.a.createElement(I.a,null):b.a.createElement(g.a,null))}}]),a}(b.a.Component))||o)||o)||o)||o)||o),R=Object(j.b)("network")(c=Object(j.c)(c=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.network.setData({routeName:"market"});case 1:case"end":return e.stop()}}),e)}))),r}return Object(d.a)(a,[{key:"render",value:function(){return b.a.createElement(F,null)}}]),a}(b.a.Component))||c)||c;t.default=R}}]);