(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[9],{1519:function(e,t,a){},1528:function(e,t,a){e.exports=a.p+"static/media/search-icon.2fa9a865.svg"},1529:function(e,t,a){e.exports=a.p+"static/media/search-icon.2364accb.svg"},1530:function(e,t,a){},1583:function(e,t,a){},1584:function(e,t,a){},1598:function(e,t,a){"use strict";a.r(t);var r,n,o,l,c=a(1),s=a.n(c),i=a(4),m=a(8),d=a(13),u=a(18),p=a(19),v=a(0),b=a.n(v),k=a(57),j=a(24),w=a(449),g=a(447),f=a(33),E=a(2),h=a.n(E),N=a(113),y=a(360),O=a(1513),D=a(764),_=a(159),A=a(69),x=a(55),S=a(3),C=a(9),T=_.a.Option,L=Object(j.b)("network")(r=Object(j.b)("lend")(r=Object(j.c)(r=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",r.getMarketData(),r.props.lend.getMintInfo(),e.next=5,r.props.network.getNowTime();case 5:r.props.network.getCountTime(),r.props.lend.setVariablesInterval();case 7:case"end":return e.stop()}}),e)}))),r.setSort=function(e){r.setState({sortValue:e});var t=r.props.lend.assetList,a=r.state,n=a.markets,o=a.defaultMarkets,l=[],c=n.map((function(e){var a=Object(S.K)(e,t),r=a.depositApy,n=a.mintApy;return Object(f.a)(Object(f.a)({},e),{},{depositSortApy:Object(S.a)(r).plus(n).toNumber()})}));"depositDesc"===e?l=c.sort((function(e,t){return t.depositSortApy-e.depositSortApy})):"depositAsc"===e?l=c.sort((function(e,t){return e.depositSortApy-t.depositSortApy})):"borrowDesc"===e?l=c.sort((function(e,t){return t.borrowedAPY-e.borrowedAPY})):"borrowAsc"===e?l=c.sort((function(e,t){return e.borrowedAPY-t.borrowedAPY})):"default"===e&&(l=o),r.setState({markets:l})},r.sortRender=function(){var e=r.state,t=e.sortValue,a=e.lang;return b.a.createElement("div",{className:"apy-sort-m"},b.a.createElement(_.a,{value:["depositDesc","depositAsc"].includes(t)?h.a.get("depositapy"):["borrowDesc","borrowAsc"].includes(t)?h.a.get("borrowapy"):h.a.get("sort_apy"),style:{width:100,height:20,lineHeight:20},onChange:r.setSort,className:"sort-select"+("en-US"===a?" en":"")+(["depositDesc","borrowDesc"].includes(t)?" desc":"")+(["depositAsc","borrowAsc"].includes(t)?" asc":""),dropdownClassName:"sort-select-down",dropdownAlign:{points:["tr","br"],offset:[0,0],overflow:{adjustX:0,adjustY:0}}},b.a.createElement(T,{value:"depositDesc"},b.a.createElement("div",{className:"div-item"+("depositDesc"===t?" active":"")},b.a.createElement("span",null,h.a.get("depositapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,h.a.get("up_to_down")))),b.a.createElement(T,{value:"depositAsc"},b.a.createElement("div",{className:"div-item"+("depositAsc"===t?" active":"")},b.a.createElement("span",null,h.a.get("depositapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,h.a.get("down_to_up")))),b.a.createElement(T,{value:"borrowDesc"},b.a.createElement("div",{className:"div-item"+("borrowDesc"===t?" active":"")},b.a.createElement("span",null,h.a.get("borrowapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,h.a.get("up_to_down")))),b.a.createElement(T,{value:"borrowAsc"},b.a.createElement("div",{className:"div-item"+("borrowAsc"===t?" active":"")},b.a.createElement("span",null,h.a.get("borrowapy")),b.a.createElement("span",{className:"long-arrow"}),b.a.createElement("span",null,h.a.get("down_to_up")))),b.a.createElement(T,{value:"default"},b.a.createElement("div",{className:"div-item"+("default"===t?" active":"")},b.a.createElement("span",null,h.a.get("default_sort"))))))},r.marketCardRender=function(e){var t=r.props.lend,a=t.assetList,n=t.marketList,o=t.trxPrice;return b.a.createElement("div",{className:"market-cards"},e.map((function(e){return b.a.createElement(A.b,{to:"/marketDetail?jtokenAddress="+e.jtokenAddress},b.a.createElement("div",{className:"market-card",onClick:function(){var t;gtag("event","click",{event_category:"H5",event_label:"market_".concat(null===e||void 0===e||null===(t=e.collateralSymbol)||void 0===t?void 0:t.toLocaleLowerCase())})}},b.a.createElement("div",{className:"card-top"},b.a.createElement("img",{className:"mc-logo",src:e.logoUrl?e.logoUrl:defaultIcon,onError:function(e){e.target.onerror=null,e.target.src=defaultIcon},alt:""}),b.a.createElement("span",{className:"mc-symbol"},e.collateralSymbol),b.a.createElement("span",{className:"mc-subtitle"},e.collateralName)),b.a.createElement("div",{className:"card-bottom"},b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},h.a.get("market.deposit_size")),b.a.createElement("div",{className:"cb-value"},Object(S.d)(e.depositedUSD,2,{miniText:.01,needDolar:!0}))),b.a.createElement("div",{className:"cb-ele cb-right"},b.a.createElement("div",{className:"cb-title"},b.a.createElement(N.a,{overlayClassName:"market-tooltip-overlay",title:b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"tooltip-title"},h.a.get("v2.tip1")),b.a.createElement("div",{className:"with-point"},h.a.get("v2.tip2")),b.a.createElement("div",{className:"with-point"},h.a.get("v2.tip3"))),placement:"top",trigger:["click","hover"]},b.a.createElement("span",{className:"tooltip-icon"})),b.a.createElement("span",null,h.a.get("market.deposit_apy"))),b.a.createElement("div",{className:"cb-value"},b.a.createElement("span",{className:"single"},Object(S.j)(Object(S.a)(Object(S.a)(Object(S.K)(e,a).depositApy)._toFixed(2,1)).plus(Object(S.a)(Object(S.K)(e,a).mintApy)._toFixed(2,1)),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%"),C.b.hideMarketMintIcon.indexOf(e.collateralSymbol)<0&&b.a.createElement("span",{className:"ic-fire"})))),b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},h.a.get("market.borrow_overview")),b.a.createElement("div",{className:"cb-value"},Object(S.d)(e.borrowedUSD,2,{miniText:.01,needDolar:!0}))),b.a.createElement("div",{className:"cb-ele cb-right"},b.a.createElement("div",{className:"cb-title"},h.a.get("market.borrow_apy")),b.a.createElement("div",{className:"cb-value"},Object(S.j)(Object(S.a)(e.borrowedAPY).times(100),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%"))),b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},h.a.get("market.detail_collateral")),b.a.createElement("div",{className:"cb-value"},Object(S.db)(Object(S.a)(e.collateralFactor).div(C.b.tokenDefaultPrecision),{decimal:16,miniText:"0.0000000000000001",multi100:!0}))),b.a.createElement("div",{className:"cb-ele cb-right"},b.a.createElement("div",{className:"cb-title"},b.a.createElement("span",null,b.a.createElement(N.a,{overlayClassName:"market-tooltip-overlay",title:h.a.getHTML("v2.price_tooltip"),placement:"top",trigger:["click","hover"]},b.a.createElement("span",{className:"tooltip-icon"})),b.a.createElement("span",null,h.a.get("market.detail_price")))),b.a.createElement("div",{className:"cb-value"},n[e.jtokenAddress]&&Object(S.k)(Object(S.a)(n[e.jtokenAddress].assetPrice).times(o).times(Object(S.a)(10).pow(n[e.jtokenAddress].collateralDecimal)).div(C.b.tokenDefaultPrecision).div(C.b.tokenDefaultPrecision).div(C.b.defaultPrecision),6,{needDolar:!0,miniText:"0.000001"})))),b.a.createElement("div",{className:"flex aic jcsb"},b.a.createElement("div",{className:"cb-ele"},b.a.createElement("div",{className:"cb-title"},h.a.get("v2.liquidity")),b.a.createElement("div",{className:"cb-value"},b.a.createElement(N.a,{overlayClassName:"market-tooltip-overlay short right",placement:"bottom",title:"".concat(h.a.get("v2.utilization_rate")," ").concat(n[e.jtokenAddress]?Object(S.ib)(Object(S.a)(n[e.jtokenAddress].borrowedUSD).div(n[e.jtokenAddress].depositedUSD).times(100),2):"--","%")},b.a.createElement("div",{className:"fw500"},n[e.jtokenAddress]?Object(S.d)(Object(S.U)(n[e.jtokenAddress]),2,{miniText:.01}):""," ",e.collateralSymbol),n[e.jtokenAddress]&&b.a.createElement("div",{className:"pipe"},b.a.createElement("div",{className:"active-bar",style:{width:Object(S.ib)(Object(S.a)(n[e.jtokenAddress].borrowedUSD).div(n[e.jtokenAddress].depositedUSD).times(100),2)+"%"}})))))))))})))},r.getMarketData=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.e)();case 3:if((t=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:a=t.data.markets.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{key:e.id})})),t.data.markets=a,r.setState({marketData:t.data,markets:a,defaultMarkets:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("getMarketData",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.state={mobile:Object(k.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||h.a.options.currentLocale,marketData:{markets:[]},pagination:{size:"small"},markets:[],defaultMarkets:[],sortValue:"default"},r}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){this.props.lend.clearVariablesInterval()}},{key:"render",value:function(){var e=this.state.markets;return b.a.createElement("div",{className:"market-summary-list-v2"},b.a.createElement("div",{className:"msl-title flex aic jcsb w-100"},b.a.createElement("div",{className:"flex aic jcsb w-100"},b.a.createElement("div",{className:"flex aic jcsb all-market"},h.a.get("index.markets_title")),this.sortRender())),this.marketCardRender(e))}}]),a}(b.a.Component))||r)||r)||r,P=a(1528),U=a.n(P),M=a(1529),I=a.n(M),F=a(115),R=a.n(F),z=(a(1530),a(1583),a(1584),{"en-us":/JustLend DAO Launches Supply Mining Phase/,"zh-cn":/JustLend DAO \u5f00\u542f(\u7b2c[^\\x00-\\xff]+\u671f)\u5b58\u6b3e\u6316\u77ff\u6d3b\u52a8/,"zh-tc":/JustLend DAO \u5f00\u542f(\u7b2c[^\\x00-\\xff]+\u671f)\u5b58\u6b3e\u6316\u77ff\u6d3b\u52a8/}),H=Object(j.b)("network")(n=Object(j.b)("lend")(n=Object(j.c)(n=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){var t,a,n,o,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",r.getMarketData(),r.props.lend.getMintInfo(),e.next=5,r.props.network.getNowTime();case 5:return r.props.network.getCountTime(),r.props.lend.setVariablesInterval(),a=(null===(t=Object(S.I)())||void 0===t?void 0:t.lang)||window.localStorage.getItem("lang")||h.a.options.currentLocale||"en-US",e.next=10,Object(x.a)({perPageCount:20,lang:a});case 10:n=e.sent,o=z[a.toLowerCase()]||z["en-us"],(l=n.find((function(e){return o.test(e.title)})))&&"zh-tc"===a.toLowerCase()&&(null===(c=l.title.match(o))||void 0===c?void 0:c[1])&&(l.title="JustLend DAO \u958b\u555f".concat(c[1],"\u5b58\u6b3e\u6316\u7926\u6d3b\u52d5")),r.setState({announcement:l||(null===n||void 0===n?void 0:n[0])||{}}),gtag("event","Pageview",{event_category:"PC_V1.5",event_label:"market-new"});case 16:case"end":return e.stop()}}),e)}))),r.depositApyTooltipRender=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(N.a,{title:Object(S.jb)(h.a.get("v2.tip1"),[{title:h.a.get("v2.tip2")},{title:h.a.get("v2.tip3")}]),placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown"},b.a.createElement("span",{className:"j-tooltip-icon j-info-icon mr-4"})),b.a.createElement("span",null,h.a.get("market.deposit_apy")))},r.tooltipHeadRender=function(e,t){return b.a.createElement(b.a.Fragment,null,b.a.createElement(N.a,{overlayClassName:"market-tooltip-overlay",title:t,placement:"topRight",trigger:["click","hover"],align:{offset:[14,0]}},b.a.createElement("span",{className:"j-tooltip-icon j-info-icon mr-4"})),b.a.createElement("span",null,e))},r.marketLendTooltipRender=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(N.a,{title:Object(S.jb)(h.a.get("v2.tip8"),[{title:h.a.get("v2.tip9")},{title:h.a.get("v2.tip10")}]),placement:"top",arrowPointAtCenter:!0,trigger:["click","hover"],overlayClassName:"j-tooltip-dropdown"},b.a.createElement("span",{className:"j-tooltip-icon j-info-icon mr-4"})),h.a.get("v2.liquidity"))},r.searchChange=function(e){gtag("event","click",{event_category:"PC_V1.5",event_label:"search_market"}),r.setState({seachValue:(""+e.target.value).trim()})},r.renderMarketSummary=function(){var e=r.state,t=e.marketData,a=e.seachValue,n=t.markets,o="white"===r.props.lend.theme;return a&&(n=n.filter((function(e){var t,r;return(null===(t=e.collateralName)||void 0===t?void 0:t.toLowerCase().indexOf(a.toLowerCase()))>-1||(null===(r=e.collateralSymbol.toLowerCase())||void 0===r?void 0:r.indexOf(a.toLowerCase()))>-1}))),b.a.createElement("div",{className:"bs-v2-list"},b.a.createElement("div",{className:"market-top"},b.a.createElement("div",null,h.a.get("v2.markets")),b.a.createElement("div",{className:"market-right"},b.a.createElement(y.a,{className:"search-token",prefix:b.a.createElement("img",{src:o?I.a:U.a,alt:"search"}),placeholder:h.a.get("v2.search_market"),value:a,onChange:r.searchChange,allowClear:!0}))),b.a.createElement(O.a,{onRow:function(e){return{onClick:function(t){var a,r;window.open(window.location.origin+((null===(a=window.location)||void 0===a?void 0:a.pathname)||"")+window.location.search+"#/marketDetailNew?jtokenAddress="+e.jtokenAddress),gtag("event","click",{event_category:"PC_V1.5",event_label:"market_".concat(null===e||void 0===e||null===(r=e.collateralSymbol)||void 0===r?void 0:r.toLocaleLowerCase())})}}},columns:r.getInfoColumns(),dataSource:n,pagination:!1,locale:{emptyText:S.h},scroll:{x:Object(k.a)(window.navigator).any?500:770}}))},r.getMarketData=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.e)();case 3:if((t=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:a=t.data.markets.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{key:e.id})})),t.data.markets=a,r.setState({marketData:t.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("getMarketData",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.getInfoColumns=function(){var e=r.props.lend,t=e.assetList,a=e.marketList,n=e.trxPrice,o=r.props.network.multyRealStart;return[{title:h.a.get("market.asset"),dataIndex:"collateralSymbol",key:"1",ellipsis:!0,fixed:"left",width:Object(k.a)(window.navigator).any?60:"auto",render:function(e,t){return b.a.createElement("div",{className:"j-list-logo"},b.a.createElement("img",{src:t.logoUrl?t.logoUrl:R.a,onError:function(e){e.target.onerror=null,e.target.src=R.a},alt:""}),b.a.createElement("div",{className:"j-token"},b.a.createElement("div",{className:"token-names"},"".concat(e)),b.a.createElement("div",{className:"description"},"".concat(t.collateralName))))}},{title:h.a.get("market.deposit_size"),dataIndex:"depositApy",key:"2",width:Object(k.a)(window.navigator).any?160:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.depositedUSD-t.depositedUSD},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"fw500"},Object(S.d)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))}},{title:r.depositApyTooltipRender(),dataIndex:"depositedAPY",key:"3",width:Object(k.a)(window.navigator).any?140:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){var a=r.props.lend.assetList,n=Object(S.K)(t,a);return Object(S.K)(e,a).totalApy-n.totalApy},showSorterTooltip:!1,render:function(e,a){var r=Object(S.K)(a,t),n=r.depositApy,l=r.mintApy,c=r.mintApyWithUSDD;return b.a.createElement("div",{className:"fw500 right "+(!o||C.b.hideMarketMintIcon.indexOf(a.collateralSymbol)>-1?"":"fire")},b.a.createElement(N.a,{overlayClassName:"j-tooltip-dropdown market-tooltip-overlay short",overlayInnerStyle:{width:300},title:Object(S.jb)(h.a.get("v2.deposit_apy_hover"),[{title:h.a.get("v2.deposit_basic_apy")+(Object(S.j)(n,2,{per:!0,miniText:"0.01"})+"%")},{title:C.b.usddMint.includes(a.jtokenAddress)?h.a.get("v2.deposit_mining_apy"):h.a.get("v2.deposit_mining_apy")+(C.b.usddMint.includes(a.jtokenAddress)?"".concat(Object(S.j)(c,2,{per:!0,miniText:"0.01"})):Object(S.j)(l,2,{per:!0,miniText:"0.01"})+"%")},{title:C.b.usddMint.includes(a.jtokenAddress)&&b.a.createElement("div",null,h.a.get("usddapy.hover2"))}]),placement:"bottom"},b.a.createElement("span",{className:"fw500 j-deposit-apy"},Object(S.j)(Object(S.a)(Object(S.a)(n)._toFixed(2,1)).plus(Object(S.a)(l)._toFixed(2,1)),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%")))}},{title:h.a.get("market.borrow_overview"),dataIndex:"totalCashNew",key:"5",width:Object(k.a)(window.navigator).any?160:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.borrowedUSD-t.borrowedUSD},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"fw500"},Object(S.d)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))}},{title:h.a.get("market.borrow_apy"),dataIndex:"balance",key:"4",width:Object(k.a)(window.navigator).any?140:"auto",sortDirections:["descend","ascend"],sorter:function(e,t){return e.borrowedAPY-t.borrowedAPY},showSorterTooltip:!1,ellipsis:!0,render:function(e,t){return b.a.createElement("div",{className:"fw500 mr-6"},Object(S.j)(Object(S.a)(t.borrowedAPY).times(100),2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}),"%")}},{title:r.tooltipHeadRender(h.a.get("v2.detail_collateral"),h.a.get("v2.market_detail_collateral_tip")),dataIndex:"collateralFactor",key:"6",sortDirections:["descend","ascend"],sorter:function(e,t){return e.collateralFactor-t.collateralFactor},showSorterTooltip:!1,ellipsis:!0,width:140,render:function(e,t){return b.a.createElement("div",{className:"fw500"},Object(S.db)(Object(S.a)(e).div(C.b.tokenDefaultPrecision),{decimal:16,miniText:"0.0000000000000001",multi100:!0}))}},{title:r.marketLendTooltipRender(),dataIndex:"",key:"7",ellipsis:!0,sortDirections:["descend","ascend"],sorter:function(e,t){if(a[e.jtokenAddress]&&a[t.jtokenAddress])return Object(S.U)(a[e.jtokenAddress]).minus(Object(S.U)(a[t.jtokenAddress]))},showSorterTooltip:!1,render:function(e,t){var r=a[t.jtokenAddress]?Object(S.a)(a[t.jtokenAddress].totalCash).plus(a[t.jtokenAddress].totalBorrow).minus(a[t.jtokenAddress].totalReserve):"--";return b.a.createElement("div",{className:"utilization-cell-wrap"},b.a.createElement("div",{className:"utilization-cell-inner"},b.a.createElement("div",{className:"fw500 utilization-cell"},a[t.jtokenAddress]?Object(S.d)(Object(S.U)(a[t.jtokenAddress]),2,{miniText:.01}):""," ",t.collateralSymbol),a[t.jtokenAddress]&&b.a.createElement(N.a,{overlayClassName:"market-tooltip-overlay short right",className:"pt-8",placement:"bottom",title:"".concat(h.a.get("v2.utilization_rate")," ").concat(a[t.jtokenAddress]?Object(S.a)(r).eq(0)?0:Object(S.ib)(Object(S.a)(a[t.jtokenAddress].totalBorrow).div(r).times(100),2):"--","%")},b.a.createElement("div",null,b.a.createElement("div",{className:"pipe"},b.a.createElement("div",{className:"active-bar",style:{width:Object(S.ib)(Object(S.a)(a[t.jtokenAddress].borrowedUSD).div(a[t.jtokenAddress].depositedUSD).times(100),2)+"%"}}))))))}},{title:r.tooltipHeadRender(h.a.get("v2.market_detail_price_text"),h.a.get("v2.price_tooltip")),dataIndex:"",key:"8",ellipsis:!0,sortDirections:["descend","ascend"],sorter:function(e,t){if(a[e.jtokenAddress]&&a[t.jtokenAddress])return Object(S.a)(a[e.jtokenAddress].assetPrice).times(Object(S.a)(10).pow(a[e.jtokenAddress].collateralDecimal)).minus(Object(S.a)(a[t.jtokenAddress].assetPrice).times(Object(S.a)(10).pow(a[t.jtokenAddress].collateralDecimal)))},showSorterTooltip:!1,render:function(e,t){return b.a.createElement("div",{className:"fw500"},a[t.jtokenAddress]&&Object(S.k)(Object(S.a)(a[t.jtokenAddress].assetPrice).times(n).times(Object(S.a)(10).pow(a[t.jtokenAddress].collateralDecimal)).div(C.b.tokenDefaultPrecision).div(C.b.tokenDefaultPrecision).div(C.b.defaultPrecision),6,{needDolar:!0,miniText:"0.000001"}))}}]},r.state={mobile:Object(k.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||h.a.options.currentLocale,marketData:{markets:[]},pagination:{size:"small",pageSize:300,simple:!1,showSizeChanger:!1,hideOnSinglePage:!0},announcement:{},seachValue:""},r}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){this.props.lend.clearVariablesInterval()}},{key:"renderSummaryHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"market-summary-wrap"},b.a.createElement("div",{className:"block-title"},e),b.a.createElement("div",{className:"block-money"},"$","--"===t?"--":Object(S.j)(t,0))))}},{key:"renderProgress",value:function(e){var t=e.text,a=e.percent,r=void 0===a?0:a,n=e.key,o=void 0===n?0:n,l=e.strokeType,c=void 0===l||l;return b.a.createElement("div",{key:o},b.a.createElement("div",{className:"block-process flex-between"},b.a.createElement("span",{className:"process-title"},t),b.a.createElement("span",{className:"process-text"},this.percentFormat(r))),b.a.createElement(D.a,{className:c?"deposit-stroke":"lend-stroke",percent:100*r,showInfo:!1}))}},{key:"percentFormat",value:function(e){var t=Object(S.a)(100*e).toFormat(2);return t<.01?"< 0.01%":t+"%"}},{key:"renderSummaryFooter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return b.a.createElement("div",{className:"mp-15"},b.a.createElement("div",{className:"summary-footer flex-between"},b.a.createElement("div",{className:""},e),b.a.createElement("div",{className:""},t)),b.a.createElement("div",{className:"summary-footer flex-between second"},b.a.createElement("div",{className:"num"},Object(S.j)(a,0,{needDolar:!0})),b.a.createElement("div",{className:"num"},Object(S.j)(r,0))))}},{key:"renderDeposit",value:function(){var e=this.state.marketData;return e&&e.depositTop3?b.a.createElement("div",{className:"market-summary-block"},this.renderSummaryHeader(h.a.get("market.deposit_size"),e.totalDepositedUSD),this.renderSummaryFooter(h.a.get("market.24hr_deposited"),h.a.get("market.detail_number_of_deposit_accounts"),e.totalDepositedUSD24H,e.depositUser)):b.a.createElement("div",{className:"market-summary-block"},this.renderSummaryHeader(h.a.get("market.deposit_size"),"--"),this.renderSummaryFooter(h.a.get("market.24hr_deposited"),h.a.get("market.detail_number_of_deposit_accounts"),"--","--"))}},{key:"renderLend",value:function(){var e=this.state.marketData;return e&&e.depositTop3?b.a.createElement("div",{className:"market-summary-block lend-block"},this.renderSummaryHeader(h.a.get("market.borrow_overview"),e.totalBorrowedUSD),this.renderSummaryFooter(h.a.get("market.24hr_borrowed"),h.a.get("market.detail_number_of_borrow_accounts"),e.totalBorrowUSD24H,e.borrowUser)):b.a.createElement("div",{className:"market-summary-block lend-block"},this.renderSummaryHeader(h.a.get("market.borrow_overview"),"--"),this.renderSummaryFooter(h.a.get("market.24hr_borrowed"),h.a.get("market.detail_number_of_borrow_accounts"),"--","--"))}},{key:"renderRewards",value:function(){var e=this.state.marketData;return b.a.createElement("div",{className:"market-summary-block reward-block"},b.a.createElement("div",{className:"block-title"},h.a.get("v2.daily_rewards")),b.a.createElement("div",{className:"reward-amount"},Object(S.j)(null===e||void 0===e?void 0:e.farmRewardUSD24h,0,{needDolar:!0})))}},{key:"render",value:function(){var e=this.state,t=e.mobile,a=e.announcement,r=this.props.network.menuFlag,n=this.props.lend,o=n.marketDataSource,l=n.assetList;return b.a.createElement("div",{className:"j-market "+(t?"market-container mobile-right-container":r?"market-container":"market-container max-width")},b.a.createElement("div",{className:"flexSPA top-header"},b.a.createElement("div",{className:"common-title title-wrap"},h.a.get("market.overview")),Object.keys(a).length>0&&b.a.createElement("div",{className:"j-announce for-pc"},b.a.createElement("span",{className:"announce-icon"}),b.a.createElement("span",{className:"announce-content"}," ",a.title,",\xa0\xa0"),b.a.createElement("span",{className:"announce-content"},h.a.getHTML("v2.mining_apy",{value:Object(S.j)(Object(S.C)(o,l),2,{per:!0,miniText:"0.01"})}),"%"),b.a.createElement("span",{className:"market-up"}),b.a.createElement("a",{className:"announce-link",href:"".concat(null===a||void 0===a?void 0:a.html_url),target:"_blank",rel:"noopener noreferrer"},h.a.get("v2.view_announcement")),b.a.createElement("span",{className:"announce-arrow-icon"}))),b.a.createElement("div",{className:"market-v2-summary-blocks"},this.renderDeposit(),this.renderLend(),this.renderRewards(),Object.keys(a).length>0&&b.a.createElement("div",{className:"j-announce for-mobile"},b.a.createElement("div",{className:"j-announce-top"},b.a.createElement("span",{className:"announce-icon"}),b.a.createElement("div",null,b.a.createElement("span",{className:"announce-content"}," ",a.title,",\xa0\xa0"),b.a.createElement("span",{className:"announce-content"},h.a.getHTML("v2.mining_apy",{value:Object(S.j)(Object(S.C)(o,l),2,{per:!0,miniText:"0.01"})}),"%"))),b.a.createElement("div",{className:"j-announce-bottom"},b.a.createElement("a",{className:"announce-link",href:"".concat(null===a||void 0===a?void 0:a.html_url),target:"_blank",rel:"noopener noreferrer"},h.a.get("v2.view_announcement")),b.a.createElement("span",{className:"announce-arrow-icon"})))),t?b.a.createElement(L,null):this.renderMarketSummary())}}]),a}(b.a.Component))||n)||n)||n,V=a(277),Y=(a(1519),a(768),Object(j.b)("network")(o=Object(j.b)("lend")(o=Object(j.b)("system")(o=Object(j.b)("pool")(o=Object(j.c)(o=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.mobile){e.next=3;break}return window.location.hash=window.location.hash.replace("/marketNew","/market"),e.abrupt("return");case 3:case"end":return e.stop()}}),e)}))),r.state={mobile:Object(k.a)(window.navigator).any},r}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.lend.theme,t=this.state.mobile;return b.a.createElement("div",{className:"j-wrapper market "+e},b.a.createElement(w.a,{hideBackBtn:!0}),b.a.createElement("div",{className:"j-market"},b.a.createElement(H,null)),t?b.a.createElement(V.a,null):b.a.createElement(g.a,null))}}]),a}(b.a.Component))||o)||o)||o)||o)||o),J=Object(j.b)("network")(l=Object(j.c)(l=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.network.setData({routeName:"market"});case 1:case"end":return e.stop()}}),e)}))),r}return Object(d.a)(a,[{key:"render",value:function(){return b.a.createElement(Y,null)}}]),a}(b.a.Component))||l)||l;t.default=J}}]);