(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[11,2],{1388:function(e,t,a){},1408:function(e,t,a){"use strict";a.r(t);var n,l,r,o=a(5),s=a(8),c=a(11),i=a(10),m=a(1),d=a.n(m),p=a(0),u=a.n(p),b=a(3),g=a(207),v=a(30),f=a.n(v),E=a(172),w=a(800),h=a(12),k=a(765),N=a(946),j=a(763),x=a(123),O=a(958),y=a.n(O),A=a(875),D=a(876),S=a(795),C=a(16),T=a(37),L=(a(794),a(877),a(1388),Object(E.b)("network")(n=Object(E.b)("lend")(n=Object(E.c)(n=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0}),1e3),document.addEventListener("click",(function(e){n.setState({isShow:!1})}),!1),document.title="Market - JustLend DAO",e.next=5,n.props.lend.getMintInfo();case 5:return(t=window.location.hash.split("?")).length>1&&t[1].split("&").map((function(e){var t=e.split("=");t.length>1&&"jtokenAddress"===t[0]&&n.setState({jtokenAddress:t[1]},(function(){n.getJTokenData()}))})),e.next=9,n.props.network.getNowTime();case 9:n.props.network.getCountTime(),setInterval((function(){n.getJTokenData()}),3e4);case 11:case"end":return e.stop()}}),e)}))),n.getJTokenData=Object(b.a)(u.a.mark((function e(){var t,a,l,r,o,s,c,i,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:n.state.checked,e.prev=1,a=n.state.jtokenAddress,e.next=5,Object(T.d)(a);case 5:if(l=e.sent,r=n.props.lend.assetList,o=0,s=Object(C.D)(l.data,r),c=s.mintApy,i=s.mintApyWithUSDD,Object(C.a)(c).gte(0)&&(o=c),h.a.usddMint.includes(a)&&(o=i),t||(o=Object(C.a)(0)),l.success){e.next=14;break}return e.abrupt("return");case 14:n.setState({jTokenData:l.data},(function(){var e=l.data.model,t=[],a=[],r=[],s=[];e.map((function(e){e.current?n.setState({current:{base:Object(C.a)(e.base).times(100),borrow:Object(C.a)(e.borrow).times(100),supply:Object(C.a)(e.supply).times(100)}}):(t.push(Object(C.i)(Object(C.a)(e.borrow).times(100),2,{miniText:.01,per:!0})),a.push(Object(C.i)(Object(C.a)(e.supply).times(100).plus(Object(C.a)(o)._toFixed(2,1)),2,{miniText:.01,per:!0})),r.push(Object(C.i)(o,2,{miniText:.01,per:!0})),s.push(Object(C.i)(Object(C.a)(e.base).times(100),2,{miniText:.01,per:!0})))})),n.setState({borrowList:t,supplyList:a,baseList:s,mintList:r})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getMarketData",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),n.judgeBox=function(){n.hideDBox()},n.hideDBox=function(){n.setState({curStatus:!1})},n.showDBox=function(){n.setState({curStatus:!0})},n.canvasHover=function(){n.setState({labelStatus:!1})},n.canvasBlur=function(){n.setState({labelStatus:!0})},n.onChange=function(e){n.setState({checked:e}),n.getJTokenData(e),e?gtag("event","click",{event_category:"H5",event_label:"Show Mining APY",value:"yes"}):gtag("event","click",{event_category:"H5",event_label:"Show Mining APY",value:"no"})},n.categorySlide=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.setState({isShow:!0})},n.showDAW=function(e,t){n.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e}})},n.clickDeposit=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.setData({DAWPop:{show:!0,activeKey:"1",popData:e}}):n.setState({isNetworkError:!0})},n.clickBorrow=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.collateralValid(e.collateralSymbol)&&n.props.lend.setData({visible:!0,jtokenAddress:e.jtokenAddress,type:"1"},"borrowModalInfo"):n.setState({isNetworkError:!0})},n.borrowMax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=n.props.lend,l=a.borrowLimit,r=a.totalBorrowUsdForUSDD,o=a.trxPrice,s=e.assetPrice,c=e.precision,i=e.collateralDecimal,m=e.jtokenAddress,d=t.deposited,p=t.deposited_usd,u=t.collateralFactor,b=t.account_entered,g=l;0===b&&(g=m===h.a.usddJtoken?Object(C.a)(g).plus(Object(C.a)(d).times(u).div(h.a.tokenDefaultPrecision)):Object(C.a)(g).plus(Object(C.a)(p).times(u).div(h.a.tokenDefaultPrecision)));var v=Object(C.a)(g),f=Object(C.a)(0);return(f=m===h.a.usddJtoken?Object(C.a)(v).minus(r):v.minus(r).times(h.a.tokenDefaultPrecision).div(s).times(h.a.tokenDefaultPrecision).div(o).times(h.a.defaultPrecision).div(c)).lt(0)?0:f._toFixed(i,1)}catch(E){console.log("borrowMax: ",E)}},n.walletM=function(){var e=n.state.jTokenData,t=n.props.lend.marketList||n.props.lend.userList,a=t[e.jtokenAddress]?t[e.jtokenAddress]:{},l=n.borrowMax(a,n.props.lend.userList[e.jtokenAddress]),r=Object(C.J)(e),o=Object(C.a)(l).isNaN()||Object(C.a)(r).isNaN()?"--":Object(C.a)(l).gte(r)?r:l;return n.props.network.isConnected&&d.a.createElement("div",{className:"wallet-m"},d.a.createElement("div",{className:"market-card wallet-card"},d.a.createElement("div",{className:"card-top"},f.a.get("wallet_info")),d.a.createElement("div",{className:"card-bottom"},d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"cb-title"},f.a.get("wallet_ballance")),d.a.createElement("div",{className:"cb-value wallet-cb-value"},Object(C.N)(a,n.props.lend.balanceInfo,3))),d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"cb-title"},f.a.get("current_borrow")),d.a.createElement("div",{className:"cb-value"},Object(C.a)(o).isNaN()||Object(C.a)(o).eq(0)?"0":Object(C.d)(o,2,{miniText:.01})," ",a.collateralSymbol)),d.a.createElement("div",{className:"flex aic jcsb "},d.a.createElement("button",{className:"btn-m deposit-btn",onClick:function(e){e.preventDefault(),n.clickDeposit(a)}},f.a.get("index.markets_deposit")),d.a.createElement("button",{className:"btn-m borrow-btn",onClick:function(e){e.preventDefault(),n.clickBorrow(a)}},f.a.get("index.markets_withdraw"))))))},n.scaleM=function(){var e,t=n.state,a=t.current,l=t.jTokenData,r=(t.checked,t.isShow),o=t.lang,s=n.props.lend.assetList,c=Object(C.D)(l,s),i=c.mintApyWithUSDD,m=c.totalApy,p=c.mintApy;return d.a.createElement("div",{className:"scale-m"},d.a.createElement("div",{className:"scale-top flex aic jcsb"},d.a.createElement("div",{className:"scale-logos"},d.a.createElement("img",{className:"scale-logo",src:l.logoUrl,alt:"logo"}),d.a.createElement("span",{className:"scale-symbol"},l.collateralName)," ",d.a.createElement("span",{className:"scale-subtitle"},"(",l.collateralSymbol,")")),d.a.createElement("div",{className:"scale-category",onClick:function(e){return n.categorySlide(e)}},d.a.createElement("div",{className:"category-icon"}),r&&d.a.createElement("div",{className:"category-dropdown"},d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement("img",{src:l.logoUrl,alt:"logo"}),l.collateralSymbol),d.a.createElement("div",{className:"flex aic"},"trx"!==(null===l||void 0===l||null===(e=l.collateralSymbol)||void 0===e?void 0:e.toLocaleLowerCase())?d.a.createElement(k.a,{title:f.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{href:"".concat("en-US"===o?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat(l.collateralAddress),target:"_blank",rel:"noopener noreferrer",className:"to-tronscan-icon"},"\xa0")):d.a.createElement("div",{className:"to-tronscan-icon disabled"}))),d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement("img",{src:Object(C.v)(l.collateralSymbol),alt:"logo"}),"j",l.collateralSymbol),d.a.createElement("div",{className:"flex aic"},d.a.createElement(k.a,{title:f.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{href:"".concat("en-US"===o?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat(l.jtokenAddress),target:"_blank",className:"to-tronscan-icon"},"\xa0"))))))),d.a.createElement("div",{className:"scale-content"},d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"s-title"},f.a.get("market.deposit_apy")),d.a.createElement("div",{className:"s-value blue flex aic"},"--"===Object(C.i)(Object(C.a)(Object(C.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(p,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(C.i)(m,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(C.i)(Object(C.a)(Object(C.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(p,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%",!(h.a.hideMarketMintIcon.indexOf(l.collateralSymbol)>-1)&&d.a.createElement("span",{className:"ic-fire ml-4 mb-0"}))),h.a.usddMint.includes(l.jtokenAddress)&&d.a.createElement("div",{className:"s-title mt-2"},"(",f.a.get("usddapy.hover2"),")"),d.a.createElement("div",{className:"s-apy"},d.a.createElement("div",{className:"flex aic jcsb "},d.a.createElement("div",{className:"s-apy-title"},f.a.get("market.deposit_base_nex1"),d.a.createElement("span",{className:"inline-block"},f.a.get("market.deposit_base_nex2"))),d.a.createElement("div",{className:"s-apy-value"},Object(C.i)(a.supply,2,{per:!0,miniText:"0.01"}),"%")),d.a.createElement("div",{className:"flex aic jcsb "},d.a.createElement("div",{className:"s-apy-title"},f.a.get("market.mining_nex1"),d.a.createElement("span",{className:"inline-block"},f.a.get("market.mining_nex2"))),d.a.createElement("div",{className:"s-apy-value"},h.a.usddMint.includes(l.jtokenAddress)?"".concat(Object(C.i)(i,2,{per:!0,miniText:"0.01"})):Object(C.i)(p,2,{per:!0,miniText:"0.01"}),"%"))),d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"s-title"},f.a.get("market.borrow_apy")),d.a.createElement("div",{className:"s-value green"},Object(C.i)(Object(C.a)(l.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%")),d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"s-title"},f.a.get("market.deposit_size")),d.a.createElement("div",{className:"s-value"},Object(C.a)(l.depositedUSD).isNaN()?"--":Object(C.d)(l.depositedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"s-title"},f.a.get("market.borrow_size")),d.a.createElement("div",{className:"s-value"},Object(C.a)(l.borrowedUSD).isNaN()?"--":Object(C.d)(l.borrowedUSD,2,{miniText:.01,needDolar:!0})))))},n.addToTronlink=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.tronWeb||!window.tronWeb.defaultAddress.base58){e.next=4;break}return a=window.tronWeb,e.next=4,a.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:t}}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.detailM=function(){var e=n.state.jTokenData;return d.a.createElement("div",{className:"detail-m"},d.a.createElement("div",{className:"title-elements"},d.a.createElement("div",{className:"te-title"},f.a.getHTML("market.detail_data"))),d.a.createElement("div",{className:"market-card market-detail-card"},d.a.createElement("div",{className:"card-bottom"},d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_price")),d.a.createElement("div",{className:"cb-value"},"--"==e.priceUSD?"--":Object(C.d)(e.priceUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_limitmax")),d.a.createElement("div",{className:"cb-value"},Object(C.a)(e.borrowLimit).gt(0)?Object(C.i)(e.borrowLimit,0)+" "+e.collateralSymbol:f.a.get("market.detail_none")))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_number_of_deposit_accounts")),d.a.createElement("div",{className:"cb-value"},e.depositHeadcount)),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_number_of_borrow_accounts")),d.a.createElement("div",{className:"cb-value"},e.borrowHeadcount))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title flex aic"},d.a.createElement(k.a,{className:"tooltips-m bb-dash-545669",overlayClassName:"tooltip-m",title:f.a.getHTML("market_lend_tip"),placement:"topRight",trigger:"['hover','click']"},f.a.getHTML("market.borrow_market"))),d.a.createElement("div",{className:"cb-value"},Object(C.a)(Object(C.J)(e)).gte(1)?Object(C.i)(Object(C.J)(e),0):Object(C.i)(Object(C.J)(e),2,{miniText:.01})," ",d.a.createElement("span",{className:"font-dmsans"},e.collateralSymbol))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_dailyinterest")),d.a.createElement("div",{className:"cb-value"},Object(C.i)(e.earnUSDPerDay,2,{miniText:.01,needDolar:!0})))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_reserves")),d.a.createElement("div",{className:"cb-value"},Object(C.i)(e.totalReserves,6,{miniText:1e-6}))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_factor")),d.a.createElement("div",{className:"cb-value"},Object(C.R)(e.reserveFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},f.a.getHTML("market.detail_jminted",{value:"j"+e.collateralSymbol})),d.a.createElement("div",{className:"cb-value"},Object(C.i)(e.totalSupply,0,{miniText:1}))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},f.a.get("market.detail_collateral")),d.a.createElement("div",{className:"cb-value"},Object(C.R)(e.collateralFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele width-100-per mb-0"},d.a.createElement("div",{className:"cb-title"},f.a.getHTML("market.detail_jexchangerate",{value:"j"+e.collateralSymbol})),Object(C.a)(e.oneToExchangeRate).lt(Object(C.a)(1).div(h.a.tokenDefaultPrecision))&&d.a.createElement("div",{className:"cb-value"},"--"),Object(C.a)(e.oneToExchangeRate).gte(Object(C.a)(1).div(h.a.tokenDefaultPrecision))&&d.a.createElement("div",{className:"cb-value"},"1 ",d.a.createElement("span",{className:"font-dmsans"},e.collateralSymbol)," "," : "," ",Object(C.i)(e.oneToExchangeRate,18),d.a.createElement("span",{className:"font-dmsans"}," j",e.collateralSymbol)))))))},n.eachartsM=function(){var e=n.state,t=(e.mobile,e.jtokenAddress,e.current),a=e.curStatus,l=e.jTokenData,r=e.checked,o=(n.props.network.menuFlag,n.props.lend.assetList),s=Object(C.D)(l,o),c=s.mintApyWithUSDD,i=(s.totalApy,s.mintApy);r||(i=0);var m=n.props.network.multyRealStart,p=Object(C.a)(t.base),u="--"===n.state.useRate?Object(C.i)(Object(C.a)(p).gt(100)?100:p,2):n.state.useRate,b="--"===n.state.baseDeposit?t.supply:n.state.baseDeposit,g="--"===n.state.borrowApy?Object(C.i)(t.borrow,2,{miniText:.01,per:!0}):n.state.borrowApy;return d.a.createElement("div",{className:"echarts-m"},d.a.createElement("div",{className:"e-top"},d.a.createElement("div",null,f.a.get("use_rate")),d.a.createElement("div",null,a?Object(C.i)(Object(C.a)(p).gt(100)?100:p,2):u,"%")),d.a.createElement("div",{className:"e-content"},d.a.createElement("div",null,d.a.createElement("div",{className:"ec-title"},f.a.get("lend.depositapy"),d.a.createElement("span",{className:"inline-block"},"(",f.a.get("market.baseAPY"),r?"+"+f.a.get("market.mint_apy"):"",")")),d.a.createElement("div",{className:"ec-value"},a?"--"===Object(C.i)(Object(C.a)(Object(C.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(C.i)(Object(C.a)(t.supply).plus(i),2,{miniText:.01,per:!0}):Object(C.i)(Object(C.a)(Object(C.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}):r?Object(C.i)(Object(C.a)(b).plus(i),2,{miniText:.01,per:!0}):n.state.depositApy,"%",d.a.createElement("span",{className:"inline-block"+(r?"":" hide")},r?"(".concat(a?Object(C.i)(t.supply,2,{miniText:.01,per:!0}):Object(C.i)(b,2,{miniText:.01,per:!0}),"%+").concat(Object(C.i)(i,2,{miniText:.01,per:!0}),"%)"):""))),d.a.createElement("div",null,d.a.createElement("div",{className:"ec-title"},f.a.get("market.borrow_apy")),d.a.createElement("div",{className:"ec-value green"},a?Object(C.i)(t.borrow,2,{miniText:.01,per:!0}):g,"%"))),d.a.createElement("div",{className:"echarts-frame",onClick:function(){n.judgeBox()},onTouchStart:function(){return n.judgeBox()},onTouchMove:function(){return n.judgeBox()}},d.a.createElement("span",{className:"left"},"Y : APY(%)"),d.a.createElement("div",{className:"canvas-box",onMouseOver:function(){n.canvasHover()},onMouseLeave:function(){n.canvasBlur()}},d.a.createElement(y.a,{option:n.getEchartsOption(),className:"market-detail-echarts"}),d.a.createElement("div",{className:"show-current",onClick:function(e){return n.resetDefault(e)}},d.a.createElement("span",{className:"reset-icon"}),d.a.createElement("span",{className:"reset-text"},f.a.get("show_current")))),d.a.createElement("div",{className:"default-text "+(a?"":"hide")+(r?" include-mint":"")},d.a.createElement("p",{className:"use-rate"},f.a.get("use_rate"),d.a.createElement("span",null,Object(C.i)(Object(C.a)(p).gt(100)?100:p,2),"%")),d.a.createElement("p",null,f.a.get("lend.depositapy"),d.a.createElement("span",{className:"blue"},"--"===Object(C.i)(Object(C.a)(Object(C.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(C.i)(Object(C.a)(t.supply).plus(i),2,{miniText:.01,per:!0}):Object(C.i)(Object(C.a)(Object(C.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,"-",f.a.get("market.baseAPY"),d.a.createElement("span",{className:"sub-span"},Object(C.i)(t.supply,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",{className:"mint-p"},"-",f.a.get("lend.miningapy"),d.a.createElement("span",{className:"sub-span"},Object(C.i)(i,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,f.a.get("market.borrow_apy"),d.a.createElement("span",{className:"green"},Object(C.i)(t.borrow,2,{miniText:.01,per:!0}),"%")),d.a.createElement("div",{style:{opacity:0,height:0}},d.a.createElement("div",null,Object(C.i)(Object(C.a)(p).gt(100)?100:p,2),"%"),d.a.createElement("div",null,Object(C.i)(i,2,{miniText:.01,per:!0})),d.a.createElement("div",null,Object(C.i)(t.borrow,2,{miniText:.01,per:!0})))),d.a.createElement("span",{className:"right"},"X : ",f.a.get("market.detail_use_rate")+"(%)"),m&&!(h.a.hideMarketMintIcon.indexOf(l.collateralSymbol)>-1)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"flexB gray-bar"},d.a.createElement("div",{className:"title"},f.a.get("market.detail_distubutedapy"),d.a.createElement("span",{className:"data-tip"},f.a.get("market.sun_mining_nex2"))),d.a.createElement("div",null,d.a.createElement("span",{className:"data"},h.a.usddMint.includes(l.jtokenAddress)?"".concat(Object(C.i)(c,2,{per:!0,miniText:"0.01",needDolar:!1})):Object(C.i)(s.mintApy,2,{per:!0,miniText:"0.01",needDolar:!1}),"%"))),d.a.createElement("div",{className:"bottom-bar"},"USDD"===(null===l||void 0===l?void 0:l.collateralSymbol)?f.a.get("market.detail_data_hotdesc1"):f.a.get("market.detail_data_hotdesc")))))},n.resetDefault=function(e){e.stopPropagation(),n.setState({curStatus:!0})},n.state={mobile:Object(g.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||f.a.options.currentLocale,jTokenData:{priceUSD:"--",depositHeadcount:"--",borrowHeadcount:"--",borrowLimit:"--",earnUSDPerDay:"--",totalReserves:"--",reserveFactor:"--",collateralFactor:"--",collateralSymbol:"--",totalSupply:"--",oneToExchangeRate:"--"},jtokenAddress:"",borrowList:[],supplyList:[],baseList:[],mintList:[],current:{base:"--",borrow:"--",supply:"--"},curStatus:!0,labelStatus:!0,checked:!0,isShow:!1,isNetworkError:!1,useRate:"--",depositApy:"--",borrowApy:"--",baseDeposit:"--"},n}return Object(s.a)(a,[{key:"getEchartsOption",value:function(){var e=this,t=this.state,a=t.borrowList,n=t.supplyList,l=t.baseList,r=(t.labelStatus,t.checked),o=t.curStatus,s=this.state,c=s.current,i=s.jTokenData,m=this.props.lend.assetList,d=Object(C.D)(i,m),p=d.mintApy,u=d.mintApyWithUSDD;return r||(p=0),{tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,lineStyle:{color:"rgba(69, 77, 226, 0.2)",type:"dashed"},label:{precision:2}},backgroundColor:"rgba(255,255,255,0.5)",borderWidth:"0",textStyle:{color:"#333",fontFamily:"AvenirNext-Medium",fontSize:"14px"},formatter:function(t){var a=h.a.usddMint.includes(i.jtokenAddress)?u:p;r||(a=0),"--"!==p&&Object(C.i)(Object(C.a)(t[1].value).minus(Object(C.a)(a)._toFixed(2,1)),2);var n=i.model.filter((function(e){return!e.current})),l=Object(C.a)(n[t[0].dataIndex].base).times(100);return e.setState({useRate:Object(C.i)(Object(C.a)(l).gt(100)?100:l,2),depositApy:Object(C.i)(t[1].value,2),borrowApy:Object(C.i)(t[0].value,2),baseDeposit:Object(C.a)(t[1].value).minus(Object(C.a)(a)._toFixed(2,1))}),""}},grid:{left:"0%",right:"3%",bottom:"5%",containLabel:!0},yAxis:{name:" ",nameTextStyle:{color:"#84869E",align:"left"},type:"value",axisLine:{show:!0,lineStyle:{width:1,color:["#e9e9e9"]}},splitLine:{show:!0,lineStyle:{type:"dotted",color:["#ccc"]}},splitNumber:3,axisTick:{show:!1},axisLabel:{textStyle:{color:"#84869E"}}},xAxis:{type:"category",axisPointer:{value:Number(Object(C.i)(c.base,2)),lineStyle:o?{color:"rgba(15,19,79,0.5)",width:1}:null,label:{show:o,formatter:function(e,t){return f.a.get("market.current")},backgroundColor:"rgba(0,0,0,0.5)"},handle:{show:!0,color:"transparent"}},name:"",nameTextStyle:{color:"#84869E"},data:l,axisLine:{lineStyle:{color:["#E9E9E9"]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{interval:0,formatter:function(e,t){return t%10==0&&0!=t?t:null},textStyle:{color:"#84869E"}}},series:[{name:f.a.get("market.borrow_apy"),type:"line",hoverAnimation:!1,itemStyle:{normal:{color:"#1ED0AC",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#9EF9E6",borderColor:"#1ED0AC",borderWidth:3}},data:a,showSymbol:!1,symbolSize:11},{name:f.a.get("market.deposit_apy"),type:"line",itemStyle:{normal:{color:"#3D56D6",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#BBBAFF",borderColor:"#3D56D6",borderWidth:3}},hoverAnimation:!1,data:n,showSymbol:!1,symbolSize:11}]}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.current,t.jTokenData),n=t.checked,l=this.props.lend,r=l.assetList,o=l.DAWPop,s=l.borrowModalInfo;Object(C.D)(a,r).mintApy;return n||0,d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"modal-container main common-m market-detail-m block-m"},this.scaleM(),d.a.createElement("div",{className:"title-elements flex aic jcsb"},d.a.createElement("div",{className:"te-title"},f.a.getHTML("market.detail_apymodel")),!h.a.hideMarketMintIcon.includes(a.collateralSymbol)&&d.a.createElement("div",{className:"te-subtitle"},d.a.createElement(N.a,{checked:n,onChange:function(t){return e.onChange(t.target.checked)},className:"show-all-markets show-all-markets-m checkbox-detail-m"},f.a.get("modal_mining_apy")))),this.eachartsM(),this.detailM(),this.walletM()),d.a.createElement(j.a,{title:" ",footer:null,onCancel:function(){return e.setState({isNetworkError:!1})},className:"borrow-modal network-error-modal",visible:this.state.isNetworkError,width:350},d.a.createElement("div",{className:"network-error"},f.a.get("network_error")),d.a.createElement(x.a,{className:"modal-btn",type:"primary",onClick:function(){return e.setState({isNetworkError:!1})}},f.a.get("got_it"))),o.show&&d.a.createElement(A.a,{detailInfo:!0}),s.visible&&d.a.createElement(D.a,{detailInfo:!0}),d.a.createElement(S.a,null))}}]),a}(d.a.Component))||n)||n)||n),_=a(1410),M=Object(E.b)("network")(l=Object(E.b)("lend")(l=Object(E.b)("pool")(l=Object(E.c)(l=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getUserData=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.lend.getUserData();case 2:return e.next=4,n.props.lend.getTokenBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),n.getMarketData=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.lend.getMarketData();case 2:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",e.next=3,n.props.lend.getMintInfo();case 3:return(t=window.location.hash.split("?")).length>1&&t[1].split("&").map((function(e){var t=e.split("=");t.length>1&&"jtokenAddress"===t[0]&&n.setState({jtokenAddress:t[1]},(function(){n.getJTokenData()}))})),e.next=7,n.props.network.getNowTime();case 7:n.props.network.getCountTime(),setInterval((function(){n.getJTokenData()}),3e4);case 9:case"end":return e.stop()}}),e)}))),n.getJTokenData=Object(b.a)(u.a.mark((function e(){var t,a,l,r,o,s,c,i,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:n.state.checked,e.prev=1,a=n.state.jtokenAddress,e.next=5,Object(T.d)(a);case 5:if(l=e.sent,r=n.props.lend.assetList,o=0,s=Object(C.D)(l.data,r),c=s.mintApy,i=s.mintApyWithUSDD,Object(C.a)(c).gte(0)&&(o=c),h.a.usddMint.includes(a)&&(o=i),t||(o=Object(C.a)(0)),l.success){e.next=14;break}return e.abrupt("return");case 14:n.setState({jTokenData:l.data},(function(){var e=l.data.model,t=[],a=[],r=[],s=[];e.map((function(e){e.current?n.setState({current:{base:Object(C.a)(e.base).times(100),borrow:Object(C.a)(e.borrow).times(100),supply:Object(C.a)(e.supply).times(100)}}):(t.push(Object(C.i)(Object(C.a)(e.borrow).times(100),2,{miniText:.01,per:!0})),a.push(Object(C.i)(Object(C.a)(e.supply).times(100).plus(Object(C.a)(o)._toFixed(2,1)),2,{miniText:.01,per:!0})),r.push(Object(C.i)(o,2,{miniText:.01,per:!0})),s.push(Object(C.i)(Object(C.a)(e.base).times(100),2,{miniText:.01,per:!0})))})),n.setState({borrowList:t,supplyList:a,baseList:s,mintList:r})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getMarketData",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),n.addToTronlink=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.network.isConnected){e.next=3;break}return e.abrupt("return",n.props.network.connectWallet());case 3:if(!window.tronWeb||!window.tronWeb.defaultAddress.base58){e.next=7;break}return a=window.tronWeb,e.next=7,a.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:t}}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.judgeBox=function(){n.state.mobile&&n.hideDBox()},n.hideDBox=function(){n.setState({curStatus:!1})},n.showDBox=function(){n.setState({curStatus:!0})},n.canvasHover=function(){n.setState({labelStatus:!1})},n.canvasBlur=function(){n.setState({labelStatus:!0})},n.onChange=function(e){n.setState({checked:e}),n.getJTokenData(e),e?gtag("event","click",{event_category:"PC",event_label:"Show Mining APY",value:"yes"}):gtag("event","click",{event_category:"PC",event_label:"Show Mining APY",value:"no"})},n.borrowMax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=n.props.lend,l=a.borrowLimit,r=a.totalBorrowUsdForUSDD,o=a.trxPrice,s=e.assetPrice,c=e.precision,i=e.collateralDecimal,m=e.jtokenAddress,d=t.deposited,p=t.deposited_usd,u=t.collateralFactor,b=t.account_entered,g=l;0===b&&(g=m===h.a.usddJtoken?Object(C.a)(g).plus(Object(C.a)(d).times(u).div(h.a.tokenDefaultPrecision)):Object(C.a)(g).plus(Object(C.a)(p).times(u).div(h.a.tokenDefaultPrecision)));var v=Object(C.a)(g),f=Object(C.a)(0);return(f=m===h.a.usddJtoken?Object(C.a)(v).minus(r):v.minus(r).times(h.a.tokenDefaultPrecision).div(s).times(h.a.tokenDefaultPrecision).div(o).times(h.a.defaultPrecision).div(c)).lt(0)?0:f._toFixed(i,1)}catch(E){console.log("borrowMax: ",E)}},n.clickDeposit=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.setData({DAWPop:{show:!0,activeKey:"1",popData:e}}):n.setState({isNetworkError:!0})},n.clickBorrow=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.collateralValid(e.collateralSymbol)&&n.props.lend.setData({visible:!0,jtokenAddress:e.jtokenAddress,type:"1"},"borrowModalInfo"):n.setState({isNetworkError:!0})},n.state={mobile:Object(g.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||f.a.options.currentLocale,jTokenData:{priceUSD:"--",depositHeadcount:"--",borrowHeadcount:"--",borrowLimit:"--",earnUSDPerDay:"--",totalReserves:"--",reserveFactor:"--",collateralFactor:"--",collateralSymbol:"--",totalSupply:"--",oneToExchangeRate:"--"},jtokenAddress:"",borrowList:[],supplyList:[],baseList:[],mintList:[],current:{base:"--",borrow:"--",supply:"--"},curStatus:!0,labelStatus:!0,checked:!0,isNetworkError:!1},n}return Object(s.a)(a,[{key:"renderHeader",value:function(){var e=this.state,t=e.jTokenData,a=e.current,n=this.props.lend.assetList,l=Object(C.D)(t,n),r=l.totalApy,o=(l.depositApy,l.mintApy),s=l.mintApyWithUSDD;return t&&t.logoUrl?d.a.createElement("div",{className:"market-detail-header flex-between"},d.a.createElement("div",{className:"common-title header-title"},d.a.createElement("img",{src:t.logoUrl,alt:"logo"}),d.a.createElement("span",null,"".concat(t.collateralName,"(").concat(t.collateralSymbol,")"))),d.a.createElement("div",{className:"header-info flex-between"},d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.deposit_size")),d.a.createElement("p",null,Object(C.d)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.deposit_apy")),d.a.createElement(k.a,{title:d.a.createElement("div",{className:"info-tooltip"},d.a.createElement("div",null,f.a.get("market.deposit_base_nex")," :"," ",Object(C.i)(a.supply,2,{per:!0,miniText:"0.01"}),"%"),d.a.createElement("div",null,h.a.usddMint.includes(t.jtokenAddress)?f.a.get("market.sun_mining_nex1"):f.a.get("market.sun_mining_nex")," ",":"," ",h.a.usddMint.includes(t.jtokenAddress)?"".concat(Object(C.i)(s,2,{per:!0,miniText:"0.01"})):Object(C.i)(o,2,{per:!0,miniText:"0.01"}),"%"),h.a.usddMint.includes(t.jtokenAddress)&&d.a.createElement("div",null,f.a.get("usddapy.hover2"))),placement:"bottomRight"},d.a.createElement("p",null,"--"===Object(C.i)(Object(C.a)(Object(C.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(o,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(C.i)(r,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(C.i)(Object(C.a)(Object(C.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(o,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%"))),d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.borrow_size")),d.a.createElement("p",null,Object(C.d)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.borrow_apy")),d.a.createElement("p",null,Object(C.i)(Object(C.a)(t.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%")))):d.a.createElement("div",{className:"market-detail-header flex-between"},d.a.createElement("div",{className:"common-title header-title"},d.a.createElement("span",null,"--")),d.a.createElement("div",{className:"header-info flex-between"},d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.deposit_size")),d.a.createElement("p",null,"--")),d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.deposit_apy")),d.a.createElement("p",null,"--","%")),d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.borrow_size")),d.a.createElement("p",null,"--")),d.a.createElement("div",{className:""},d.a.createElement("p",null,f.a.getHTML("market.borrow_apy")),d.a.createElement("p",null,"--","%"))))}},{key:"renderActionContent",value:function(e){var t,a,n=this,l=window.localStorage.getItem("lang")||"en-US";return d.a.createElement("div",null,d.a.createElement("div",{className:"flex-between"},d.a.createElement("div",null,d.a.createElement("img",{src:e.logoUrl,alt:"logo"}),d.a.createElement("span",null,d.a.createElement("strong",null,e.collateralSymbol))),d.a.createElement("div",{className:"flex aic"},"trx"!==(null===e||void 0===e||null===(t=e.collateralSymbol)||void 0===t?void 0:t.toLocaleLowerCase())?d.a.createElement(k.a,{title:f.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{className:"typo-text-link",href:"".concat("en-US"===l?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat("--"!==(null===e||void 0===e?void 0:e.collateralSymbol)?e.collateralAddress:""),target:"_blank",rel:"noopener noreferrer"},d.a.createElement("span",{className:"toTronscan"}))):d.a.createElement("span",{className:"toTronscan disabled"}),"trx"!==(null===e||void 0===e||null===(a=e.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase())?d.a.createElement(k.a,{title:f.a.getHTML("add_to_tronlink"),placement:"top"},d.a.createElement("span",{className:"addtoTronLink ",onClick:function(){return n.addToTronlink(e.collateralAddress)}})):d.a.createElement("span",{className:"addtoTronLink disabled"}))),d.a.createElement("div",{className:"flex-between"},d.a.createElement("div",null,d.a.createElement("img",{src:Object(C.v)(e.collateralSymbol),alt:"logo"}),d.a.createElement("span",null,d.a.createElement("strong",null,"j",e.collateralSymbol))),d.a.createElement("div",{className:"flex aic"},d.a.createElement(k.a,{title:f.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{className:"typo-text-link",href:"".concat("en-US"===l?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat(e.jtokenAddress),target:"_blank",rel:"noopener noreferrer"},d.a.createElement("span",{className:"toTronscan"}))),d.a.createElement(k.a,{title:f.a.getHTML("add_to_tronlink"),placement:"top"},d.a.createElement("span",{className:"addtoTronLink",onClick:function(){return n.addToTronlink(e.jtokenAddress)}})))))}},{key:"renderInfo",value:function(){var e=this.state,t=e.jTokenData,a=(e.jtokenAddress,e.current),n=this.props.lend.assetList,l=Object(C.D)(t,n),r=l.totalApy,o=(l.depositApy,l.mintApy),s=l.mintApyWithUSDD;return d.a.createElement("div",{className:"market-detail-info"},d.a.createElement("div",{className:"top"},d.a.createElement("div",{className:"header-title"},d.a.createElement("img",{src:t.logoUrl,alt:"logo"}),d.a.createElement("span",null,d.a.createElement("strong",null,t.collateralName),"(",t.collateralSymbol,")"),d.a.createElement(_.a,{placement:"bottomRight",title:"",content:this.renderActionContent(t),overlayClassName:"market-action-pop"},d.a.createElement("div",{className:"action"}))),d.a.createElement("section",null,d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,f.a.getHTML("market.deposit_apy")),d.a.createElement("strong",{className:"deposit flex aic "},"--"===Object(C.i)(Object(C.a)(Object(C.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(o,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(C.i)(r,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(C.i)(Object(C.a)(Object(C.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(o,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%",!(h.a.hideMarketMintIcon.indexOf(t.collateralSymbol)>-1)&&d.a.createElement("span",{className:"ic-fire ml-4 mb-0"}))),d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,f.a.getHTML("market.borrow_apy")),d.a.createElement("strong",{className:"borrow"},Object(C.i)(Object(C.a)(t.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%"))),d.a.createElement("div",{className:"apy-box"},d.a.createElement("div",null,d.a.createElement("span",null,f.a.get("market.deposit_base_nex1"),d.a.createElement("span",{className:"inline-block"},f.a.get("market.deposit_base_nex2"))),d.a.createElement("span",null,Object(C.i)(a.supply,2,{per:!0,miniText:"0.01"}),"%")),d.a.createElement("div",null,d.a.createElement("span",null,f.a.get("market.mining_nex1"),d.a.createElement("span",{className:"inline-block"},f.a.get("market.mining_nex2"))),d.a.createElement("span",null,h.a.usddMint.includes(t.jtokenAddress)?"".concat(Object(C.i)(s,2,{per:!0,miniText:"0.01"})):Object(C.i)(o,2,{per:!0,miniText:"0.01"}),"%"))),d.a.createElement("section",null,d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,f.a.getHTML("market.deposit_size")),d.a.createElement("strong",null,Object(C.a)(t.depositedUSD).isNaN()?"--":Object(C.d)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,f.a.getHTML("market.borrow_size")),d.a.createElement("strong",null,Object(C.a)(t.borrowedUSD).isNaN()?"--":Object(C.d)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))))),d.a.createElement("div",{className:"detail-info"},d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_price")),d.a.createElement("span",null,"--"==t.priceUSD?"--":Object(C.d)(t.priceUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_limitmax")),d.a.createElement("span",null,Object(C.a)(t.borrowLimit).gt(0)?Object(C.i)(t.borrowLimit,0)+" "+t.collateralSymbol:f.a.get("market.detail_none")))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_number_of_deposit_accounts")),d.a.createElement("span",null,t.depositHeadcount)),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_number_of_borrow_accounts")),d.a.createElement("span",null,t.borrowHeadcount))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.getHTML("market.borrow_market"),d.a.createElement(k.a,{overlayClassName:"mltr",title:f.a.getHTML("market_lend_tip"),placement:"bottom"},d.a.createElement("span",{className:"tooltip-icon"}))),d.a.createElement("span",null,Object(C.a)(Object(C.J)(t)).gte(1)?Object(C.i)(Object(C.J)(t),0):Object(C.i)(Object(C.J)(t),2,{miniText:.01})," ",t.collateralSymbol)),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_dailyinterest")),d.a.createElement("span",null,Object(C.i)(t.earnUSDPerDay,2,{miniText:.01,needDolar:!0})))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_reserves")),d.a.createElement("span",null,Object(C.i)(t.totalReserves,6,{miniText:1e-6}))),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_factor")),d.a.createElement("span",null,Object(C.R)(t.reserveFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.getHTML("market.detail_jminted",{value:"j"+t.collateralSymbol})),d.a.createElement("span",null,Object(C.i)(t.totalSupply,0,{miniText:1}))),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.get("market.detail_collateral")),d.a.createElement("span",null,Object(C.R)(t.collateralFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,f.a.getHTML("market.detail_jexchangerate",{value:"j"+t.collateralSymbol})),d.a.createElement("span",null,Object(C.a)(t.oneToExchangeRate).lt(Object(C.a)(1).div(h.a.tokenDefaultPrecision))?"--":"1 "+t.collateralSymbol+" : "+Object(C.i)(t.oneToExchangeRate,18)+" j"+t.collateralSymbol)))))}},{key:"getEchartsOption",value:function(){var e=this.state,t=e.borrowList,a=e.supplyList,n=e.baseList,l=e.labelStatus,r=e.checked,o=this.state,s=o.current,c=o.jTokenData,i=this.props.lend.assetList,m=Object(C.D)(c,i),d=m.mintApy,p=m.mintApyWithUSDD;return{tooltip:{trigger:"axis",axisPointer:{type:"line",animation:!1,lineStyle:{color:"rgba(69, 77, 226, 0.2)",type:"dashed"},label:{precision:2}},backgroundColor:"rgba(255,255,255,0.5)",borderWidth:"0",textStyle:{color:"#333",fontFamily:"AvenirNext-Medium",fontSize:"14px"},formatter:function(e){var t="--",a=h.a.usddMint.includes(c.jtokenAddress)?p:d;r||(a=0),"--"!==d&&(t=Object(C.i)(Object(C.a)(e[1].value).minus(Object(C.a)(a)._toFixed(2,1)),2));var n=c.model.filter((function(e){return!e.current})),l=Object(C.a)(n[e[0].dataIndex].base).times(100);return'<div class="default-text-clone'+(r?" include-mint":"")+'"><p class="use-rate">'+f.a.get("use_rate")+"<span>"+Number(Object(C.i)(Object(C.a)(l).gt(100)?100:l,2))+"%</span></p><p>"+f.a.get("lend.depositapy")+'<span class="blue">'+Object(C.i)(e[1].value,2)+"%</span></p><p>-"+f.a.get("market.baseAPY")+'<span class="sub-span">'+t+'%</span></p><p class="mint-p">-'+f.a.get("lend.miningapy")+'<span class="sub-span">'+Object(C.i)(a,2)+"%</span></p><p>"+e[0].seriesName+'<span class="green">'+Object(C.i)(e[0].value,2)+"%</span></p></div>"}},grid:{left:"0%",right:"3%",bottom:"5%",containLabel:!0},yAxis:{name:" ",nameTextStyle:{color:"#545699",align:"left"},type:"value",axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dotted",color:["#ccc"]}},splitNumber:3,axisTick:{show:!1},axisLabel:{textStyle:{color:"#84869E"}}},xAxis:{type:"category",axisPointer:{value:Number(Object(C.i)(s.base,2)),lineStyle:{color:"#e9e9e9",width:2},label:{show:l,formatter:function(e,t){return f.a.get("market.current")},backgroundColor:"rgba(0,0,0,0.5)"},handle:{show:!0,color:"transparent"}},name:"",nameTextStyle:{color:"#84869E"},data:n,axisLine:{lineStyle:{color:["#E9E9E9"]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{interval:0,formatter:function(e,t){return t%10==0&&0!=t?t:null},textStyle:{color:"#84869E"}}},series:[{name:f.a.get("market.borrow_apy"),type:"line",hoverAnimation:!1,itemStyle:{normal:{color:"#1ED0AC",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#9EF9E6",borderColor:"#1ED0AC",borderWidth:3}},data:t,showSymbol:!1,symbolSize:11},{name:f.a.get("market.deposit_apy"),type:"line",itemStyle:{normal:{color:"#3D56D6",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#BBBAFF",borderColor:"#3D56D6",borderWidth:3}},hoverAnimation:!1,data:a,showSymbol:!1,symbolSize:11}]}}},{key:"render",value:function(){var e=this,t=this.state,a=t.mobile,n=(t.jtokenAddress,t.current),l=t.curStatus,r=t.jTokenData,o=t.checked,s=t.lang,c=this.props.network.menuFlag,i=this.props.lend,m=i.assetList,p=i.DAWPop,u=i.borrowModalInfo,b=i.totalCollateralShow,g=i.hideTotalCollateralPop,v=Object(C.D)(r,m),E=v.mintApyWithUSDD,k=(v.totalApy,v.mintApy);o||(k=0);var O=this.props.network.multyRealStart,T=Object(C.a)(n.base),_=this.props.lend.marketList||this.props.lend.userList,M=_[r.jtokenAddress]?_[r.jtokenAddress]:{},F=this.borrowMax(M,this.props.lend.userList[r.jtokenAddress]),I=Object(C.J)(r),P=Object(C.a)(F).isNaN()||Object(C.a)(I).isNaN()?"--":Object(C.a)(F).gte(I)?I:F;return d.a.createElement("div",{className:"modal-container main "+(a?"":"flex-end")},d.a.createElement(w.a,{classNames:"transparant-bg",instantActions:this.getMarketData,mountedActions:this.getUserData}),a?d.a.createElement(L,null):d.a.createElement("div",{className:a?"market-container right-container mobile-right-container":c?"market-container right-container":"market-container right-container max-width"},d.a.createElement("div",{className:"market-info-block flex-between"},this.renderInfo(),d.a.createElement("div",{className:"echarts-frame",onClick:function(){return e.judgeBox()},onTouchStart:function(){return e.judgeBox()},onTouchMove:function(){return e.judgeBox()}},d.a.createElement("span",{className:"echarts-title"},f.a.getHTML("market.detail_apymodel"),d.a.createElement("br",null),O?"":d.a.createElement("p",{className:"echarts-subtitle"},f.a.get("market.deposit_apy_include"))),d.a.createElement("span",{className:"left"},"Y : APY(%)"),d.a.createElement("div",{className:"canvas-box",onMouseOver:function(){e.hideDBox(),e.canvasHover()},onMouseLeave:function(){e.showDBox(),e.canvasBlur()}},d.a.createElement(y.a,{option:this.getEchartsOption(),className:"market-detail-echarts"})),d.a.createElement("div",{className:"default-text "+(l?"":"hide")+(o?" include-mint":"")},d.a.createElement("p",{className:"use-rate"},f.a.get("use_rate"),d.a.createElement("span",null,Object(C.i)(Object(C.a)(T).gt(100)?100:T,2),"%")),d.a.createElement("p",null,f.a.get("lend.depositapy"),d.a.createElement("span",{className:"blue"},"--"===Object(C.i)(Object(C.a)(Object(C.i)(n.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(k,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(C.i)(Object(C.a)(n.supply).plus(k),2,{miniText:.01,per:!0}):Object(C.i)(Object(C.a)(Object(C.i)(n.supply,2,{miniText:.01,per:!0})).plus(Object(C.i)(k,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,"-",f.a.get("market.baseAPY"),d.a.createElement("span",{className:"sub-span"},Object(C.i)(n.supply,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",{className:"mint-p"},"-",f.a.get("lend.miningapy"),d.a.createElement("span",{className:"sub-span"},Object(C.i)(k,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,f.a.get("market.borrow_apy"),d.a.createElement("span",{className:"green"},Object(C.i)(n.borrow,2,{miniText:.01,per:!0}),"%"))),d.a.createElement("span",{className:"right tar"},"X : ",f.a.get("market.detail_use_rate")+"(%)"),O&&!(h.a.hideMarketMintIcon.indexOf(r.collateralSymbol)>-1)&&d.a.createElement("div",{className:"echarts-bar"},d.a.createElement("div",{className:"flexB"},d.a.createElement("div",null,d.a.createElement("strong",null,f.a.get("market.detail_distubutedapy")),f.a.get("market.sun_mining_nex2")),d.a.createElement("div",{className:"te-subtitle pc-te-subtitle"},d.a.createElement(N.a,{className:"show-all-markets show-all-markets-m",checked:o,onChange:function(t){return e.onChange(t.target.checked)}},f.a.get("modal_mining_apy")),d.a.createElement("span",{className:"data"},h.a.usddMint.includes(r.jtokenAddress)?"".concat(Object(C.i)(E,2,{per:!0,miniText:"0.01",needDolar:!1})):Object(C.i)(v.mintApy,2,{per:!0,miniText:"0.01",needDolar:!1}),"%"))),d.a.createElement("div",{className:"bottom-bar"},"USDD"===(null===r||void 0===r?void 0:r.collateralSymbol)?f.a.get("market.detail_data_hotdesc1"):f.a.get("market.detail_data_hotdesc"))))),this.props.network.isConnected&&d.a.createElement("div",{className:"market-footer"},d.a.createElement("div",{className:"wallet-info flex-between"},d.a.createElement("div",{className:"name"},f.a.get("wallet_info")),d.a.createElement("div",{className:"action"},d.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.clickDeposit(M)}},f.a.get("index.markets_deposit")),d.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.clickBorrow(M)}},f.a.get("index.markets_withdraw")))),d.a.createElement("div",{className:"wallet-detail"},d.a.createElement("div",{className:"flex-between"},d.a.createElement("span",null,f.a.get("wallet_ballance")),Object(C.N)(M,this.props.lend.balanceInfo,3)),d.a.createElement("div",{className:"flex-between"},d.a.createElement("span",null,f.a.get("current_borrow")),d.a.createElement("span",null,d.a.createElement("span",{className:"font-rubik-medium"},Object(C.a)(P).isNaN()||Object(C.a)(P).eq(0)?"0":Object(C.d)(P,2,{miniText:.01})," "),M.collateralSymbol)))),d.a.createElement(j.a,{title:" ",footer:null,onCancel:function(){return e.setState({isNetworkError:!1})},className:"borrow-modal network-error-modal",visible:this.state.isNetworkError,width:350},d.a.createElement("div",{className:"network-error"},f.a.get("network_error")),d.a.createElement(x.a,{className:"modal-btn",type:"primary",onClick:function(){return e.setState({isNetworkError:!1})}},f.a.get("got_it"))),p.show&&d.a.createElement(A.a,{detailInfo:!0}),u.visible&&d.a.createElement(D.a,{detailInfo:!0}),d.a.createElement(S.a,null)),d.a.createElement(j.a,{visible:b,title:f.a.get("collateral_tip_title"),width:370,footer:null,className:"mortgage-modal tac",onCancel:function(){return g()}},d.a.createElement("div",{className:"mortgage-modal-body"+("zh-CN"===s?" tac":"")},f.a.getHTML("collateral_tip",{maxTotalCollateral:h.a.maxTotalCollateral})),d.a.createElement("button",{className:"collateral_btn",onClick:function(){return g()}},f.a.get("collateral_ok"))))}}]),a}(d.a.Component))||l)||l)||l)||l,F=Object(E.b)("network")(r=Object(E.c)(r=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.network.setData({routeName:"market"})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(M,null))}}]),a}(d.a.Component))||r)||r;t.default=F},784:function(e,t,a){},785:function(e,t,a){},787:function(e,t,a){e.exports=a.p+"static/media/tronlink.d2f50312.svg"},788:function(e,t,a){e.exports=a.p+"static/media/walletconnect.a4b8e828.svg"},794:function(e,t,a){},795:function(e,t,a){"use strict";var n,l=a(5),r=a(8),o=a(11),s=a(10),c=a(1),i=a.n(c),m=(a(207),a(172)),d=a(16),p=a(763),u=a(30),b=a.n(u),g=(a(785),a(210)),v=a.n(g),f=a(213),E=a.n(f),w=(a(801),a(788)),h=a.n(w),k=a(787),N=a.n(k),j=Object(m.b)("network")(n=Object(m.b)("lend")(n=Object(m.b)("system")(n=Object(m.c)(n=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).close=function(){e.props.system.setData({transModalInfo:{visible:!1}})},e.state={},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.system.transModalInfo,a=t.visible,n=t.step,l=t.txId,r=t.title,o=t.obj,s=t.title2,c=t.title3,m=t.title4;return i.a.createElement(p.a,{title:"",visible:a,closable:!0,icon:null,onCancel:function(){return e.props.system.hideTransModal()},footer:null,width:345,className:"trans-modal"},i.a.createElement("div",{className:"trans-modal-body center"},1==n?i.a.createElement(i.a.Fragment,{key:"step1"},r&&i.a.createElement("div",{className:"trans-modal-title"},b.a.get(m||r,o)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:N.a,className:"authorizeIcon"}),i.a.createElement("div",{className:"points"},i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}))),i.a.createElement("div",{className:"trans-modal-status trans-modal-wait-confirm"},b.a.get("deposit.signTronlink"))):null,2==n?i.a.createElement(i.a.Fragment,{key:"step2"},i.a.createElement("div",{className:"trans-modal-title"},b.a.get(s||"deposit.transactionsent",o)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:E.a,alt:"",style:{width:"40px"}})),i.a.createElement("div",{className:"trans-modal-tips trans-modal-submit-tips"},Object(d.U)(b.a.get("deposit.explanation4"),l)),i.a.createElement("div",{className:"modal-btn border-btn",onClick:this.props.system.hideTransModal,style:{marginTop:"20px"}},b.a.get("deposit.closed"))):null,3==n?i.a.createElement(i.a.Fragment,{key:"step3"},i.a.createElement("div",{className:"trans-modal-title"},b.a.get(c||"toast.ex_failed",o)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:v.a,alt:"",style:{width:"40px"}})),i.a.createElement("div",{className:"trans-modal-status trans-modal-cancel"},b.a.get("deposit.explanation3"))):null,4==n?i.a.createElement(i.a.Fragment,{key:"step1"},r&&i.a.createElement("div",{className:"trans-modal-title"},b.a.get(m||r,o)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:h.a,className:"authorizeIcon"}),i.a.createElement("div",{className:"points"},i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}))),i.a.createElement("div",{className:"trans-modal-status trans-modal-wait-confirm"},b.a.get("deposit.signWalletConnect"))):null))}}]),a}(i.a.Component))||n)||n)||n)||n;t.a=j},800:function(e,t,a){"use strict";var n=a(5),l=a(8),r=a(11),o=a(10),s=a(1),c=a.n(s),i=a(207),m=a(30),d=a.n(m),p=a(172),u=a(208),b=a(1046),g=a(1047),v=a(765),f=a(1405),E=a(16),w=a(0),h=a.n(w),k=a(3),N=a(763),j=a(12),x=(a(784),a(787)),O=a.n(x),y=a(788),A=a.n(y),D=a(805),S=a.n(D),C=a(806),T=a.n(C);function L(){return"undefined"!==typeof window&&!("undefined"!==typeof window&&/okex/i.test(window.navigator.userAgent))&&window.trustwallet}var _,M,F,I,P,B,U=function(){if(Object(i.a)(window.navigator).any&&("undefined"===typeof window||!window.iTron)){var e=window.location,t=e.origin,a=e.pathname,n=e.search,l=e.hash,r=t+a+n+(l.includes("?")?l:"".concat(l,"?_=1")),o={action:"open",actionId:Date.now()+"",callbackUrl:"https://some-url.com",dappIcon:T.a,dappName:"Justlend DAO",url:r,protocol:"TronLink",version:"1.0",chainId:"0x2b6653dc"},s="tronlinkoutside://pull.activity?param=".concat(encodeURIComponent(JSON.stringify(o)));if("undefined"!==typeof window&&/tokenpocket/i.test(window.navigator.userAgent)||L()){var c=document.createElement("iframe");c.style.display="none",c.src=s,document.body.append(c),setTimeout((function(){c.remove(),c=null}),5e3)}else window.location.href=s;return!0}return!1},W=Object(p.b)("network")(_=Object(p.b)("connect")(_=Object(p.c)(_=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this)).hideModal=function(){},l.loginWallet=function(e,t){l.props.network.setData({loginModalStep:2}),U(),l.props.network.initTronLinkWallet((function(){l.props.mountedActions&&l.props.mountedActions()}),(function(){l.props.unmountedActions&&l.props.unmountedActions()}))},l.loginWalletConnect=Object(k.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.state.loading){e.next=5;break}return e.abrupt("return");case 5:l.setState({loading:!0});case 6:return e.next=8,l.props.connect.init();case 8:return e.next=10,l.props.connect.connect((function(){l.props.mountedActions&&l.props.mountedActions(),l.setState({loading:!1})}),(function(){l.props.unmountedActions&&l.props.unmountedActions(),l.setState({loading:!1})}));case 10:case"end":return e.stop()}}),e)}))),l.state={lang:window.localStorage.getItem("lang")||d.a.options.currentLocale,visible:!0,loading:!1},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.loginModalVisible,a=this.state,n=a.lang,l=a.loading;return c.a.createElement(N.a,{title:d.a.get("navi.wallet_linkbtn"),maskClosable:!1,visible:t,closable:!0,onCancel:function(){return e.props.handleCancel()},footer:null,centered:!0,className:"connect-modal entry-modal"},c.a.createElement("div",{className:"connect-element entry-ele"},c.a.createElement("div",{className:"top-tip"},d.a.get("wallet.use_justlend")),c.a.createElement("div",{className:"entry-logos"},c.a.createElement("div",{className:"entry-logo",onClick:function(t){e.loginWallet(t,1)}},c.a.createElement("img",{src:O.a,alt:""}),c.a.createElement("span",null,"Tronlink")),c.a.createElement("div",{className:"entry-logo "+(l?"disabled":""),onClick:function(t){e.loginWalletConnect()}},c.a.createElement("img",{src:A.a,alt:""}),c.a.createElement("span",null,"WalletConnect"),l?c.a.createElement("img",{src:S.a,alt:"",className:"loading"}):null)),c.a.createElement("div",{className:"bottom-tip"},c.a.createElement("span",null,d.a.get("wallet.accept_tips")," "),c.a.createElement("a",{href:"".concat(j.a.fileLink,"JustLend_Terms_of_Use_").concat("en-US"===n?"en":"zh-CN"===n?"cn":"tc",".pdf"),target:"walletService"},d.a.get("wallet.service")),c.a.createElement("a",{href:"".concat(j.a.fileLink,"JustLend_Privacy_Policy_").concat("en-US"===n?"en":"zh-CN"===n?"cn":"tc",".pdf"),target:"walletPrivacy"},d.a.get("wallet.privacy")))))}}]),a}(c.a.Component))||_)||_)||_,R=Object(p.b)("network")(M=Object(p.c)(M=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this)).hideModal=function(){},l.state={visible:!0},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.loginModalVisible;return c.a.createElement(N.a,{title:d.a.get("navi.wallet_linkbtn"),maskClosable:!1,visible:t,closable:!0,onCancel:function(){return e.props.handleCancel()},footer:null,centered:!0,className:"connect-modal loading-modal"},c.a.createElement("div",{className:"connect-element"},c.a.createElement("img",{src:S.a}),c.a.createElement("p",{className:"title"},d.a.get("account_modal.connecting")),c.a.createElement("p",{className:"desc"},d.a.get("account_modal.confirm")),c.a.createElement("div",{className:"tips"},c.a.createElement("span",null,d.a.get("wallet.no_wallet")," "),c.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/tronlink%EF%BC%88%E6%B3%A2%E5%AE%9D%E9%92%B1%E5%8C%85%EF%BC%89/ibnejdfjmmkpcnlpebklmnkoeoihofec"},d.a.get("wallet.click_to_get")))))}}]),a}(c.a.Component))||M)||M,z=Object(p.b)("network")(F=Object(p.b)("connect")(F=Object(p.c)(F=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this)).disconnect=function(){l.props.connect.disconnect(),l.props.handleCancelAccount()},l.onMouseEnter=function(){l.setState({tooltipVisible:!0})},l.onMouseLeave=function(){l.setState({tooltipVisible:!1})},l.state={visible:!0,tooltipVisible:!1},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.accountModal,a=this.props.network,n=a.defaultAccount,l=a.isWalletConnected,r=this.state.tooltipVisible;return c.a.createElement(N.a,{title:d.a.get("navi.wallet_linkbtn"),maskClosable:!1,visible:t,closable:!0,onCancel:function(){return e.props.handleCancelAccount()},footer:null,centered:!0,className:"connect-modal account-modal"},c.a.createElement("div",{className:"connect-element"},c.a.createElement("img",{src:l?A.a:O.a,alt:""}),c.a.createElement("p",{className:"desc"},d.a.get("account_modal.connect_wallet",{value:l?"WalletConnect":"Tronlink"})),c.a.createElement("div",{className:"account-info",title:n,id:"copyAccount",onClick:function(e){H(e,"","copyAccount")},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}," ",c.a.createElement(v.a,{placement:"top",title:d.a.get("wallet.copy"),arrowPointAtCenter:!0,overlayInnerStyle:{textAlign:"center"},overlayClassName:"accountTooltip",visible:r},n)),l?c.a.createElement("div",{className:"disconnect",onClick:this.disconnect},d.a.get("account_modal.disconnect")):null))}}]),a}(c.a.Component))||F)||F)||F,H=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="";a=(a=t?document.getElementById(t).title:e.target.title).replace(/,/g,"");var n=document.createElement("input");n.setAttribute("value",a.valueOf()),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n);var l=document.createElement("div");l.innerHTML=d.a.get("account_modal.copied"),l.className="copied",document.getElementsByClassName("account-modal")[0].appendChild(l);var r=document.getElementsByClassName("account-modal")[0];setTimeout((function(){return r.removeChild(l)}),1e3)},V=(a(835),Object(p.b)("network")(I=Object(p.c)(I=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this)).hideModal=function(){l.props.network.setData({wsModalVisible:!1})},l.state={visible:!0},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.visible,a=this.props.network,n=a.wsURI,l=a.wsSRC;return c.a.createElement(N.a,{title:d.a.get("navi.wallet_linkbtn"),maskClosable:!1,visible:t,closable:!0,onCancel:function(){return e.hideModal()},footer:null,centered:!0,className:"connect-modal fireblocks-modal"},c.a.createElement("div",{className:"connect-element fireblocks-ele"},c.a.createElement("p",null,d.a.get("wallet.walletconnect")),c.a.createElement("div",{className:"top-tip"}),c.a.createElement("div",{className:"fireblocks-code"},c.a.createElement("img",{src:l,alt:""})),c.a.createElement("div",{className:"bottom-tip"},d.a.get("wallet.webpage"),c.a.createElement("span",{title:n,id:"copyWS",onClick:function(e){J(e,"","copyWS")},href:""},d.a.get("wallet.clipboard")))))}}]),a}(c.a.Component))||I)||I),J=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="";a=(a=t?document.getElementById(t).title:e.target.title).replace(/,/g,"");var n=document.createElement("input");n.setAttribute("value",a.valueOf()),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n);var l=document.createElement("div");l.innerHTML=d.a.get("account_modal.copied"),l.className="copied",document.getElementsByClassName("fireblocks-ele")[0].appendChild(l);var r=document.getElementsByClassName("fireblocks-ele")[0];setTimeout((function(){return r.removeChild(l)}),1e3)},Y=a(836),X=a.n(Y),q=Object(p.b)("network")(P=Object(p.b)("connect")(P=Object(p.c)(P=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this)).hideModal=function(){l.props.network.setData({wsFailureModal:!1})},l.loginWalletConnect=Object(k.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.props.connect.init();case 2:return e.next=4,l.props.connect.connect((function(){l.props.mountedActions&&l.props.mountedActions()}),(function(){l.props.unmountedActions&&l.props.unmountedActions()}));case 4:case"end":return e.stop()}}),e)}))),l.state={visible:!0},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.network.wsFailureModal;return c.a.createElement(N.a,{title:d.a.get("navi.wallet_linkbtn"),maskClosable:!1,visible:t,closable:!0,onCancel:function(){return e.hideModal()},footer:null,centered:!0,className:"connect-modal failure-modal"},c.a.createElement("div",{className:"connect-element"},c.a.createElement("img",{src:X.a,alt:""}),c.a.createElement("p",{className:"title"},d.a.get("wallet.declined")),c.a.createElement("p",{className:"desc"},d.a.get("wallet.declined_desc")),c.a.createElement("div",{className:"reconnect",onClick:function(t){e.loginWalletConnect()}},d.a.get("wallet.reconnect"))))}}]),a}(c.a.Component))||P)||P)||P,K=(a(837),a(838),a(839)),G=a.n(K),Q=a(840),Z=a.n(Q),$=a(841),ee=a.n($),te=a(842),ae=a.n(te),ne=(a(843),a(844)),le=a.n(ne),re=(a(845),a(846),a(847),a(848),a(849)),oe=a.n(re),se=a(850),ce=a.n(se),ie=(a(851),b.a.Option),me=(g.a.SubMenu,Object(p.b)("network")(B=Object(p.b)("connect")(B=Object(p.c)(B=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).setLanguage=function(e){l.props.network.setData({lang:e}),l.setState({lang:e}),window.localStorage.setItem("lang",e),window.location.search="?lang=".concat(e)},l.handleCancel=function(){l.props.network.setData({loginModalVisible:!1})},l.goBack=function(){l.props.network.setData({loginModalStep:1})},l.showLoginModal=function(e){l.props.network.connectWallet()},l.showAccountInfo=function(){l.setState({accountModal:!0})},l.handleCancelAccount=function(){l.setState({accountModal:!1})},l.hideSecondPop=function(){l.props.network.setData({noSupport:!1}),l.onClose()},l.openDrawer=function(){l.setState({drawerVisible:!0})},l.onClose=function(){l.setState({drawerVisible:!1})},l.renderMobileHeader=function(){var e=l.props.network,t=(e.isConnected,e.defaultAccount,e.routeName),a=l.state,n=a.lang;a.mobile;return c.a.createElement("div",{className:"menu-content wallet-content"},c.a.createElement("div",{className:""},c.a.createElement("div",{className:"mobile-drawer-logo"},c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("discover_dao"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("a",{href:j.a.portalLink+"?lang="+n,target:"potal",onClick:gtag("event","click",{event_category:"H5",event_label:"portal_logo"})},c.a.createElement("img",{src:T.a,alt:""})))),c.a.createElement(u.b,{className:"mobile-link logos big-logo index-logo",to:"/home"},c.a.createElement("span",{id:"home"===t?"active-bg":""}),c.a.createElement("span",{id:"home"===t?"m-active-menu-text":""},d.a.get("overview"))),c.a.createElement(u.b,{className:"mobile-link logos big-logo market-logo",to:"/market"},c.a.createElement("span",{id:"market"===t?"active-bg":""}),c.a.createElement("span",{id:"market"===t?"m-active-menu-text":""},d.a.get("navi.market_btn"))),c.a.createElement(u.b,{className:"mobile-link logos big-logo vote-logo",to:"/vote"},c.a.createElement("span",{id:"vote"===t?"active-bg":""}),c.a.createElement("span",{id:"vote"===t?"m-active-menu-text":""},d.a.get("navi.vote_btn")))),c.a.createElement("div",{className:"horizontal-line menu"}),c.a.createElement("div",null,c.a.createElement("a",{className:"mobile-link logos small-logo portal-logo",href:j.a.portalLink+"?lang="+n,target:"portal",onClick:gtag("event","click",{event_category:"H5",event_label:"portal_left_menu"})},c.a.createElement("span",null),c.a.createElement("span",null,d.a.get("website"))),c.a.createElement("span",{className:"mobile-link mobile-language-link logos small-logo language-logo new-menu mobile-resources"},c.a.createElement(b.a,{value:d.a.get("navi.resources"),style:{width:156},dropdownClassName:"mobile-select",dropdownMatchSelectWidth:156},c.a.createElement(ie,{value:"",key:"white"},c.a.createElement("a",{className:"logos small-logo white-logo",href:"en-US"===n?j.a.whitePaperEn:"zh-CN"===n?j.a.whitePaperCn:j.a.whitePaperTc,target:"whitePaper"},c.a.createElement("span",null),c.a.createElement("span",{className:"fs12"},d.a.get("navi.white_paper")))),c.a.createElement(ie,{value:"",key:"audit"},c.a.createElement("a",{className:"logos small-logo audit-logo",href:j.a.auditEn,target:"audit"},c.a.createElement("span",null),c.a.createElement("span",{className:"fs12"},d.a.get("navi.audit")))))),c.a.createElement("span",{className:"mobile-link mobile-language-link logos small-logo language-logo new-menu mobile-developer"},c.a.createElement(b.a,{value:d.a.get("navi.developer"),style:{width:156},dropdownClassName:"mobile-select",dropdownMatchSelectWidth:156},c.a.createElement(ie,{value:"",key:"document"},c.a.createElement("a",{className:"logos small-logo document-logo",href:"en-US"===n?" https://docs.justlend.org/":"https://docs-zh.justlend.org/",target:"guide"},c.a.createElement("span",null),c.a.createElement("span",null,d.a.get("footer.develop")))),c.a.createElement(ie,{value:"",key:"github"},c.a.createElement("a",{className:"logos small-logo github-logo",href:j.a.github,target:"github"},c.a.createElement("span",null),c.a.createElement("span",null,d.a.get("navi.github")))),c.a.createElement(ie,{value:"",key:"bounty"},c.a.createElement("a",{className:"logos small-logo bounty-logo",href:j.a.bountyLink,target:"bounty"},c.a.createElement("span",null),c.a.createElement("span",null,d.a.get("navi.bug_bounty")))))),c.a.createElement("a",{className:"mobile-link logos small-logo help-logo",href:"en-US"===n?j.a.helpEn:j.a.helpCn,target:"report"},c.a.createElement("span",null),c.a.createElement("span",null,d.a.get("navi.help"))),c.a.createElement("span",{className:"mobile-link mobile-language-link logos small-logo language-logo new-menu"+("zh-CN"===n?" ch-logo":"")},c.a.createElement(b.a,{defaultValue:n,style:{width:156},onChange:l.setLanguage,dropdownClassName:"lang-select"},c.a.createElement(ie,{value:"en-US"},"English"),c.a.createElement(ie,{value:"zh-TC"},"\u7e41\u4f53\u4e2d\u6587"),c.a.createElement(ie,{value:"zh-CN"},"\u7b80\u4f53\u4e2d\u6587"))),c.a.createElement("div",{className:"mobile-drawer-footer"},c.a.createElement("a",{className:"mobile-link footer-logo",href:j.a.twitter,target:"twitter"},c.a.createElement("span",{className:"mobile-twitter-logo"}),c.a.createElement("span",null,d.a.get("navi.twitter"))),c.a.createElement("a",{className:"mobile-link footer-logo",href:j.a.telegram,target:"telegram"},c.a.createElement("span",{className:"mobile-telegram-logo"}),c.a.createElement("span",null,d.a.get("navi.telegram"))))))},l.setWidth=function(){l.props.network.changeMenuWidth()},l.state={lang:window.localStorage.getItem("lang")||d.a.options.currentLocale,visible:!1,step:1,accountModal:!1,drawerVisible:!1,mobile:Object(i.a)(window.navigator).any},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.instantActions&&this.props.instantActions(),this.props.network.isConnected?this.props.mountedActions&&this.props.mountedActions():this.props.network.initTronLinkWallet((function(){e.props.mountedActions&&e.props.mountedActions()}),(function(){e.props.unmountedActions&&e.props.unmountedActions()}),!1),this.props.network.listenTronLink()}},{key:"render",value:function(){var e=this,t=this.state,a=t.accountModal,n=t.lang,l=t.drawerVisible,r=t.mobile,o=this.props.network,s=o.isConnected,i=o.isWalletConnected,m=o.defaultAccount,p=(o.defaultSelectedKeys,o.loginModalVisible),g=o.loginModalStep,w=o.routeName,h=o.menuFlag;o.wsModalVisible;return c.a.createElement(c.a.Fragment,null,r?c.a.createElement("div",{className:"mobile-header "+this.props.classNames},c.a.createElement("div",{className:"flex-between aic"},c.a.createElement("div",{className:"mobile-logo flex-between"},c.a.createElement("span",null)),c.a.createElement("div",{className:"connect-wallet-new"},s?c.a.createElement("div",{onClick:function(){e.showAccountInfo()},className:"wallet-info pointer"},c.a.createElement("img",{className:"wallet-success",src:i?Z.a:G.a,alt:""}),c.a.createElement("span",{className:"font-dmsans"},Object(E.f)(m,6,6))):c.a.createElement("div",{onClick:function(t){e.showLoginModal(t)},className:"wallet-info pointer"},c.a.createElement("img",{className:"wallet-success",src:ee.a,alt:""}),c.a.createElement("span",null,d.a.get("navi.wallet_linkbtn")))),c.a.createElement("div",{className:"mobile-category",onClick:function(t){e.openDrawer()}})),c.a.createElement(f.a,{title:null,placement:"right",className:"m-menu-drawer mobile-menu-drawer",closable:!0,onClose:this.onClose,visible:l,closeIcon:c.a.createElement("img",{src:le.a,alt:"close",className:"closeIconMobile"})},this.renderMobileHeader())):c.a.createElement("div",{className:"header-container "+(h?"":"minWid"),id:"language-area"},c.a.createElement("div",{className:"menu-scroll-frame"},c.a.createElement("div",{className:"menu-scroll"},c.a.createElement("div",{className:"logos header-logos"},c.a.createElement("span",{className:"header-text"},c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("discover_dao"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("a",{href:j.a.portalLink+"?lang="+n,target:"potal",onClick:gtag("event","click",{event_category:"PC",event_label:"portal_logo"})},"\xa0")))),c.a.createElement("div",{className:"menu-content"},c.a.createElement("div",{className:"features"},c.a.createElement("div",{className:"connect-wallet"},s?c.a.createElement("div",{className:r?"account-basic-info-m":"account-basic-info"},c.a.createElement("div",{onClick:function(){e.showAccountInfo()},className:"address-text pointer"},c.a.createElement("img",{src:i?Z.a:G.a,alt:""}),c.a.createElement("span",{className:"addr-span"},Object(E.f)(m,4,4)))):c.a.createElement("div",{onClick:function(t){e.showLoginModal(t)},className:"address-text pointer"},c.a.createElement("img",{src:ae.a,alt:""}),c.a.createElement("span",{className:"addr-span"},d.a.get("navi.wallet_linkbtn")))),c.a.createElement("div",{className:"horizontal-line menu"}),c.a.createElement(u.b,{className:"logos big-logo index-logo",to:"/home"},h?c.a.createElement("span",{id:"home"===w?"active-bg":""}):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("overview"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",{id:"home"===w?"active-bg":""})),c.a.createElement("span",{id:"home"===w?"active-menu-text":"",title:d.a.get("overview")},d.a.get("overview"))),c.a.createElement(u.b,{className:"logos big-logo market-logo",to:"/market"},h?c.a.createElement("span",{id:"market"===w?"active-bg":""}):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.market_btn"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",{id:"market"===w?"active-bg":""})),c.a.createElement("span",{id:"market"===w?"active-menu-text":"",title:d.a.get("navi.market_btn")},d.a.get("navi.market_btn"))),c.a.createElement(u.b,{className:"logos big-logo vote-logo",to:"/vote"},h?c.a.createElement("span",{id:"vote"===w?"active-bg":""}):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.vote_btn"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",{id:"vote"===w?"active-bg":""})),c.a.createElement("span",{id:"vote"===w?"active-menu-text":"",title:d.a.get("navi.vote_btn")},d.a.get("navi.vote_btn")))),c.a.createElement("div",{className:"horizontal-line menu"}),c.a.createElement("div",{className:"links"},c.a.createElement("a",{className:"logos small-logo portal-logo",href:j.a.portalLink+"?lang="+n,target:"portal",onClick:gtag("event","click",{event_category:"PC",event_label:"portal_left_menu"})},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("website"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",null)),c.a.createElement("span",null,d.a.get("website"))),c.a.createElement("div",{className:"small-logo resources-logo"},c.a.createElement("span",null),h?c.a.createElement("span",{className:"name"},d.a.get("navi.resources")):null,c.a.createElement("em",{className:"arrow"}),c.a.createElement("div",{className:"sub-menu-links"},c.a.createElement("a",{className:"logos small-logo white-logo",href:"en-US"===n?j.a.whitePaperEn:"zh-CN"===n?j.a.whitePaperCn:j.a.whitePaperTc,target:"whitePaper"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.white_paper"),placement:"right",arrowPointAtCenter:"center"}),c.a.createElement("span",null,d.a.get("navi.white_paper"))),c.a.createElement("a",{className:"logos small-logo audit-logo",href:j.a.auditEn,target:"audit"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.audit"),placement:"right",arrowPointAtCenter:"center"}),c.a.createElement("span",null,d.a.get("navi.audit"))))),c.a.createElement("div",{className:"small-logo resources-logo developer"},c.a.createElement("span",null),h?c.a.createElement("span",{className:"name"},d.a.get("navi.developer")):null,c.a.createElement("em",{className:"arrow"}),c.a.createElement("div",{className:"sub-menu-links"},c.a.createElement("a",{className:"logos small-logo document-logo",href:"en-US"===n?" https://docs.justlend.org/":"https://docs-zh.justlend.org/",target:"guide"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("footer.develop"),placement:"right",arrowPointAtCenter:"center"}),c.a.createElement("span",null,d.a.get("footer.develop"))),c.a.createElement("a",{className:"logos small-logo github-logo",href:j.a.github,target:"github"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.github"),placement:"right",arrowPointAtCenter:"center"}),c.a.createElement("span",null,d.a.get("navi.github"))),c.a.createElement("a",{className:"logos small-logo bounty-logo",href:j.a.bountyLink,target:"bounty"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.bug_bounty"),placement:"right",arrowPointAtCenter:"center"}),c.a.createElement("span",null,d.a.get("navi.bug_bounty"))))),c.a.createElement("a",{className:"logos small-logo help-logo",href:"en-US"===n?j.a.helpEn:j.a.helpCn,target:"report"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.help"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",null)),c.a.createElement("span",null,d.a.get("navi.help"))),c.a.createElement("span",{className:"lg-mobile logos small-logo language-logo new-menu"+(["zh-CN","zh-TC"].includes(n)?" ch-logo":"")},c.a.createElement(b.a,{defaultValue:n,style:{width:120},onChange:this.setLanguage,dropdownClassName:"lang-select",getPopupContainer:function(){return document.getElementById("language-area")}},c.a.createElement(ie,{value:"en-US"},"English"),c.a.createElement(ie,{value:"zh-TC"},"\u7e41\u4f53\u4e2d\u6587"),c.a.createElement(ie,{value:"zh-CN"},"\u7b80\u4f53\u4e2d\u6587"))))))),c.a.createElement("div",{className:"menu-footer"},c.a.createElement("a",{className:"logos mini-logo twitter-logo",href:j.a.twitter,target:"twitter"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.twitter"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",null)),c.a.createElement("span",null,d.a.get("navi.twitter"))),c.a.createElement("a",{className:"logos mini-logo telegram-logo",href:j.a.telegram,target:"telegram"},h?c.a.createElement("span",null):c.a.createElement(v.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:d.a.get("navi.telegram"),placement:"right",arrowPointAtCenter:"center"},c.a.createElement("span",null)),c.a.createElement("span",null,d.a.get("navi.telegram"))),c.a.createElement("div",{className:"arrow",onClick:function(){return e.setWidth()}},c.a.createElement("img",{src:h?oe.a:ce.a,alt:""})))),p?1===g?c.a.createElement(W,{loginModalVisible:p,handleCancel:this.handleCancel,mountedActions:this.props.mountedActions,unmountedActions:this.props.unmountedActions}):c.a.createElement(R,{loginModalVisible:p,handleCancel:this.handleCancel}):null,a?c.a.createElement(z,{handleCancelAccount:this.handleCancelAccount,accountModal:a}):null,this.props.network.wsModalVisible?c.a.createElement(V,null):null,this.props.network.wsFailureModal?c.a.createElement(q,{mountedActions:this.props.mountedActions,unmountedActions:this.props.unmountedActions}):null)}}]),a}(c.a.Component))||B)||B)||B);t.a=me},801:function(e,t,a){e.exports=a.p+"static/media/authorize.6f2e8e85.svg"},805:function(e,t,a){e.exports=a.p+"static/media/loading.929da255.png"},806:function(e,t,a){e.exports=a.p+"static/media/justLend.1a53c9b2.svg"},835:function(e,t,a){e.exports=a.p+"static/media/fireblocks.36b35977.svg"},836:function(e,t,a){e.exports=a.p+"static/media/failure.cf89d0d7.svg"},837:function(e,t,a){},838:function(e,t,a){},839:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAThSURBVHgB7ZhdTBxVFMfPUqWBgEPClhQLK6EJH8mSWCs+iCYrPpjw0KLxoUb8fDEmJkUfIFpMS9Ka6IO2LzXExKLQSKKJ4QU/HloSuz5IpZqS7FLTAkvbTYBtoIs0RZv1/O/O2c7OzgzM2Cyl6T+5e+fjzszvnnvOufcu0WZXKpVq53I6lX9NcTnBpcYNL4APpjZeU6l1gPt04Ne5OoHjAycv0ze/JOj6yi3Kl4KBYhrorKVqfyFOR30+3zNO7QX6NFchAPf9NEcbIQCPHm4krXgLTmsYfMaubYFeP4qfkd8XaaM0u7BKP9z+vqOlBbpMHtwMKqBNqPvQ+dK9B63nzbtODzjdfOnpcup6vpImYjcoxpnl10iSzs+s0Hk+z+fkY5YjNCYaQAcDRaq0PaZl7i0xNDozwZ0IR5MUm19V5/mQIzTAANTSUJpzDzNXS0OJKm89V5G5LqOiOsMjI527k5JpPIXa/+p4ToOWxhIafr+OzJ3B7FW9bSs18Qg8lJ56bWUcFUxgcDF07Cl+N9YdeA+MgNHUp/GjXHp5Kl/0BA1hTYAXGoWP7v3ogoLAhwMctMFHitLH2wpz2ntUvw4/TW6h4dcoECwmQADvOTnLa5Yly+fMncGo6Zak5K1/6NRSnM4mExS5saTOdxQWU+mWB6lV206tZZXqmLWogx91BY0PjX8aVDWCMzZ/k450VGfuf/J9XBUnGTs+OHeRjscnFaidHuYOtJcH6O3Kerl0iMF7cbCuyQU+OcRrbGgfp8GhM9co1BPJLLAA8/X+Wtu8LsCAfPOvMH18ecIRGLq6usIdi9KLkVFpe4ht27luaGhkPB0TsDayBdxkD/s0ggtq211Gwx/U5YDjXCz8xoUwjSUXyI0m2XXwnA7+GYOH1g0djiyr9CeAECwd+jCa2TjAf8+xGxlT4JGX024EqwHAi/Dc8auTcnrQ1dpj5Gz6owhE5GcRdjwHBmfpNmiVKrBy225NDfXn8Un6Pxqcv6jewwq5gh46k1D+DXW9UJl1r+/n+Sw/h7VhdWiAA+9OaGDukqpdQRsDErOkZppUxM/NO6CxZILcqqNiJ33XGJK0p3RqMe4eGpKAhIy+KwLwrvcmsjbIbn25qypI3VzqizTasbU4cx3ugYB0DW0MSCtoEfwcskptrWXblRUbirSs67Dql3Ut9ApbWdJjdCW7w56gob4f01aURZOd4E7G4c3AFRQqKwJQwDEboiPNJX5lUeRnq/SI93mCDkeXbQPSKPFtzG5GDV+LqWwilu2oqKVvGRjt4LcA1jNFDrBnaACLzyIg7WZCLE0huINZyNsC3l3VpGpc23/pN9vZUt7jeY9oDDTscKwkQduqWY+GgAOyZ+bcmrkcaxHIM7RsECAEpGaxpkbQwkWaS/3KV+3An/xzhIYTMXISVn6Pp98xLdDKJNoai3mzZGWH5/bZWPudL6ZVfbhmlwo2L8Jz3dVNctor0H/gxymFWQmWlIDEdG3XBq6EIEPQuQVH+2M7n5Bg7uflab9AHxNoO/+0kzEg7dIfcjZWgwK+V/fNtdRcUq7a16fTIgz7Lg580oCXfP1cvYZjWM/NXwSSPdZ6zphlxpYX2I9neeeyQFcM6Q1Z5Fn23z3+gDEOvuLSablnxJ/r+r/xedX1f1dTV27+rWqTpri0mzn/A6N87E/X6kdQAAAAAElFTkSuQmCC"},840:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAkCAYAAADy19hsAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAh6SURBVHgBxVl9bFdXGX7e+2uhYFs6QegorMUtrlXUfdV9QEgxWeo/ylQQ/9iAMVaXqdn8hOgMI2QmzphtJrplLBIYsOlARKPBoJRNOzWwjBlkZXOu+yjtyEZbOtuO9p7j+3HuR2vL2iZsLxzO+Z177j3P+5znvOe9FyCY976BSzOXLv/eWDOXNZiM8Y0b/ftnGyeClYKXW+XHlpYYu454f2bAEzzg5LI5RM7LUFCs/dzFF520eajVQBzqtM8lfZRejx358hLQTfXAfZ9PcSwlokPjARxxWS2N+w/GeORvzved9VQgjyiC55oiKTKQa+L+Av8oEIE7fUTSH0qUa3MhYUP7SeukRJGnngHgp08Bm/anOMbNsmBpkMb+446BCBgDJRMZuBwYRc1AkTgRwHGH/IkSYPwjuSb91kd8nUJt4x54UtZR7bLxAi5KGn2Dyqg+ycnaswz0aQxS1xSqH2aZEItTPDBmykUrkQxn6kQzoiEfGBY44qPXx4rMmF7Sv3q9e8CGsVVgnFaUUe3EdZsROqkAUC2TPZZly2QKKFIsqm2plTe51RlWlQOPEOfgkz5FrByD1KvUr4lYCrgQCUKkT9GNZjSRU4cMdmh7Z2zL8gpUCHciMPUKViJzHOaUMhtAZ2MmD5iMCqfOW0RQduWi0qdoyWY3ekQKSNgWRnU1yIAGBsnITzYhIQFtlfkySYaNNZ0cympglJXnw0NJnSqbSn7JxaArqwuonQ2UTgXO8M5/vRs40Orx9Msebaf1Bh/kkjpPQRFJe9IMCw1RWD3nff5pOpkuKA9ourZAK68kYtDDHlTFpa4SuL7W+p846uknf/Z4pSthPug6rErm/sRQ5yWh6+NEly4stBLDM3AEmFsG+uHninDJh8Y3wYrLCNfUENbudPjnSSAsP/ISSYPa5ACbRIUBl2wejblEc8o83be8GJXlGdjedzyaXwBOnPK+p8/rqVdfHeFT1YSqEKTmc33gqxFW7/T+98cyWdmuDvFtsoD1UHASGRil83pwSPwVEspLItZp9uwnX3TY9AeH7n4J0XJcc2xmB/c8F+um/dqSCHc0ROn4iy6wCEc+C3NBfRPedKTRnm35wwNez3wnACQcE4ZcyBG4XjCLcP+KYvzyGac5hwsg4ySH4BgY5/KJS+dE/vE1EW152uPHrGV+lj6/bCroy1cBixcQPsHCr74gxdIWyjYuh9jDtnMC/tLD/Yg5UDmmSyadVUr42NwC/ng8RhySl+lTiFmFj50uhoIeYt8+u5DoTxwduvot0bEkx6O0JPKn+zQJIlmhpusIX1kMzCjJAJw826f13CnTR2K7m0FvGhPwykeYYdbDEE8kYO9ZNgWzywiP/iPGtr8LaM+FHXLiEDFoy9xuXVTAbYsjtL7hcdP2mI9bDo9yLZepzZ0B/HpdpJrujQex761XcbCnE619Pfo7sfqyWVj2wflYNvOiPOtL82xngLcMKAhJKdc3FtPVNZkGtzPgrQoaNkaWn0W47tqImhYX0nHPd3rcuF20jVQuVTMIu2+JMI/BHn77TdzV9mzK6lgmbN9TfTmuYgdGgk5ReWdJihzJW/4yiFO9WcxZdU0BjXURKAn7/G/TosIwsGJ1lYQdqyKUTdPApSEgAbvj1EtY+0LLu4IVkzE3v9ii97DVcGlmXBXDAEv8tYQGDBbYsHcQb+RAb2gswmfq7KBed10EKaOZgN61iqi8xNM3llLK7I9eP4aJmtxzpPfNBPSdOnkiiS8+NKBLKPTZcpKfXQq69wvFmJOLv0/922HJJRnYkz3A2h0x65hwwyez/uMsj49W2n2Nxw6Mi9nRTOSxu64BZYViPvixIJ1BIwHjF526II2OXvhv7hlE55nsASPB3rJzCO09Ht/7ncPe51x6LQErG2yyYHUOvvc3/AxYzrwmk4TF3qBjC+sCvIPB3PHE2WGgE7C3CthuPjycJXMbfuuw56gbNm7f6dcwUbuBI0VVLsw1d3cmzYZhDEvs5L2XvFwGpgkdZ+C//qtBqdU6GGzTLmM2yXSlX1Kb7+zzfncO9GHT4LiMlx2/+MgibK65AjfO/nDa39rfkzQz0aVx00BLLYg1zMkbcnsP/O2PD+GZ1zyaHjOwondnybA5GV6lvrXXNutoUqgvnZmPs6lVBa3Wl87S+x499Z/0msTq8KyaNJdw9k5kr/be4rHWPgHt6STL/rbHLB7ba1+SvBu7mirYqoyZI6yf/3FcOm0Gb6ZpeLDjROrEAxdfrQwf7O7AXa88O+xAyVtRnuHwkhE0TJZTqDN8chk+SrTufAbU2bufasjzaSipmCTz8yqmK4j85N/ng2MrL/vtF9YG9oawft5Cbf+8ozV1YqSFo7st23RIP36QC7mAMCunWqJlFzak4krHe33Bdj5x2FLNf3WaLGqZzbydYD3ezAeIOCGgE7D3cswdC6zIJFhbTsM+94VGwptKWI9gBRik4YYDT2py4SXaQBNaggQ/XVH5fwDyoEWby58/xJp9CWPZspnzk+Y2EWoXNyoafzboe/stVVUQhiVsKpNHLnqoPmyT2uqYpNJU05eWEI58mzOA4kGsYEDto2xAWWYBPZZexWQz7l94ffJTD46j0lpxeUF1ms9pY0ch7/XKujliDsVBJj78TpwTsKJ1ToDoob961fBmTmRGM2H3XGDFNtek926SBEgAa84pucHKKwr0gSlJIk72bSLkvhYx9G3Eattj6YfA4RLRFNM/2AL/apeljYlWJ2Lf5XuCftsY7N3SsHdB7+XHRpxnk0PkBxyy2t/lqBYZCLMJWOTSyzRWhs+uqxE+Dp5Pk/xCyuG330r7RDq108p5k16oB4v8xigJ/HtqspIjv2a3v/NfLSOsK4wd90fC8wm6RlbT238ZvJwDKe29XO48F9D/AdTQaG1AC34oAAAAAElFTkSuQmCC"},841:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAnCAYAAABJ0cukAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS5SURBVHgB7VlbaFRHGP7XWsVUk7RNAqUxCtqSlA20tRQhvVgoCeSh1dKCUkhLH5oWfYgiitfEKyqi8UEwPnhDMQ+iyUvQPJiIBkQ0CFmMeHfjBWLURCXijeN8M+c/Z/Zk9uzZDexG8YM5Z85czv7fzHwz/3+W6G2CZVkzRGoT6aGVGbSJ9CWlAtGx1ho5qAlqd8g2frK4XUe+4VgvbTxylx4NvqJ0YmLeGJrz/ce0aNYnXPRTKBRqT9RvlH2vxWWTMHzZgVtpNx7o6Xsufx8DaOOvIP2YwExcDp68T5nGDpfAzCDtmUAuLhiFTEOzITdI+1H0huMdgUzjHYFMY7RfZVnJBCorHk8d3Y8pKnaHkbBLeeFLIHJzkJqXfEZkn44D4oCLRJ/KcpDpEvcu8ZyJg4/hSwAGt5zrp8ppakvOyXpPzgiSDpDCDIFYJDpI0XvPZVk6MDpRg4bWXodAPISLxslU+XWOU5au2WJnzsI9r6rT2Kh9bYk0UAd0gdkpnZRFE/PHUqmozxYzlAje2QoXZUmtFQlnDg6dB/NFahJO3Q0aDgF4iJqX6AAE4PyxuGEMDAlPGqfy+WOGEE8Re0RaZSISiADWfueWsLyzsTxaGM1f11/y3aGYWFnJeJotXOYcnqlHQietXSJFiC7cJrr1QJUXfkT0xadE5WGi37/l1/TbJOr1dwc6B7CeG21PFYbP23lDjj4Aw7DEqisK4vbHUmnp7JfvcYyH4d+tIVp4UOXZeAB5lKEObQ6dQSmEuFWMdW3SBAAYwMCardp2TfrvAIxa92ehcZkxqssL3PrVTUT/7lIzkAggAyLoo1CnR2yBCXR0P6GOi4+VMWK0YTQIVNVflSMLwMD2tcVDxIjnRb/ZxtcfI9p1gpIG+rgkau0oMjlXouXsgLzL80DMgizrHKAZy7tjhNy89PMY8S4WxOTSwVKoP0opAyTc5bQ7aQKNp+47o11dke+Uw/hfhJB5hnRdYPQhXAmMvo5TK1SCaL1AGdfrwCyopYcvKLlJEdDFXFY8IeZE7pG70WVHFwB0sa9minrAyOlC1Q1tnBtLwlTGgPFqFoCapL1RXcymE1p+GNjf4zyX8lLCVunF7O2KlG6wnkcd2nhx+grnfkyagC7mmD1dQ0PrPfpqQST2bDCNPhuok/Aab+p34Q7nJqcUD+hidta3B6wL90dvm1/mJZHIeO4zHAK6mCun5cRtl474ISUCfmL2wiFhEiSX68vGqwkTsp0tuj/lkDKRmBnRvmcqA9/GC5NgTcL2YvoUzp1PmUAQMXM7z4+6MAnWJGwvyks51zysoD6ImJ1vnfAqsw2utUmwfiIGKddDbRoWgSBiRr2cKRi/eU5sJTxNpHhbLNfrqKng3B7EB0xALmhDROQLGMcj7CfmeTtvKqKY+n9+oJSBvmr0ZWyADBNoxuU/H58+HjguAOLFBPLT+WH78Fk5Sx/F4IDx6KvgRGdSeXV1dbDi72+mfiBrEWUFDb57B17KSKsobywV5L5Pe4/30bMX1pB2564Oyrv0YqdPVWsZJ2qimABLb90fRP//rBu/gR9CnLGDhK2UbsAx44iMXYTCD9W2C6Ku+I0hZQws90++kYY2yw5gvHgNqiMCiBd04cYAAAAASUVORK5CYII="},842:function(e,t,a){e.exports=a.p+"static/media/walletFail.ce8b20dd.svg"},843:function(e,t,a){e.exports=a.p+"static/media/mainLogo.2a33100e.svg"},844:function(e,t,a){e.exports=a.p+"static/media/close-icon.743b07e8.svg"},845:function(e,t,a){e.exports=a.p+"static/media/tronlinkLogo.5b031fbe.svg"},846:function(e,t,a){e.exports=a.p+"static/media/walletConnectLogo.425ea59a.svg"},847:function(e,t,a){e.exports=a.p+"static/media/tronlinkBlue.a0d1fdfc.svg"},848:function(e,t,a){e.exports=a.p+"static/media/tronlinkRightArrow.6021c8fd.svg"},849:function(e,t,a){e.exports=a.p+"static/media/menuLeft.32868c37.svg"},850:function(e,t,a){e.exports=a.p+"static/media/menuRight.67fa27b7.svg"},851:function(e,t,a){e.exports=a.p+"static/media/copy.c24f9608.svg"},852:function(e,t,a){e.exports=a.p+"static/media/warning-triangle.fac74cfc.svg"},875:function(e,t,a){"use strict";var n,l=a(0),r=a.n(l),o=a(3),s=a(5),c=a(8),i=a(11),m=a(10),d=a(1),p=a.n(d),u=(a(207),a(25)),b=a.n(u),g=a(172),v=a(16),f=a(38),E=a(1402),w=a(1403),h=a(123),k=a(763),N=a(30),j=a.n(N),x=(a(785),a(209)),O=a.n(x),y=a(909),A=a.n(y),D=a(852),S=a.n(D),C=a(12),T=E.a.TabPane,L=Object(g.b)("network")(n=Object(g.b)("lend")(n=Object(g.b)("system")(n=Object(g.c)(n=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.startInterval();var e=n.props.lend.borrowLimit;n.props.lend.DAWPop.popData;n.setState({borrowLimitAfter:e,withdrawLimitAfter:e})},n.getCash=Object(o.a)(r.a.mark((function e(){var t,a,l,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.lend.DAWPop.popData,!(a=void 0===t?{}:t)||!a.jtokenAddress){e.next=9;break}return e.next=4,Object(f.c)(a.jtokenAddress);case 4:l=e.sent,o=l.balance,s=void 0===o?0:o,l.success&&(n.state.poolCash=b()(s));case 9:case"end":return e.stop()}}),e)}))),n.startInterval=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.timerInterval){e.next=4;break}return e.next=3,n.getCash();case 3:n.timerInterval=setInterval(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCash();case 2:case"end":return e.stop()}}),e)}))),3e3);case 4:case"end":return e.stop()}}),e)}))),n.clickMaxWithdraw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deposited,a=void 0===t?0:t,l=e.collateralDecimal,r=b()(a)._toFixed(l,1);try{n.setState({withdrawValue:r},(function(){n.withdrawChange(r)}))}catch(o){console.log("clickMaxWithdraw: ",o)}},n.clickSafeMax=function(e){try{var t=n.props.lend,a=t.borrowLimit,l=t.totalBorrowUsdForUSDD,r=t.trxPrice,o=t.userList,s=e.precision,c=e.collateralFactor,i=e.assetPrice,m=e.collateralDecimal,d=e.jtokenAddress,p=e.deposited_usd,u=void 0===p?0:p,g=e.deposited,f=void 0===g?0:g,E=b()(0);if(E=d===C.a.usddJtoken?b()(a).minus(b()(f).times(c).div(C.a.tokenDefaultPrecision)):b()(a).minus(b()(u).times(c).div(C.a.tokenDefaultPrecision)),!Object(v.e)(o,d)||n.checkSafe(l,E))return n.setState({isClear:!0}),n.clickMaxWithdraw(e);var w=b()(l).div(C.a.safeMaxRate),h=b()(0);h=(h=d===C.a.usddJtoken?b()(a).minus(w).div(c).times(C.a.tokenDefaultPrecision):b()(a).minus(w).times(C.a.defaultPrecision).div(r).times(C.a.tokenDefaultPrecision).div(i).times(C.a.tokenDefaultPrecision).div(c).times(C.a.tokenDefaultPrecision).div(s)).lt(0)?0:h._toFixed(m,1),n.setState({withdrawValue:h,withdrawLimitAfter:w},(function(){n.withdrawChange(h)}))}catch(k){console.log("clickSafeMax: ",k)}},n.clickMax=function(){try{var e=n.props.lend.balanceInfo,t=n.props.lend.DAWPop.popData,a=t.precision,l=t.collateralDecimal,r=t.jtokenAddress,o=t.collateralAddress,s=b()(e[r].balance).div(a);s=o===C.a.zeroAddr&&s.lt(0)?0:s._toFixed(l,1),n.setState({depositValue:s},(function(){n.depositChange(s)}))}catch(c){console.log("clickMax:",c)}},n.checkSafe=function(e,t){return b()(e).eq(0)||b()(e).div(t).gte(0)&&b()(e).div(t).lt(C.a.safeMaxRate)},n.getSafeMaxText=function(e){try{var t=n.props.lend,a=t.borrowLimit,l=t.totalBorrowUsdForUSDD,r=t.userList,o=e.jtokenAddress,s=e.deposited_usd,c=void 0===s?0:s,i=e.collateralFactor,m=e.deposited,d=b()(a).minus(b()(o===C.a.usddJtoken?m:c).times(i).div(C.a.tokenDefaultPrecision));return!Object(v.e)(r,o)||n.checkSafe(l,d)?j.a.get("deposit.max"):j.a.get("withdraw.safemax")}catch(p){return console.log("getSafeMaxText, ",p),j.a.get("withdraw.safemax")}},n.withDrawContent=function(e){var t=n.state,a=t.withdrawValue,l=t.withdrawLimitAfter,r=t.isClear,o=t.errInfo2,s=o.btnText,c=o.status,i=n.props.lend,m=i.borrowLimit,d=(i.totalBorrowUsdForUSDD,i.assetList),u=i.risk,g=i.totalBorrowValueInTrx,f=i.totalCollateralValueInTrx,E=b()(u).times(100),k=b()(g).div(b()(f).minus(b()(a).times(e.assetPrice).times(b()(10).pow(e.collateralDecimal)).div(b()(10).pow(24)).times(e.collateralFactor).div(C.a.tokenDefaultPrecision))).times(100),N=n.getSafeMaxText(e),x=""!=a&&(!b()(m).eq(0)||!b()(l).eq(0)),O=""!=a&&(b()(k).gt(0)||b()(E).gt(0)),y=b()(k).gt(100),A=Object(v.D)(e,d).totalApy;return p.a.createElement("div",{className:"deposit mt16"},p.a.createElement(w.a,{className:"common-input",prefix:r?p.a.createElement("span",null,"~"):p.a.createElement("span",null),placeholder:j.a.get("withdraw.enteramount"),size:"small",addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){n.clickSafeMax(e)}},N),value:a,onChange:function(e){return n.withdrawChange(e.target.value,!0)}}),p.a.createElement("p",{className:"flex-between mb16",style:{marginTop:16}},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.Loanlimit")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.i)(m,2,{miniText:.01,needDolar:!0})),x&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.i)(l,2,{miniText:.01,needDolar:!0})))),p.a.createElement("p",{className:"flex-between"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.R)(E)),O&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.R)(k)))),p.a.createElement("div",{className:"modal-progress mb16"},O&&e.account_entered&&0!==e.account_entered?Object(v.S)(k,{showInfo:!1,reverse:!0}):Object(v.S)(E,{showInfo:!1,reverse:!0})),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("market_withdraw")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.d)(b()(e.totalCash).div(b()(10).pow(e.collateralDecimal)),2)," ",e.collateralSymbol)),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("withdraw.withdrawamount")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.i)(b()(e.deposited),3)," ",e.collateralSymbol)),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.depositapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.R)(A,{cutZero:!1,useFull:!1}))),p.a.createElement(h.a,{className:"modal-btn withdraw-btn",disabled:!c||y&&0!==e.account_entered,onClick:n.withdraw},y&&O&&0!==e.account_entered?j.a.get("withdraw.Insufficient_mortgage"):s))},n.getBorrowLimitAfter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var a=n.props.lend,l=a.DAWPop,r=a.borrowLimit,o=a.trxPrice,s=l.popData,c=s.precision,i=s.assetPrice,m=s.jtokenAddress,d=b()(s.collateralFactor).div(C.a.tokenDefaultPrecision),p=b()(0);return p=m===C.a.usddJtoken?b()(e).times(d):b()(e).times(c).times(d).times(i).times(o).div(C.a.tokenDefaultPrecision).div(C.a.tokenDefaultPrecision).div(C.a.defaultPrecision),t?r.minus(p).lt(0)?b()(0):r.minus(p):r.plus(p)}catch(u){console.log("getBorrowLimitAfter error: ".concat(u))}},n.setSafeFee=function(){var e=n.props.lend.balanceInfo,t=n.props.lend.DAWPop.popData,a=t.precision,l=t.collateralDecimal,r=t.jtokenAddress,o=b()(e[r].balance).div(a),s=b()(o).minus(n.state.trxFee)._toFixed(l,1);n.setState({depositValue:s},(function(){n.depositChange(s)}))},n.depositContent=function(e){var t=n.props.lend,a=(t.userList,t.marketList,t.balanceInfo),l=t.borrowLimit,r=(t.totalBorrowUsdForUSDD,t.assetList),o=t.risk,s=t.totalBorrowValueInTrx,c=t.totalCollateralValueInTrx,i=n.state,m=i.depositValue,d=i.borrowLimitAfter,u=i.errInfo1,g=u.btnText,f=u.status,E=i.lang,k=b()(o).times(100),N=b()(s).div(b()(c).plus(b()(m).times(e.assetPrice).times(b()(10).pow(e.collateralDecimal)).div(b()(10).pow(24)).times(e.collateralFactor).div(C.a.tokenDefaultPrecision))).times(100),x=""!=m&&(!b()(l).eq(0)||!b()(d).eq(0)),O=""!=m&&(b()(N).gt(0)||b()(k).gt(0)),y=Object(v.D)(e,r).totalApy,A=e.precision,D=(e.collateralDecimal,e.jtokenAddress),T=(e.collateralAddress,b()(a[D].balance).div(A));return p.a.createElement("div",{className:"deposit mt16"},p.a.createElement("div",{className:"safe-input"},p.a.createElement(w.a,{className:"common-input mb16",placeholder:j.a.get("deposit.enteramount"),addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){n.clickMax()}},j.a.get("deposit.max")),value:m,onChange:function(e){return n.depositChange(e.target.value)}}),f&&b()(T).lte(n.state.trxFee)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:S.a}),p.a.createElement("div",null,j.a.getHTML("safe_tip",{value:n.state.trxFee}))):f&&b()(b()(T).minus(n.state.trxFee)).lt(m)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:S.a}),p.a.createElement("div",null,j.a.getHTML("safe_tip",{value:n.state.trxFee})," ",p.a.createElement("span",{className:"safe-fee",onClick:function(e){return n.setSafeFee()}},j.a.get("safe_fee")))):""),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.Loanlimit")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.i)(l,2,{miniText:.01,needDolar:!0})),x&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.i)(d,2,{miniText:.01,needDolar:!0})))),p.a.createElement("div",{className:"flex-between"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.R)(k)),O&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.R)(N)))),p.a.createElement("div",{className:"modal-progress"},Object(v.S)(N,{showInfo:!1,reverse:!0})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.deposited")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.i)(b()(e.deposited),3)," ",e.collateralSymbol)),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.N)(e,a,3),p.a.createElement("a",{className:"toSwap",href:"".concat(C.a.sunSwap,"?lang=").concat(E).concat("TRX"===e.collateralSymbol?"":"?tokenAddress=".concat(e.collateralAddress,"&type=swap")),target:"sunswap"},j.a.get("index.get")))),p.a.createElement("p",{className:"flex-between mb-26"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.depositapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.R)(y,{cutZero:!1,useFull:!1}))),p.a.createElement(h.a,{className:"modal-btn deposit-btn",onClick:function(){return n.deposit()},disabled:!f},g))},n.deposit=Object(o.a)(r.a.mark((function e(){var t,a,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.depositValue,a=n.props.lend.DAWPop,l=a.popData,o={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:t,token:l.collateralSymbol||""}},n.setState({isSuccess:!1,txID:""}),e.next=7,n.props.system.justMint(l,new b.a(t).times(l.precision)._toHex(),o);case 7:e.sent&&setTimeout((function(){n.props.lend.getTokenBalanceInfo()}),5e3);case 9:case"end":return e.stop()}}),e)}))),n.getDepositFee=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,l,o,s,c,i,m,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.lend,l=a.DAWPop,o=a.energyFee,s=a.getEnergyFee,c=l.popData,i={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:t,token:c.collateralSymbol||""}},e.next=5,n.props.system.justMintValue(c,new b.a(t).times(c.precision)._toHex(),i);case 5:if(m=e.sent,e.t0=o,e.t0){e.next=11;break}return e.next=10,s();case 10:e.t0=e.sent;case 11:d=e.t0,p=b()(b()(m).times(d).div(1e6)._toFixed(0,1)).plus(2).toNumber(),n.setState({trxFee:p});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.withdraw=Object(o.a)(r.a.mark((function e(){var t,a,l,o,s,c,i,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.withdrawValue,l=t.isClear,o=n.props.lend.DAWPop.popData,s=o.jtokenAddress,c={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:a,token:o.collateralSymbol}},!l){e.next=12;break}return e.next=7,Object(f.g)(s,window.defaultAccount);case 7:return i=e.sent,m=i.value,e.next=11,n.props.system.justRedeem(o,new b.a(m)._toHex(),c,!0);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,n.props.system.justRedeem(o,new b.a(a).times(o.precision)._toHex(),c);case 14:e.sent&&setTimeout((function(){n.props.lend.getTokenBalanceInfo(),n.props.detailInfo&&(n.props.lend.getUserData(),n.props.lend.getMarketData())}),5e3);case 16:case"end":return e.stop()}}),e)}))),n.approveContent=function(e){var t=n.props.lend,a=t.balanceInfo,l=t.assetList,s=n.state,c=s.lang,i=s.approving,m=Object(v.D)(e,l).totalApy;return p.a.createElement("div",{className:"deposit"},p.a.createElement("img",{src:A.a,alt:"Token Logo",onError:function(e){e.target.onerror=null,e.target.src=O.a}}),p.a.createElement("div",{className:"approve-tip"},j.a.getHTML("deposit.explanation1",{value:e.collateralSymbol})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.N)(e,a,3),p.a.createElement("a",{className:"toSwap",href:"".concat(C.a.sunSwap,"?lang=").concat(c).concat("TRX"===e.collateralSymbol?"":"?tokenAddress=".concat(e.collateralAddress,"&type=swap")),target:"sunswap"},j.a.get("index.get")))),p.a.createElement("p",{className:"flex-between mb-26"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.depositapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.R)(m,{cutZero:!1,useFull:!1}))),i?p.a.createElement("button",{className:"modal-btn deposit-btn",disabled:!0},p.a.createElement("div",{className:"points"},p.a.createElement("span",{className:"point"}),p.a.createElement("span",{className:"point"}),p.a.createElement("span",{className:"point"}))):p.a.createElement("button",{className:"modal-btn deposit-btn",onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({approving:!0}),t.next=3,n.props.system.approveToken(e);case 3:t.sent&&(n.props.lend.getTokenBalanceInfo(),n.props.detailInfo&&(n.props.lend.getUserData(),n.props.lend.getMarketData()));case 5:case"end":return t.stop()}}),t)})))},j.a.get("deposit.approve",{value:e.collateralSymbol})))},n.distribute=function(e){var t=n.props.lend,a=t.DAWPop,l=t.balanceInfo,r=void 0===l?{}:l,o=t.userList,s=t.marketList,c=a.popData,i=c,m=i.jtokenAddress,d=i.collateralAddress;c=o[m]||s[m];var u=r[m]&&b()(r[m].allowance).gt(0)||!1;return c&&m&&r[m]?1===e?d===C.a.zeroAddr||u?n.depositContent(c):n.approveContent(c):n.withDrawContent(c):p.a.createElement(p.a.Fragment,null)},n.withdrawChange=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,l,o,s,c,i,m,d,p,u,g,f,E,w,h,k,N,x,O,y,A=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=A.length>1&&void 0!==A[1]&&A[1];try{l=n.props.lend,o=l.DAWPop,l.balanceInfo,s=l.userList,c=l.marketList,i=o.popData,d=(m=void 0===i?{}:i).jtokenAddress,m=s[d]||c[d],u=(p=m).deposited,g=void 0===u?0:u,f=p.totalCash,E=p.collateralDecimal,w=Object(v.K)(t,m.collateralDecimal),h=w.valid,k=w.str,h&&(N=n.state.errInfo2.status,x=n.state.errInfo2.btnText,O=n.state.isClear,n.setState({isClear:!a&&O,withdrawValue:t}),2!==m.account_entered&&0!=t&&n.setState({withdrawLimitAfter:""!==k&&Object(v.e)(s,d)?n.getBorrowLimitAfter(k,!0):0}),y=b()(k),Object(v.I)(y,g)?(N=!1,x=j.a.get("withdraw.Insufficient_withdrawamount")):y.isNaN()||y.eq(0)?(N=!1,x=j.a.get("withdraw.enter_amount")):b()(y).gt(b()(f).div(b()(10).pow(E)))?(N=!1,x=j.a.get("withdraw_lack")):(N=!0,x=j.a.get("deposit.withdraw")),n.setState({errInfo2:{status:N,btnText:x}}))}catch(r){}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.depositChange=function(e){try{var t=n.props.lend,a=t.DAWPop,l=t.balanceInfo,r=t.userList,o=a.popData,s=void 0===o?{}:o,c=s.jtokenAddress,i=s.precision,m=s.collateralSymbol,d=(l[c]||{}).balance,p=Object(v.K)(e,s.collateralDecimal),u=p.valid,g=p.str;if(u){var f=n.state.errInfo1.status,E=n.state.errInfo1.btnText;n.setState({depositValue:g,borrowLimitAfter:""!==g&&Object(v.e)(r,c)?n.getBorrowLimitAfter(g):n.props.lend.borrowLimit});var w=b()(g);Object(v.I)(w,d,i)?(f=!1,E=j.a.get("deposit.amountout")):w.isNaN()||w.eq(0)?(f=!1,E=j.a.get("deposit.enteramount2")):(f=!0,E=j.a.get("deposit.deposit")),f&&!n.state.trxFee&&"TRX"===m&&n.getDepositFee(g),n.setState({errInfo1:{status:f,btnText:E}})}}catch(h){}},n.changeTab=function(e){1==e?n.withdrawChange("",!0):n.depositChange("",!0);var t=n.props.lend.DAWPop.popData;n.props.lend.setData({DAWPop:{show:!0,activeKey:e,popData:t}})},n.getDepositStatus=function(e){try{var t=(n.props.lend.userList[e.jtokenAddress]||{}).borrowBalanceNew,a=void 0===t?0:t;return b()(a).gt(0)}catch(l){return!1}},n.timerInterval=null,n.state={lang:window.localStorage.getItem("lang")||j.a.options.currentLocale,approved:!1,approving:!1,errInfo1:{btnText:j.a.get("deposit.enteramount2"),status:!1},errInfo2:{btnText:j.a.get("withdraw.enter_amount"),status:!1},isClear:!1,poolCash:null,depositValue:"",withdrawValue:"",borrowLimitAfter:"",withdrawLimitAfter:"",trxFee:""},n}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval),this.timerInterval=null}},{key:"componentDidUpdate",value:function(e,t){if(!b()(e.lend.borrowLimit).eq(this.props.lend.borrowLimit)){if(1===Number(this.props.lend.DAWPop.activeKey))return this.depositChange(this.state.borrowValue);if(2===Number(this.props.lend.DAWPop.activeKey))return this.withdrawChange(this.state.withdrawValue)}}},{key:"render",value:function(){var e=this,t=this.props.lend.DAWPop,a=t.popData,n=void 0===a?{}:a,l=n.collateralSymbol,r=n.logoUrl;return p.a.createElement(k.a,{title:p.a.createElement("div",null,p.a.createElement("img",{src:r}),l||""),maskClosable:!1,visible:t.show,closable:!0,onCancel:function(){return e.props.lend.hideDAWPop()},footer:null,className:"DAWPop",getContainer:function(){return document.querySelector(".main")}},p.a.createElement(E.a,{className:"tabs-deposit",defaultActiveKey:t.activeKey,activeKey:t.activeKey,centered:!0,type:"card",onChange:this.changeTab},p.a.createElement(T,{tab:j.a.get("deposit.deposit"),key:"1"},this.distribute(1)),p.a.createElement(T,{tab:j.a.get("deposit.withdraw"),key:"2"},this.distribute(2))))}}]),a}(p.a.Component))||n)||n)||n)||n;t.a=L},876:function(e,t,a){"use strict";var n,l=a(0),r=a.n(l),o=a(3),s=a(5),c=a(8),i=a(11),m=a(10),d=a(1),p=a.n(d),u=(a(207),a(172)),b=a(16),g=a(1402),v=a(1403),f=a(765),E=a(123),w=a(763),h=a(30),k=a.n(h),N=a(12),j=(a(785),a(209)),x=a.n(j),O=a(910),y=a.n(O),A=a(852),D=a.n(A),S=a(38),C=g.a.TabPane,T=Object(u.b)("network")(n=Object(u.b)("lend")(n=Object(u.b)("system")(n=Object(u.c)(n=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.startInterval();var t=e.props.lend.totalBorrowUsdForUSDD;e.setState({totalBorrowUsdAfter:t,totalRepayUsdAfter:t})},e.getCash=Object(o.a)(r.a.mark((function t(){var a,n,l,o,s,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.props.lend,n=a.borrowModalInfo,a.userList,a.marketList,!(l=n.jtokenAddress)){t.next=11;break}return t.next=6,Object(S.c)(l);case 6:o=t.sent,s=o.balance,c=void 0===s?0:s,o.success&&(console.log(),e.state.poolCash=Object(b.a)(c));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e.startInterval=Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.timerInterval){t.next=4;break}return t.next=3,e.getCash();case 3:e.timerInterval=setInterval(Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCash();case 2:case"end":return t.stop()}}),t)}))),3e3);case 4:case"end":return t.stop()}}),t)}))),e.clickSafeMax=function(t){try{var a=e.props.lend,n=a.borrowLimit,l=a.totalBorrowUsdForUSDD,r=a.trxPrice,o=t.precision,s=t.collateralFactor,c=t.assetPrice,i=t.collateralDecimal,m=t.jtokenAddress,d=t.account_entered,p=t.deposited,u=t.deposited_usd,g=n;0===d&&(g=m===N.a.usddJtoken?Object(b.a)(g).plus(Object(b.a)(p).times(s).div(N.a.tokenDefaultPrecision)):Object(b.a)(g).plus(Object(b.a)(u).times(s).div(N.a.tokenDefaultPrecision)));var v=Object(b.a)(g).times(N.a.safeMaxRate),f=Object(b.a)(0);f=(f=m===N.a.usddJtoken?Object(b.a)(v).minus(l):v.minus(l).times(N.a.tokenDefaultPrecision).div(c).times(N.a.tokenDefaultPrecision).div(r).times(N.a.defaultPrecision).div(o)).lt(0)?0:f._toFixed(i,1),e.setState({borrowValue:f,totalBorrowUsdAfter:v},(function(){e.onChangeBorrow(f)}))}catch(E){console.log("clickSafeMax: ",E)}},e.onChangeBorrow=function(){var t=Object(o.a)(r.a.mark((function t(a){var n,l,o,s,c,i,m,d,p,u,g,v,f,E,w,h,j,x,O,y;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=e.props.lend,l=n.borrowModalInfo,o=n.userList,s=n.marketList,c=n.totalBorrowUsdForUSDD,i=n.borrowLimit,m=n.totalBorrowValueInTrx,d=n.totalCollateralValueInTrx,p=l.jtokenAddress,u=o[p]||s[p],g=Object(b.K)(a,u.collateralDecimal),v=g.valid,f=g.str,u.collateralDecimal,u.borrowPaused,E=Object(b.J)(s[p]),v&&(w=""===f?c:e.getTotalBorrowUsdAfter(f),e.setState({borrowValue:f,totalBorrowUsdAfter:w}),h=e.state.errInfo1.status,j=e.state.errInfo1.btnText,x=Object(b.a)(f),O=i,0===u.account_entered&&(O=u.jtokenAddress===N.a.usddJtoken?Object(b.a)(O).plus(Object(b.a)(u.deposited).times(u.collateralFactor).div(N.a.tokenDefaultPrecision)):Object(b.a)(O).plus(Object(b.a)(u.deposited_usd).times(u.collateralFactor).div(N.a.tokenDefaultPrecision))),y=Object(b.a)(m).plus(Object(b.a)(f).times(u.assetPrice).times(Object(b.a)(10).pow(u.collateralDecimal)).div(Object(b.a)(10).pow(24))).div(d).times(100),x.isNaN()||x.eq(0)?(h=!1,j=k.a.get("borrow.enter_amount")):Object(b.a)(y).gte(100)?(h=!1,j=k.a.get("borrow.Insufficient_mortgage")):Object(b.a)(x).gt(E)?(h=!1,j=k.a.get("lend_lack")):(h=!0,j=k.a.get("borrow.borrow")),e.setState({errInfo1:{status:h,btnText:j}}))}catch(r){console.log("onChangeBorrow ",r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUsd=function(e,t,a,n){var l=a.precision,r=a.assetPrice;a.collateralFactor;return Object(b.a)(a.collateralFactor).div(N.a.tokenDefaultPrecision),a.jtokenAddress===N.a.usddJtoken?Object(b.a)(e):Object(b.a)(e).times(l).times(r).times(t).div(N.a.tokenDefaultPrecision).div(N.a.tokenDefaultPrecision).div(N.a.defaultPrecision)},e.getTotalBorrowUsdAfter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;try{var n=e.props.lend,l=n.borrowModalInfo,r=n.userList,o=n.marketList,s=n.totalBorrowUsdForUSDD,c=n.trxPrice,i=l.jtokenAddress,m=r[i]||o[i],d=e.getUsd(t,c,m,a);return a?Object(b.a)(s).minus(d):Object(b.a)(s).plus(d)}catch(p){console.log("getTotalBorrowUsdAfter ",p)}},e.onChangeRepay=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n=e.props.lend,l=n.borrowModalInfo,r=n.userList,o=n.marketList,s=n.totalBorrowUsdForUSDD,c=n.balanceInfo,i=l.jtokenAddress,m=r[i]||o[i],d=m.precision,p=m.collateralSymbol,u=void 0===p?"":p,g=m.borrowBalanceNew,v=void 0===g?0:g,f=(m.collateralDecimal,Object(b.K)(t,m.collateralDecimal)),E=f.valid,w=f.str;if(E){var h=e.state.isClear,N=""===w?s:e.getTotalBorrowUsdAfter(w,!0);e.setState({isClear:!a&&h,repayValue:w}),0!=t&&e.setState({totalRepayUsdAfter:N});var j=Object(b.a)(v).div(d),x=c[i]||{},O=x.balance,y=Object(b.a)(w),A=e.state.errInfo2.status,D=e.state.errInfo2.btnText;Object(b.a)(j).lte(0)?(A=!1,D=k.a.get("repay.no_debt")):y.isNaN()||y.eq(0)?(A=!1,D=k.a.get("repay.enter_amount")):y.gt(j)?(A=!1,D=k.a.get("repay.exceeded_amount_borrowed")):Object(b.I)(y,O,d)?(A=!1,D=k.a.get("repay.Insufficient_wallet_balance")):(A=!0,D=k.a.get("repay.repay")),A&&!e.state.trxFee&&"TRX"===u&&e.getRepayBorrowFee(w),e.setState({errInfo2:{status:A,btnText:D}})}}catch(S){console.log("onChangeRepay ",S)}},e.toBorrow=Object(o.a)(r.a.mark((function t(){var a,n,l,o,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.borrowValue,n=e.props.lend.borrowModalInfo.jtokenAddress,l=e.props.lend.marketList,o=l[n],e.props.lend.collateralValid(o.collateralSymbol)){t.next=6;break}return t.abrupt("return");case 6:return s={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:a,token:o.collateralSymbol}},t.next=9,e.props.system.borrow(o,new b.a(a).times(o.precision)._toHex(),s);case 9:t.sent&&setTimeout((function(){e.props.lend.getTokenBalanceInfo()}),5e3);case 11:case"end":return t.stop()}}),t)}))),e.renderBorrow=function(){var t=e.props.lend,a=(t.totalBorrowUsd,t.borrowLimit),n=t.borrowModalInfo,l=t.userList,r=t.marketList,o=t.totalBorrowUsdForUSDD,s=t.risk,c=t.totalBorrowValueInTrx,i=t.totalCollateralValueInTrx,m=e.state,d=m.totalBorrowUsdAfter,u=m.borrowValue,g=m.errInfo1,w=g.status,h=g.btnText,j=n.jtokenAddress,x=l[j]||r[j],O=Object(b.J)(r[j]),y=x.precision,A=x.collateralSymbol,D=void 0===A?"":A,S=x.borrowBalanceNew,C=S?S.div(y):Object(b.a)(0),T=a;0===x.account_entered&&(T=x.jtokenAddress===N.a.usddJtoken?Object(b.a)(T).plus(Object(b.a)(x.deposited).times(x.collateralFactor).div(N.a.tokenDefaultPrecision)):Object(b.a)(T).plus(Object(b.a)(x.deposited_usd).times(x.collateralFactor).div(N.a.tokenDefaultPrecision)));var L=Object(b.a)(s).times(100),_=Object(b.a)(c).plus(Object(b.a)(u).times(x.assetPrice).times(Object(b.a)(10).pow(x.collateralDecimal)).div(Object(b.a)(10).pow(24))).div(i).times(100),M=""!=u&&(!Object(b.a)(o).eq(0)||!Object(b.a)(d).eq(0)),F=""!=u&&(!Object(b.a)(L).eq(0)||!Object(b.a)(_).eq(0));return p.a.createElement("div",{className:"mt16"},p.a.createElement("div",{style:{marginBottom:16}},p.a.createElement(v.a,{className:"common-input",onChange:function(t){return e.onChangeBorrow(t.target.value)},addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){e.clickSafeMax(x)}},k.a.get("limit_amount")),value:u,placeholder:k.a.get("borrow.enter_amount")})),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between mb10"},p.a.createElement("span",{className:"c-545669 fs12 mr-20"},k.a.get("borrow.total_borrowing")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-545669 fw400"},Object(b.i)(o,2,{miniText:.01,needDolar:!0})),M&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.i)(d,2,{miniText:.01,needDolar:!0})))),p.a.createElement("div",{className:"flex-between"},p.a.createElement("span",{className:"c-545669 fs12 mr-20"},k.a.get("borrow.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-545669 fw400"},Object(b.R)(L,{keep0:!0})),F&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.R)(_,{keep0:!0})))),p.a.createElement("div",{className:"modal-progress mb10"},Object(b.S)(_,{showInfo:!1,reverse:!0})),p.a.createElement("p",{className:"flex-between mb10"},p.a.createElement("span",{className:"c-84869E flex aic"},p.a.createElement("span",{className:"mr-4 fs12 c-545669"},k.a.get("market_lend")),p.a.createElement(f.a,{overlayClassName:"mltr",title:k.a.getHTML("market_lend_tip"),placement:"top"},p.a.createElement("span",{className:"tooltip-icon"}))),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.d)(Object(b.a)(O),2,{miniText:.01})," ",p.a.createElement("span",{className:"fw400"},x.collateralSymbol))),p.a.createElement("div",{className:"horizontal-line"})),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between mb10"},p.a.createElement("span",{className:"fs12 c-545669"},k.a.get("index.markets_borrowapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.R)(x.lendApy,{cutZero:!1,useFull:!1}))),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"fs12 c-545669"},k.a.get("borrow.borrowed",{value:D})),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.i)(C,3,{miniText:"0.001",round:!1})," ",D))),p.a.createElement("div",null,p.a.createElement("div",{className:"borrow-tip"},p.a.createElement("span",null),k.a.get("borrow_tip")),p.a.createElement(E.a,{className:"modal-btn lend-btn",type:"primary",disabled:!w,onClick:function(){return e.toBorrow()}},h)))},e.clickMax=function(t,a){var n=t._toFixed(a,1);e.setState({isClear:!0,repayValue:n},(function(){e.onChangeRepay(n)}))},e.approveContent=function(t){var a=e.props.lend,n=a.balanceInfo,l=a.assetList,s=e.state.lang,c=(Object(b.D)(t,l).totalApy,t.precision),i=t.borrowBalanceNew,m=i?i.div(c):Object(b.a)(0);return p.a.createElement("div",{className:"deposit"},p.a.createElement("img",{src:y.a,alt:"Token Logo",onError:function(e){e.target.onerror=null,e.target.src=x.a}}),p.a.createElement("div",{className:"approve-tip"},k.a.getHTML("deposit.explanation1",{value:t.collateralSymbol})),p.a.createElement("div",{className:"horizontal-line mt-40"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.N)(t,n,3),p.a.createElement("a",{className:"toSwap",href:"".concat(N.a.sunSwap,"?lang=").concat(s).concat("TRX"===t.collateralSymbol?"":"?tokenAddress=".concat(t.collateralAddress,"&type=swap")),target:"sunswap"},k.a.get("index.get")))),p.a.createElement("div",{className:"flex-between mb-26"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("borrow.borrowed",{value:t.collateralSymbol})),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.i)(m,3,{miniText:"0.001",round:!1})," ",t.collateralSymbol)),p.a.createElement(E.a,{className:"modal-btn deposit-btn",onClick:Object(o.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.system.approveToken(t);case 2:a.sent&&(e.props.lend.getTokenBalanceInfo(),e.props.detailInfo&&(e.props.lend.getUserData(),e.props.lend.getMarketData()));case 4:case"end":return a.stop()}}),a)})))},k.a.get("deposit.approve",{value:t.collateralSymbol})))},e.setSafeFee=function(){var t=e.props.lend.balanceInfo,a=e.props.lend,n=a.userList,l=a.marketList,r=e.props.lend.borrowModalInfo.jtokenAddress,o=n[r]||l[r],s=o.precision,c=o.collateralDecimal,i=Object(b.a)(t[r].balance).div(s),m=Object(b.a)(i).minus(e.state.trxFee)._toFixed(c,1);e.setState({repayValue:m},(function(){e.onChangeRepay(m,!0)}))},e.renderRepay=function(){var t=e.state,a=(t.totalBorrowUsdAfter,t.repayValue),n=t.totalRepayUsdAfter,l=t.errInfo2,r=l.status,o=l.btnText,s=t.isClear,c=t.lang,i=e.props.lend,m=(i.borrowLimit,i.totalBorrowUsd,i.balanceInfo),d=i.userLendDataSource,u=i.totalBorrowUsdForUSDD,g=i.risk,f=i.totalBorrowValueInTrx,w=i.totalCollateralValueInTrx,h=e.props.lend,j=h.userList,x=h.marketList,O=e.props.lend.borrowModalInfo.jtokenAddress,y=j[O]||x[O],A=y.precision,S=y.collateralSymbol,C=void 0===S?"":S,T=y.borrowBalanceNew,L=y.collateralDecimal,_=T?T.div(A):Object(b.a)(0),M=m[O]&&m[O].balance&&m[O].balance.div(A),F=_;Object(b.a)(M).lt(0)&&(M=Object(b.a)(0)),Object(b.a)(M).lte(_)&&(F=M);var I=Object(b.a)(g).times(100),P=d&&1===d.length&&s,B=P&&0!=a?0:Object(b.a)(f).minus(Object(b.a)(a).times(y.assetPrice).times(Object(b.a)(10).pow(y.collateralDecimal)).div(Object(b.a)(10).pow(24))).div(w).times(100),U=""!=a&&0!=a&&(!Object(b.a)(u).eq(0)||!Object(b.a)(F).eq(0)),W=""!=a&&0!=a&&(!Object(b.a)(I).eq(0)||!Object(b.a)(B).eq(0)),R=Object(b.a)(m[O].balance).div(A);return p.a.createElement("div",null,p.a.createElement("div",{className:"mt16"},p.a.createElement("div",{className:"safe-input"},p.a.createElement(v.a,{className:"common-input mb16",prefix:s&&Object(b.a)(M).gt(_)?p.a.createElement("span",null,"~"):p.a.createElement("span",null),size:"small",onChange:function(t){return e.onChangeRepay(t.target.value,!0)},addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){e.clickMax(F,L)}},k.a.get("deposit.max")),value:a,placeholder:k.a.get("repay.enter_amount")}),r&&Object(b.a)(R).lte(e.state.trxFee)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:D.a}),p.a.createElement("div",null,k.a.getHTML("safe_tip",{value:e.state.trxFee}))):r&&Object(b.a)(Object(b.a)(R).minus(e.state.trxFee)).lt(a)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:D.a}),p.a.createElement("div",null,k.a.getHTML("safe_tip",{value:e.state.trxFee})," ",p.a.createElement("span",{className:"safe-fee",onClick:function(t){return e.setSafeFee()}},k.a.get("safe_fee")))):"")),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-545669 fs12 mr-20"},k.a.get("borrow.borrowed",{value:C})),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.i)(_,3,{miniText:"0.001",round:!1})," ",C)),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-545669 fs12 mr-20"},k.a.get("repay.borrowed_amount")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-545669 fw700"},Object(b.i)(u,2,{miniText:.01,needDolar:!0})),U&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.i)(P?0:n,2,{miniText:.01,needDolar:!0})))),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between"},p.a.createElement("span",{className:"c-545669 fs12 mr-20"},k.a.get("borrow.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(b.R)(I,{keep0:!0})),W&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.R)(B,{keep0:!0})))),p.a.createElement("div",{className:"modal-progress"},Object(b.S)(B,{showInfo:!1,reverse:!0})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.N)(y,m,3),p.a.createElement("a",{className:"toSwap",href:"".concat(N.a.sunSwap,"?lang=").concat(c).concat("TRX"===y.collateralSymbol?"":"?tokenAddress=".concat(y.collateralAddress,"&type=swap")),target:"sunswap"},k.a.get("index.get"))))),p.a.createElement("div",null,p.a.createElement(E.a,{className:"modal-btn repay-btn",type:"primary",disabled:!r,onClick:function(){return e.repayBorrow()}},o))))},e.repayBorrow=Object(o.a)(r.a.mark((function t(){var a,n,l,o,s,c,i,m,d,p,u,g,v,f,E,w,h,k,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.lend,n=a.marketList,l=a.userList,o=a.balanceInfo,s=e.props.lend.borrowModalInfo.jtokenAddress,c=e.state,i=c.repayValue,m=c.isClear,d=l[s]||n[s],p=d.borrowratePerblock,u=d.precision,g=d.collateralDecimal,v=d.collateralSymbol,f=d.borrowBalanceNew,E=f?f.div(u):Object(b.a)(0),w=o[s]&&o[s].balance.div(u),"TRX"===v&&(w=Object(b.a)(w).minus(50),Object(b.a)(w).lt(0)&&(w=Object(b.a)(0))),h={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:i,token:d.collateralSymbol}},k=0,j=0,m&&Object(b.a)(w).gt(E)?(k=S.a,d.collateralAddress===N.a.zeroAddr&&(j=Object(b.a)(Object(b.a)(N.a.tokenDefaultPrecision).plus(Object(b.a)(p).times(20)).times(i).div(N.a.tokenDefaultPrecision)._toFixed(g,1)).times(u)._toHex())):k=Object(b.a)(i).times(u)._toHex(),t.next=14,e.props.system.repayBorrow(d,k,h,j,m&&Object(b.a)(w).gt(E));case 14:t.sent&&setTimeout((function(){e.props.lend.getTokenBalanceInfo(),e.props.detailInfo&&(e.props.lend.getUserData(),e.props.lend.getMarketData())}),5e3);case 16:case"end":return t.stop()}}),t)}))),e.getRepayBorrowFee=function(){var t=Object(o.a)(r.a.mark((function t(a){var n,l,o,s,c,i,m,d,p,u,g,v,f,E,w,h,k,j,x,O,y;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.lend,l=n.marketList,o=n.userList,s=n.balanceInfo,c=n.energyFee,i=n.getEnergyFee,m=e.props.lend.borrowModalInfo.jtokenAddress,d=e.state.isClear,p=o[m]||l[m],u=p.borrowratePerblock,g=p.precision,v=p.collateralDecimal,f=p.collateralSymbol,E=p.borrowBalanceNew,w=E?E.div(g):Object(b.a)(0),h=s[m]&&s[m].balance.div(g),"TRX"===f&&(h=Object(b.a)(h).minus(50),Object(b.a)(h).lt(0)&&(h=Object(b.a)(0))),k={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:a,token:p.collateralSymbol}},0,j=0,d&&Object(b.a)(h).gt(w)?(S.a,p.collateralAddress===N.a.zeroAddr&&(j=Object(b.a)(Object(b.a)(N.a.tokenDefaultPrecision).plus(Object(b.a)(u).times(20)).times(a).div(N.a.tokenDefaultPrecision)._toFixed(v,1)).times(g)._toHex())):Object(b.a)(a).times(g)._toHex(),t.next=14,e.props.system.repayBorrowValue(p,k,j);case 14:if(x=t.sent,t.t0=c,t.t0){t.next=20;break}return t.next=19,i();case 19:t.t0=t.sent;case 20:O=t.t0,y=Object(b.a)(Object(b.a)(x).times(O).div(1e6)._toFixed(0,1)).plus(2).toNumber(),e.setState({trxFee:y});case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeTab=function(t){var a=e.props.lend.borrowModalInfo.jtokenAddress;e.props.lend.setData({borrowModalInfo:{type:t,visible:!0,jtokenAddress:a}}),1!==Number(t)?e.onChangeBorrow("",!0):e.onChangeRepay("",!0)},e.renderContent=function(t){var a=e.props.lend,n=a.borrowModalInfo,l=a.balanceInfo,r=void 0===l?{}:l,o=a.marketList,s=a.userList,c=n.jtokenAddress,i=s[c]||o[c],m=i.collateralAddress,d=r[c]&&Object(b.a)(r[c].allowance).gt(0)||!1;return 1===t?e.renderBorrow():i&&c&&r[c]?m===N.a.zeroAddr||d?1===t?e.renderBorrow():e.renderRepay():e.approveContent(i):p.a.createElement(p.a.Fragment,null)},e.timerInterval=null,e.state={lang:window.localStorage.getItem("lang")||k.a.options.currentLocale,borrowValue:"",repayValue:"",errInfo1:{btnText:k.a.get("borrow.enter_amount"),status:!1},errInfo2:{btnText:k.a.get("repay.enter_amount"),status:!1},isClear:!1,poolCash:null,totalBorrowUsdAfter:"",totalRepayUsdAfter:"",totalRepayAfter:"",trxFee:""},e}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval),this.timerInterval=null}},{key:"componentDidUpdate",value:function(e,t){if(!Object(b.a)(e.lend.borrowLimit).eq(this.props.lend.borrowLimit)){if(1===Number(this.props.lend.borrowModalInfo.type))return this.onChangeBorrow(this.state.borrowValue);if(2===Number(this.props.lend.borrowModalInfo.type))return this.onChangeRepay(this.state.repayValue)}}},{key:"render",value:function(){var e=this,t=this.props.lend,a=t.borrowModalInfo,n=t.marketList,l=t.userList,r=a.jtokenAddress,o=a.type,s=a.visible,c=l[r]||n[r],i=c||{},m=i.collateralSymbol,d=i.logoUrl;return p.a.createElement(w.a,{title:p.a.createElement("div",null,p.a.createElement("img",{src:d}),m||""),maskClosable:!1,visible:s,closable:!0,onCancel:function(){return e.props.lend.hideBorrowModal()},footer:null,className:"borrow-modal",getContainer:function(){return document.querySelector(".main")}},!!c&&p.a.createElement(g.a,{className:"tabs-lend",defaultActiveKey:o,activeKey:o,centered:!0,type:"card",onChange:this.changeTab},p.a.createElement(C,{className:"tab-lend",tab:k.a.get("borrow.borrow"),key:"1"},this.renderContent(1)),p.a.createElement(C,{className:"tab-repay",tab:k.a.get("repay.repay"),key:"2"},this.renderContent(2))))}}]),a}(p.a.Component))||n)||n)||n)||n;t.a=T},877:function(e,t,a){},909:function(e,t,a){e.exports=a.p+"static/media/shield.773838eb.svg"},910:function(e,t,a){e.exports=a.p+"static/media/homeAuthodizeLogo.773838eb.svg"}}]);