(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[11,2],{1192:function(e,t,a){},1212:function(e,t,a){"use strict";a.r(t);var n,l,r,s=a(5),o=a(8),c=a(13),i=a(12),m=a(0),d=a.n(m),p=a(1),u=a.n(p),b=a(10),g=a(149),v=a(24),E=a.n(v),f=a(129),w=a(603),h=a(7),k=a(577),N=a(750),j=a(575),x=a(94),O=a(762),y=a.n(O),A=a(679),S=a(680),D=a(605),T=a(11),C=a(29),_=(a(604),a(681),a(1192),Object(f.b)("network")(n=Object(f.b)("lend")(n=Object(f.c)(n=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0}),1e3),document.addEventListener("click",(function(e){n.setState({isShow:!1})}),!1),document.title="Market - JustLend DAO",e.next=5,n.props.lend.getMintInfo();case 5:return(t=window.location.hash.split("?")).length>1&&t[1].split("&").map((function(e){var t=e.split("=");t.length>1&&"jtokenAddress"===t[0]&&n.setState({jtokenAddress:t[1]},(function(){n.getJTokenData()}))})),e.next=9,n.props.network.getNowTime();case 9:n.props.network.getCountTime(),setInterval((function(){n.getJTokenData()}),3e4);case 11:case"end":return e.stop()}}),e)}))),n.getJTokenData=Object(b.a)(u.a.mark((function e(){var t,a,l,r,s,o,c,i,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:n.state.checked,e.prev=1,a=n.state.jtokenAddress,e.next=5,Object(C.d)(a);case 5:if(l=e.sent,r=n.props.lend.assetList,s=0,o=Object(T.E)(l.data,r),c=o.mintApy,i=o.mintApyWithUSDD,Object(T.a)(c).gte(0)&&(s=c),h.a.usddMint.includes(a)&&(s=i),t||(s=Object(T.a)(0)),l.success){e.next=14;break}return e.abrupt("return");case 14:n.setState({jTokenData:l.data},(function(){var e=l.data.model,t=[],a=[],r=[],o=[];e.map((function(e){e.current?n.setState({current:{base:Object(T.a)(e.base).times(100),borrow:Object(T.a)(e.borrow).times(100),supply:Object(T.a)(e.supply).times(100)}}):(t.push(Object(T.i)(Object(T.a)(e.borrow).times(100),2,{miniText:.01,per:!0})),a.push(Object(T.i)(Object(T.a)(e.supply).times(100).plus(Object(T.a)(s)._toFixed(2,1)),2,{miniText:.01,per:!0})),r.push(Object(T.i)(s,2,{miniText:.01,per:!0})),o.push(Object(T.i)(Object(T.a)(e.base).times(100),2,{miniText:.01,per:!0})))})),n.setState({borrowList:t,supplyList:a,baseList:o,mintList:r})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getMarketData",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),n.judgeBox=function(){n.hideDBox()},n.hideDBox=function(){n.setState({curStatus:!1})},n.showDBox=function(){n.setState({curStatus:!0})},n.canvasHover=function(){n.setState({labelStatus:!1})},n.canvasBlur=function(){n.setState({labelStatus:!0})},n.onChange=function(e){n.setState({checked:e}),n.getJTokenData(e),e?gtag("event","click",{event_category:"H5",event_label:"Show Mining APY",value:"yes"}):gtag("event","click",{event_category:"H5",event_label:"Show Mining APY",value:"no"})},n.categorySlide=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.setState({isShow:!0})},n.showDAW=function(e,t){n.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e}})},n.clickDeposit=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.setData({DAWPop:{show:!0,activeKey:"1",popData:e}}):n.setState({isNetworkError:!0})},n.clickBorrow=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.collateralValid(e.collateralSymbol)&&n.props.lend.setData({visible:!0,jtokenAddress:e.jtokenAddress,type:"1"},"borrowModalInfo"):n.setState({isNetworkError:!0})},n.borrowMax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=n.props.lend,l=a.borrowLimit,r=a.totalBorrowUsdForUSDD,s=a.trxPrice,o=e.assetPrice,c=e.precision,i=e.collateralDecimal,m=e.jtokenAddress,d=t.deposited,p=t.deposited_usd,u=t.collateralFactor,b=t.account_entered,g=l;0===b&&(g=m===h.a.usddJtoken?Object(T.a)(g).plus(Object(T.a)(d).times(u).div(h.a.tokenDefaultPrecision)):Object(T.a)(g).plus(Object(T.a)(p).times(u).div(h.a.tokenDefaultPrecision)));var v=Object(T.a)(g),E=Object(T.a)(0);return(E=m===h.a.usddJtoken?Object(T.a)(v).minus(r):v.minus(r).times(h.a.tokenDefaultPrecision).div(o).times(h.a.tokenDefaultPrecision).div(s).times(h.a.defaultPrecision).div(c)).lt(0)?0:E._toFixed(i,1)}catch(f){console.log("borrowMax: ",f)}},n.walletM=function(){var e=n.state.jTokenData,t=n.props.lend.marketList||n.props.lend.userList,a=t[e.jtokenAddress]?t[e.jtokenAddress]:{},l=n.borrowMax(a,n.props.lend.userList[e.jtokenAddress]),r=Object(T.K)(e),s=Object(T.a)(l).isNaN()||Object(T.a)(r).isNaN()?"--":Object(T.a)(l).gte(r)?r:l;return n.props.network.isConnected&&d.a.createElement("div",{className:"wallet-m"},d.a.createElement("div",{className:"market-card wallet-card"},d.a.createElement("div",{className:"card-top"},E.a.get("wallet_info")),d.a.createElement("div",{className:"card-bottom"},d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"cb-title"},E.a.get("wallet_ballance")),d.a.createElement("div",{className:"cb-value wallet-cb-value"},Object(T.O)(a,n.props.lend.balanceInfo,3))),d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"cb-title"},E.a.get("current_borrow")),d.a.createElement("div",{className:"cb-value"},Object(T.a)(s).isNaN()||Object(T.a)(s).eq(0)?"0":Object(T.c)(s,2,{miniText:.01})," ",a.collateralSymbol)),d.a.createElement("div",{className:"flex aic jcsb "},d.a.createElement("button",{className:"btn-m deposit-btn",onClick:function(e){e.preventDefault(),n.clickDeposit(a)}},E.a.get("index.markets_deposit")),d.a.createElement("button",{className:"btn-m borrow-btn",onClick:function(e){e.preventDefault(),n.clickBorrow(a)}},E.a.get("index.markets_withdraw"))))))},n.scaleM=function(){var e,t=n.state,a=t.current,l=t.jTokenData,r=(t.checked,t.isShow),s=t.lang,o=n.props.lend.assetList,c=Object(T.E)(l,o),i=c.mintApyWithUSDD,m=c.totalApy,p=c.mintApy;return d.a.createElement("div",{className:"scale-m"},d.a.createElement("div",{className:"scale-top flex aic jcsb"},d.a.createElement("div",{className:"scale-logos"},d.a.createElement("img",{className:"scale-logo",src:l.logoUrl,alt:"logo"}),d.a.createElement("span",{className:"scale-symbol"},l.collateralName)," ",d.a.createElement("span",{className:"scale-subtitle"},"(",l.collateralSymbol,")")),d.a.createElement("div",{className:"scale-category",onClick:function(e){return n.categorySlide(e)}},d.a.createElement("div",{className:"category-icon"}),r&&d.a.createElement("div",{className:"category-dropdown"},d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement("img",{src:l.logoUrl,alt:"logo"}),l.collateralSymbol),d.a.createElement("div",{className:"flex aic"},"trx"!==(null===l||void 0===l||null===(e=l.collateralSymbol)||void 0===e?void 0:e.toLocaleLowerCase())?d.a.createElement(k.a,{title:E.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{href:"".concat("en-US"===s?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat(l.collateralAddress),target:"_blank",rel:"noopener noreferrer",className:"to-tronscan-icon"},"\xa0")):d.a.createElement("div",{className:"to-tronscan-icon disabled"}))),d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement("img",{src:Object(T.v)(l.collateralSymbol),alt:"logo"}),"j",l.collateralSymbol),d.a.createElement("div",{className:"flex aic"},d.a.createElement(k.a,{title:E.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{href:"".concat("en-US"===s?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat(l.jtokenAddress),target:"_blank",className:"to-tronscan-icon"},"\xa0"))))))),d.a.createElement("div",{className:"scale-content"},d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"s-title"},E.a.get("market.deposit_apy")),d.a.createElement("div",{className:"s-value blue flex aic"},"--"===Object(T.i)(Object(T.a)(Object(T.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(p,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(T.i)(m,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(T.i)(Object(T.a)(Object(T.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(p,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%",!(h.a.hideMarketMintIcon.indexOf(l.collateralSymbol)>-1)&&d.a.createElement("span",{className:"ic-fire ml-4 mb-0"}))),h.a.usddMint.includes(l.jtokenAddress)&&d.a.createElement("div",{className:"s-title mt-2"},"(",E.a.get("usddapy.hover2"),")"),d.a.createElement("div",{className:"s-apy"},d.a.createElement("div",{className:"flex aic jcsb "},d.a.createElement("div",{className:"s-apy-title"},E.a.get("market.deposit_base_nex1"),d.a.createElement("span",{className:"inline-block"},E.a.get("market.deposit_base_nex2"))),d.a.createElement("div",{className:"s-apy-value"},Object(T.i)(a.supply,2,{per:!0,miniText:"0.01"}),"%")),d.a.createElement("div",{className:"flex aic jcsb "},d.a.createElement("div",{className:"s-apy-title"},E.a.get("market.mining_nex1"),d.a.createElement("span",{className:"inline-block"},E.a.get("market.mining_nex2"))),d.a.createElement("div",{className:"s-apy-value"},h.a.usddMint.includes(l.jtokenAddress)?"".concat(Object(T.i)(i,2,{per:!0,miniText:"0.01"})):Object(T.i)(p,2,{per:!0,miniText:"0.01"}),"%"))),d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"s-title"},E.a.get("market.borrow_apy")),d.a.createElement("div",{className:"s-value green"},Object(T.i)(Object(T.a)(l.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%")),d.a.createElement("div",{className:"flex aic jcsb mb-10"},d.a.createElement("div",{className:"s-title"},E.a.get("market.deposit_size")),d.a.createElement("div",{className:"s-value"},Object(T.a)(l.depositedUSD).isNaN()?"--":Object(T.c)(l.depositedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"s-title"},E.a.get("market.borrow_size")),d.a.createElement("div",{className:"s-value"},Object(T.a)(l.borrowedUSD).isNaN()?"--":Object(T.c)(l.borrowedUSD,2,{miniText:.01,needDolar:!0})))))},n.addToTronlink=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.tronWeb||!window.tronWeb.defaultAddress.base58){e.next=4;break}return a=window.tronWeb,e.next=4,a.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:t}}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.detailM=function(){var e=n.state.jTokenData;return d.a.createElement("div",{className:"detail-m"},d.a.createElement("div",{className:"title-elements"},d.a.createElement("div",{className:"te-title"},E.a.getHTML("market.detail_data"))),d.a.createElement("div",{className:"market-card market-detail-card"},d.a.createElement("div",{className:"card-bottom"},d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_price")),d.a.createElement("div",{className:"cb-value"},"--"==e.priceUSD?"--":Object(T.c)(e.priceUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_limitmax")),d.a.createElement("div",{className:"cb-value"},Object(T.a)(e.borrowLimit).gt(0)?Object(T.i)(e.borrowLimit,0)+" "+e.collateralSymbol:E.a.get("market.detail_none")))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_number_of_deposit_accounts")),d.a.createElement("div",{className:"cb-value"},e.depositHeadcount)),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_number_of_borrow_accounts")),d.a.createElement("div",{className:"cb-value"},e.borrowHeadcount))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title flex aic"},d.a.createElement(k.a,{className:"tooltips-m bb-dash-545669",overlayClassName:"tooltip-m",title:E.a.getHTML("market_lend_tip"),placement:"topRight",trigger:"['hover','click']"},E.a.getHTML("market.borrow_market"))),d.a.createElement("div",{className:"cb-value"},Object(T.a)(Object(T.K)(e)).gte(1)?Object(T.i)(Object(T.K)(e),0):Object(T.i)(Object(T.K)(e),2,{miniText:.01})," ",d.a.createElement("span",{className:"font-dmsans"},e.collateralSymbol))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_dailyinterest")),d.a.createElement("div",{className:"cb-value"},Object(T.i)(e.earnUSDPerDay,2,{miniText:.01,needDolar:!0})))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_reserves")),d.a.createElement("div",{className:"cb-value"},Object(T.i)(e.totalReserves,6,{miniText:1e-6}))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_factor")),d.a.createElement("div",{className:"cb-value"},Object(T.S)(e.reserveFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele"},d.a.createElement("div",{className:"cb-title"},E.a.getHTML("market.detail_jminted",{value:"j"+e.collateralSymbol})),d.a.createElement("div",{className:"cb-value"},Object(T.i)(e.totalSupply,0,{miniText:1}))),d.a.createElement("div",{className:"cb-ele cb-right"},d.a.createElement("div",{className:"cb-title"},E.a.get("market.detail_collateral")),d.a.createElement("div",{className:"cb-value"},Object(T.S)(e.collateralFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("div",{className:"flex aic jcsb"},d.a.createElement("div",{className:"cb-ele width-100-per mb-0"},d.a.createElement("div",{className:"cb-title"},E.a.getHTML("market.detail_jexchangerate",{value:"j"+e.collateralSymbol})),Object(T.a)(e.oneToExchangeRate).lt(Object(T.a)(1).div(h.a.tokenDefaultPrecision))&&d.a.createElement("div",{className:"cb-value"},"--"),Object(T.a)(e.oneToExchangeRate).gte(Object(T.a)(1).div(h.a.tokenDefaultPrecision))&&d.a.createElement("div",{className:"cb-value"},"1 ",d.a.createElement("span",{className:"font-dmsans"},e.collateralSymbol)," "," : "," ",Object(T.i)(e.oneToExchangeRate,18),d.a.createElement("span",{className:"font-dmsans"}," j",e.collateralSymbol)))))))},n.eachartsM=function(){var e=n.state,t=(e.mobile,e.jtokenAddress,e.current),a=e.curStatus,l=e.jTokenData,r=e.checked,s=(n.props.network.menuFlag,n.props.lend.assetList),o=Object(T.E)(l,s),c=o.mintApyWithUSDD,i=(o.totalApy,o.mintApy);r||(i=0);var m=n.props.network.multyRealStart,p=Object(T.a)(t.base),u="--"===n.state.useRate?Object(T.i)(Object(T.a)(p).gt(100)?100:p,2):n.state.useRate,b="--"===n.state.baseDeposit?t.supply:n.state.baseDeposit,g="--"===n.state.borrowApy?Object(T.i)(t.borrow,2,{miniText:.01,per:!0}):n.state.borrowApy;return d.a.createElement("div",{className:"echarts-m"},d.a.createElement("div",{className:"e-top"},d.a.createElement("div",null,E.a.get("use_rate")),d.a.createElement("div",null,a?Object(T.i)(Object(T.a)(p).gt(100)?100:p,2):u,"%")),d.a.createElement("div",{className:"e-content"},d.a.createElement("div",null,d.a.createElement("div",{className:"ec-title"},E.a.get("lend.depositapy"),d.a.createElement("span",{className:"inline-block"},"(",E.a.get("market.baseAPY"),r?"+"+E.a.get("market.mint_apy"):"",")")),d.a.createElement("div",{className:"ec-value"},a?"--"===Object(T.i)(Object(T.a)(Object(T.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(T.i)(Object(T.a)(t.supply).plus(i),2,{miniText:.01,per:!0}):Object(T.i)(Object(T.a)(Object(T.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}):r?Object(T.i)(Object(T.a)(b).plus(i),2,{miniText:.01,per:!0}):n.state.depositApy,"%",d.a.createElement("span",{className:"inline-block"+(r?"":" hide")},r?"(".concat(a?Object(T.i)(t.supply,2,{miniText:.01,per:!0}):Object(T.i)(b,2,{miniText:.01,per:!0}),"%+").concat(Object(T.i)(i,2,{miniText:.01,per:!0}),"%)"):""))),d.a.createElement("div",null,d.a.createElement("div",{className:"ec-title"},E.a.get("market.borrow_apy")),d.a.createElement("div",{className:"ec-value green"},a?Object(T.i)(t.borrow,2,{miniText:.01,per:!0}):g,"%"))),d.a.createElement("div",{className:"echarts-frame",onClick:function(){n.judgeBox()},onTouchStart:function(){return n.judgeBox()},onTouchMove:function(){return n.judgeBox()}},d.a.createElement("span",{className:"left"},"Y : APY(%)"),d.a.createElement("div",{className:"canvas-box",onMouseOver:function(){n.canvasHover()},onMouseLeave:function(){n.canvasBlur()}},d.a.createElement(y.a,{option:n.getEchartsOption(),className:"market-detail-echarts"}),d.a.createElement("div",{className:"show-current",onClick:function(e){return n.resetDefault(e)}},d.a.createElement("span",{className:"reset-icon"}),d.a.createElement("span",{className:"reset-text"},E.a.get("show_current")))),d.a.createElement("div",{className:"default-text "+(a?"":"hide")+(r?" include-mint":"")},d.a.createElement("p",{className:"use-rate"},E.a.get("use_rate"),d.a.createElement("span",null,Object(T.i)(Object(T.a)(p).gt(100)?100:p,2),"%")),d.a.createElement("p",null,E.a.get("lend.depositapy"),d.a.createElement("span",{className:"blue"},"--"===Object(T.i)(Object(T.a)(Object(T.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(T.i)(Object(T.a)(t.supply).plus(i),2,{miniText:.01,per:!0}):Object(T.i)(Object(T.a)(Object(T.i)(t.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(i,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,"-",E.a.get("market.baseAPY"),d.a.createElement("span",{className:"sub-span"},Object(T.i)(t.supply,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",{className:"mint-p"},"-",E.a.get("lend.miningapy"),d.a.createElement("span",{className:"sub-span"},Object(T.i)(i,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,E.a.get("market.borrow_apy"),d.a.createElement("span",{className:"green"},Object(T.i)(t.borrow,2,{miniText:.01,per:!0}),"%")),d.a.createElement("div",{style:{opacity:0,height:0}},d.a.createElement("div",null,Object(T.i)(Object(T.a)(p).gt(100)?100:p,2),"%"),d.a.createElement("div",null,Object(T.i)(i,2,{miniText:.01,per:!0})),d.a.createElement("div",null,Object(T.i)(t.borrow,2,{miniText:.01,per:!0})))),d.a.createElement("span",{className:"right"},"X : ",E.a.get("market.detail_use_rate")+"(%)"),m&&!(h.a.hideMarketMintIcon.indexOf(l.collateralSymbol)>-1)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"flexB gray-bar"},d.a.createElement("div",{className:"title"},E.a.get("market.detail_distubutedapy"),d.a.createElement("span",{className:"data-tip"},E.a.get("market.sun_mining_nex2"))),d.a.createElement("div",null,d.a.createElement("span",{className:"data"},h.a.usddMint.includes(l.jtokenAddress)?"".concat(Object(T.i)(c,2,{per:!0,miniText:"0.01",needDolar:!1})):Object(T.i)(o.mintApy,2,{per:!0,miniText:"0.01",needDolar:!1}),"%"))),d.a.createElement("div",{className:"bottom-bar"},"USDD"===(null===l||void 0===l?void 0:l.collateralSymbol)?E.a.get("market.detail_data_hotdesc1"):E.a.get("market.detail_data_hotdesc")))))},n.resetDefault=function(e){e.stopPropagation(),n.setState({curStatus:!0})},n.state={mobile:Object(g.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||E.a.options.currentLocale,jTokenData:{priceUSD:"--",depositHeadcount:"--",borrowHeadcount:"--",borrowLimit:"--",earnUSDPerDay:"--",totalReserves:"--",reserveFactor:"--",collateralFactor:"--",collateralSymbol:"--",totalSupply:"--",oneToExchangeRate:"--"},jtokenAddress:"",borrowList:[],supplyList:[],baseList:[],mintList:[],current:{base:"--",borrow:"--",supply:"--"},curStatus:!0,labelStatus:!0,checked:!0,isShow:!1,isNetworkError:!1,useRate:"--",depositApy:"--",borrowApy:"--",baseDeposit:"--"},n}return Object(o.a)(a,[{key:"getEchartsOption",value:function(){var e=this,t=this.state,a=t.borrowList,n=t.supplyList,l=t.baseList,r=(t.labelStatus,t.checked),s=t.curStatus,o=this.state,c=o.current,i=o.jTokenData,m=this.props.lend.assetList,d=Object(T.E)(i,m),p=d.mintApy,u=d.mintApyWithUSDD;return r||(p=0),{tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,lineStyle:{color:"rgba(69, 77, 226, 0.2)",type:"dashed"},label:{precision:2}},backgroundColor:"rgba(255,255,255,0.5)",borderWidth:"0",textStyle:{color:"#333",fontFamily:"AvenirNext-Medium",fontSize:"14px"},formatter:function(t){var a=h.a.usddMint.includes(i.jtokenAddress)?u:p;r||(a=0),"--"!==p&&Object(T.i)(Object(T.a)(t[1].value).minus(Object(T.a)(a)._toFixed(2,1)),2);var n=i.model.filter((function(e){return!e.current})),l=Object(T.a)(n[t[0].dataIndex].base).times(100);return e.setState({useRate:Object(T.i)(Object(T.a)(l).gt(100)?100:l,2),depositApy:Object(T.i)(t[1].value,2),borrowApy:Object(T.i)(t[0].value,2),baseDeposit:Object(T.a)(t[1].value).minus(Object(T.a)(a)._toFixed(2,1))}),""}},grid:{left:"0%",right:"3%",bottom:"5%",containLabel:!0},yAxis:{name:" ",nameTextStyle:{color:"#84869E",align:"left"},type:"value",axisLine:{show:!0,lineStyle:{width:1,color:["#e9e9e9"]}},splitLine:{show:!0,lineStyle:{type:"dotted",color:["#ccc"]}},splitNumber:3,axisTick:{show:!1},axisLabel:{textStyle:{color:"#84869E"}}},xAxis:{type:"category",axisPointer:{value:Number(Object(T.i)(c.base,2)),lineStyle:s?{color:"rgba(15,19,79,0.5)",width:1}:null,label:{show:s,formatter:function(e,t){return E.a.get("market.current")},backgroundColor:"rgba(0,0,0,0.5)"},handle:{show:!0,color:"transparent"}},name:"",nameTextStyle:{color:"#84869E"},data:l,axisLine:{lineStyle:{color:["#E9E9E9"]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{interval:0,formatter:function(e,t){return t%10==0&&0!=t?t:null},textStyle:{color:"#84869E"}}},series:[{name:E.a.get("market.borrow_apy"),type:"line",hoverAnimation:!1,itemStyle:{normal:{color:"#1ED0AC",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#9EF9E6",borderColor:"#1ED0AC",borderWidth:3}},data:a,showSymbol:!1,symbolSize:11},{name:E.a.get("market.deposit_apy"),type:"line",itemStyle:{normal:{color:"#3D56D6",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#BBBAFF",borderColor:"#3D56D6",borderWidth:3}},hoverAnimation:!1,data:n,showSymbol:!1,symbolSize:11}]}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.current,t.jTokenData),n=t.checked,l=this.props.lend,r=l.assetList,s=l.DAWPop,o=l.borrowModalInfo;Object(T.E)(a,r).mintApy;return n||0,d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"modal-container main common-m market-detail-m block-m"},this.scaleM(),d.a.createElement("div",{className:"title-elements flex aic jcsb"},d.a.createElement("div",{className:"te-title"},E.a.getHTML("market.detail_apymodel")),!h.a.hideMarketMintIcon.includes(a.collateralSymbol)&&d.a.createElement("div",{className:"te-subtitle"},d.a.createElement(N.a,{checked:n,onChange:function(t){return e.onChange(t.target.checked)},className:"show-all-markets checkbox-detail-m"},E.a.get("modal_mining_apy")))),this.eachartsM(),this.detailM(),this.walletM()),d.a.createElement(j.a,{title:" ",footer:null,onCancel:function(){return e.setState({isNetworkError:!1})},className:"borrow-modal network-error-modal",visible:this.state.isNetworkError,width:350},d.a.createElement("div",{className:"network-error"},E.a.get("network_error")),d.a.createElement(x.a,{className:"modal-btn",type:"primary",onClick:function(){return e.setState({isNetworkError:!1})}},E.a.get("got_it"))),s.show&&d.a.createElement(A.a,{detailInfo:!0}),o.visible&&d.a.createElement(S.a,{detailInfo:!0}),d.a.createElement(D.a,null))}}]),a}(d.a.Component))||n)||n)||n),L=a(1214),M=Object(f.b)("network")(l=Object(f.b)("lend")(l=Object(f.b)("pool")(l=Object(f.c)(l=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getUserData=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.lend.getUserData();case 2:return e.next=4,n.props.lend.getTokenBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),n.getMarketData=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.lend.getMarketData();case 2:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",e.next=3,n.props.lend.getMintInfo();case 3:return(t=window.location.hash.split("?")).length>1&&t[1].split("&").map((function(e){var t=e.split("=");t.length>1&&"jtokenAddress"===t[0]&&n.setState({jtokenAddress:t[1]},(function(){n.getJTokenData()}))})),e.next=7,n.props.network.getNowTime();case 7:n.props.network.getCountTime(),setInterval((function(){n.getJTokenData()}),3e4);case 9:case"end":return e.stop()}}),e)}))),n.getJTokenData=Object(b.a)(u.a.mark((function e(){var t,a,l,r,s,o,c,i,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:n.state.checked,e.prev=1,a=n.state.jtokenAddress,e.next=5,Object(C.d)(a);case 5:if(l=e.sent,r=n.props.lend.assetList,s=0,o=Object(T.E)(l.data,r),c=o.mintApy,i=o.mintApyWithUSDD,Object(T.a)(c).gte(0)&&(s=c),h.a.usddMint.includes(a)&&(s=i),t||(s=Object(T.a)(0)),l.success){e.next=14;break}return e.abrupt("return");case 14:n.setState({jTokenData:l.data},(function(){var e=l.data.model,t=[],a=[],r=[],o=[];e.map((function(e){e.current?n.setState({current:{base:Object(T.a)(e.base).times(100),borrow:Object(T.a)(e.borrow).times(100),supply:Object(T.a)(e.supply).times(100)}}):(t.push(Object(T.i)(Object(T.a)(e.borrow).times(100),2,{miniText:.01,per:!0})),a.push(Object(T.i)(Object(T.a)(e.supply).times(100).plus(Object(T.a)(s)._toFixed(2,1)),2,{miniText:.01,per:!0})),r.push(Object(T.i)(s,2,{miniText:.01,per:!0})),o.push(Object(T.i)(Object(T.a)(e.base).times(100),2,{miniText:.01,per:!0})))})),n.setState({borrowList:t,supplyList:a,baseList:o,mintList:r})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getMarketData",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),n.addToTronlink=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.network.isConnected){e.next=3;break}return e.abrupt("return",n.props.network.connectWallet());case 3:if(!window.tronWeb||!window.tronWeb.defaultAddress.base58){e.next=7;break}return a=window.tronWeb,e.next=7,a.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:t}}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.judgeBox=function(){n.state.mobile&&n.hideDBox()},n.hideDBox=function(){n.setState({curStatus:!1})},n.showDBox=function(){n.setState({curStatus:!0})},n.canvasHover=function(){n.setState({labelStatus:!1})},n.canvasBlur=function(){n.setState({labelStatus:!0})},n.onChange=function(e){n.setState({checked:e}),n.getJTokenData(e),e?gtag("event","click",{event_category:"PC",event_label:"Show Mining APY",value:"yes"}):gtag("event","click",{event_category:"PC",event_label:"Show Mining APY",value:"no"})},n.borrowMax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=n.props.lend,l=a.borrowLimit,r=a.totalBorrowUsdForUSDD,s=a.trxPrice,o=e.assetPrice,c=e.precision,i=e.collateralDecimal,m=e.jtokenAddress,d=t.deposited,p=t.deposited_usd,u=t.collateralFactor,b=t.account_entered,g=l;0===b&&(g=m===h.a.usddJtoken?Object(T.a)(g).plus(Object(T.a)(d).times(u).div(h.a.tokenDefaultPrecision)):Object(T.a)(g).plus(Object(T.a)(p).times(u).div(h.a.tokenDefaultPrecision)));var v=Object(T.a)(g),E=Object(T.a)(0);return(E=m===h.a.usddJtoken?Object(T.a)(v).minus(r):v.minus(r).times(h.a.tokenDefaultPrecision).div(o).times(h.a.tokenDefaultPrecision).div(s).times(h.a.defaultPrecision).div(c)).lt(0)?0:E._toFixed(i,1)}catch(f){console.log("borrowMax: ",f)}},n.clickDeposit=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.setData({DAWPop:{show:!0,activeKey:"1",popData:e}}):n.setState({isNetworkError:!0})},n.clickBorrow=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isMainNetwork?n.props.lend.collateralValid(e.collateralSymbol)&&n.props.lend.setData({visible:!0,jtokenAddress:e.jtokenAddress,type:"1"},"borrowModalInfo"):n.setState({isNetworkError:!0})},n.state={mobile:Object(g.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||E.a.options.currentLocale,jTokenData:{priceUSD:"--",depositHeadcount:"--",borrowHeadcount:"--",borrowLimit:"--",earnUSDPerDay:"--",totalReserves:"--",reserveFactor:"--",collateralFactor:"--",collateralSymbol:"--",totalSupply:"--",oneToExchangeRate:"--"},jtokenAddress:"",borrowList:[],supplyList:[],baseList:[],mintList:[],current:{base:"--",borrow:"--",supply:"--"},curStatus:!0,labelStatus:!0,checked:!0,isNetworkError:!1},n}return Object(o.a)(a,[{key:"renderHeader",value:function(){var e=this.state,t=e.jTokenData,a=e.current,n=this.props.lend.assetList,l=Object(T.E)(t,n),r=l.totalApy,s=(l.depositApy,l.mintApy),o=l.mintApyWithUSDD;return t&&t.logoUrl?d.a.createElement("div",{className:"market-detail-header flex-between"},d.a.createElement("div",{className:"common-title header-title"},d.a.createElement("img",{src:t.logoUrl,alt:"logo"}),d.a.createElement("span",null,"".concat(t.collateralName,"(").concat(t.collateralSymbol,")"))),d.a.createElement("div",{className:"header-info flex-between"},d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.deposit_size")),d.a.createElement("p",null,Object(T.c)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.deposit_apy")),d.a.createElement(k.a,{title:d.a.createElement("div",{className:"info-tooltip"},d.a.createElement("div",null,E.a.get("market.deposit_base_nex")," :"," ",Object(T.i)(a.supply,2,{per:!0,miniText:"0.01"}),"%"),d.a.createElement("div",null,h.a.usddMint.includes(t.jtokenAddress)?E.a.get("market.sun_mining_nex1"):E.a.get("market.sun_mining_nex")," ",":"," ",h.a.usddMint.includes(t.jtokenAddress)?"".concat(Object(T.i)(o,2,{per:!0,miniText:"0.01"})):Object(T.i)(s,2,{per:!0,miniText:"0.01"}),"%"),h.a.usddMint.includes(t.jtokenAddress)&&d.a.createElement("div",null,E.a.get("usddapy.hover2"))),placement:"bottomRight"},d.a.createElement("p",null,"--"===Object(T.i)(Object(T.a)(Object(T.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(s,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(T.i)(r,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(T.i)(Object(T.a)(Object(T.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(s,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%"))),d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.borrow_size")),d.a.createElement("p",null,Object(T.c)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.borrow_apy")),d.a.createElement("p",null,Object(T.i)(Object(T.a)(t.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%")))):d.a.createElement("div",{className:"market-detail-header flex-between"},d.a.createElement("div",{className:"common-title header-title"},d.a.createElement("span",null,"--")),d.a.createElement("div",{className:"header-info flex-between"},d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.deposit_size")),d.a.createElement("p",null,"--")),d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.deposit_apy")),d.a.createElement("p",null,"--","%")),d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.borrow_size")),d.a.createElement("p",null,"--")),d.a.createElement("div",{className:""},d.a.createElement("p",null,E.a.getHTML("market.borrow_apy")),d.a.createElement("p",null,"--","%"))))}},{key:"renderActionContent",value:function(e){var t,a,n=this,l=window.localStorage.getItem("lang")||"en-US";return d.a.createElement("div",null,d.a.createElement("div",{className:"flex-between"},d.a.createElement("div",null,d.a.createElement("img",{src:e.logoUrl,alt:"logo"}),d.a.createElement("span",null,d.a.createElement("strong",null,e.collateralSymbol))),d.a.createElement("div",{className:"flex aic"},"trx"!==(null===e||void 0===e||null===(t=e.collateralSymbol)||void 0===t?void 0:t.toLocaleLowerCase())?d.a.createElement(k.a,{title:E.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{className:"typo-text-link",href:"".concat("en-US"===l?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat("--"!==(null===e||void 0===e?void 0:e.collateralSymbol)?e.collateralAddress:""),target:"_blank",rel:"noopener noreferrer"},d.a.createElement("span",{className:"toTronscan"}))):d.a.createElement("span",{className:"toTronscan disabled"}),"trx"!==(null===e||void 0===e||null===(a=e.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase())?d.a.createElement(k.a,{title:E.a.getHTML("add_to_tronlink"),placement:"top"},d.a.createElement("span",{className:"addtoTronLink ",onClick:function(){return n.addToTronlink(e.collateralAddress)}})):d.a.createElement("span",{className:"addtoTronLink disabled"}))),d.a.createElement("div",{className:"flex-between"},d.a.createElement("div",null,d.a.createElement("img",{src:Object(T.v)(e.collateralSymbol),alt:"logo"}),d.a.createElement("span",null,d.a.createElement("strong",null,"j",e.collateralSymbol))),d.a.createElement("div",{className:"flex aic"},d.a.createElement(k.a,{title:E.a.getHTML("view_in_explorer"),placement:"top"},d.a.createElement("a",{className:"typo-text-link",href:"".concat("en-US"===l?h.a.tronscanUrlEN:h.a.tronscanUrlCN,"/address/").concat(e.jtokenAddress),target:"_blank",rel:"noopener noreferrer"},d.a.createElement("span",{className:"toTronscan"}))),d.a.createElement(k.a,{title:E.a.getHTML("add_to_tronlink"),placement:"top"},d.a.createElement("span",{className:"addtoTronLink",onClick:function(){return n.addToTronlink(e.jtokenAddress)}})))))}},{key:"renderInfo",value:function(){var e=this.state,t=e.jTokenData,a=(e.jtokenAddress,e.current),n=this.props.lend.assetList,l=Object(T.E)(t,n),r=l.totalApy,s=(l.depositApy,l.mintApy),o=l.mintApyWithUSDD;return d.a.createElement("div",{className:"market-detail-info"},d.a.createElement("div",{className:"top"},d.a.createElement("div",{className:"header-title"},d.a.createElement("img",{src:t.logoUrl,alt:"logo"}),d.a.createElement("span",null,d.a.createElement("strong",null,t.collateralName),"(",t.collateralSymbol,")"),d.a.createElement(L.a,{placement:"bottomRight",title:"",content:this.renderActionContent(t),trigger:"click",overlayClassName:"market-action-pop"},d.a.createElement("div",{className:"action"}))),d.a.createElement("section",null,d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,E.a.getHTML("market.deposit_apy")),d.a.createElement("strong",{className:"deposit flex aic "},"--"===Object(T.i)(Object(T.a)(Object(T.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(s,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(T.i)(r,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(T.i)(Object(T.a)(Object(T.i)(a.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(s,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%",!(h.a.hideMarketMintIcon.indexOf(t.collateralSymbol)>-1)&&d.a.createElement("span",{className:"ic-fire ml-4 mb-0"}))),d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,E.a.getHTML("market.borrow_apy")),d.a.createElement("strong",{className:"borrow"},Object(T.i)(Object(T.a)(t.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%"))),d.a.createElement("div",{className:"apy-box"},d.a.createElement("div",null,d.a.createElement("span",null,E.a.get("market.deposit_base_nex1"),d.a.createElement("span",{className:"inline-block"},E.a.get("market.deposit_base_nex2"))),d.a.createElement("span",null,Object(T.i)(a.supply,2,{per:!0,miniText:"0.01"}),"%")),d.a.createElement("div",null,d.a.createElement("span",null,E.a.get("market.mining_nex1"),d.a.createElement("span",{className:"inline-block"},E.a.get("market.mining_nex2"))),d.a.createElement("span",null,h.a.usddMint.includes(t.jtokenAddress)?"".concat(Object(T.i)(o,2,{per:!0,miniText:"0.01"})):Object(T.i)(s,2,{per:!0,miniText:"0.01"}),"%"))),d.a.createElement("section",null,d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,E.a.getHTML("market.deposit_size")),d.a.createElement("strong",null,Object(T.c)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"apy"},d.a.createElement("span",null,E.a.getHTML("market.borrow_size")),d.a.createElement("strong",null,Object(T.c)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))))),d.a.createElement("div",{className:"detail-info"},d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_price")),d.a.createElement("span",null,"--"==t.priceUSD?"--":Object(T.c)(t.priceUSD,2,{miniText:.01,needDolar:!0}))),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_limitmax")),d.a.createElement("span",null,Object(T.a)(t.borrowLimit).gt(0)?Object(T.i)(t.borrowLimit,0)+" "+t.collateralSymbol:E.a.get("market.detail_none")))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_number_of_deposit_accounts")),d.a.createElement("span",null,t.depositHeadcount)),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_number_of_borrow_accounts")),d.a.createElement("span",null,t.borrowHeadcount))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.getHTML("market.borrow_market"),d.a.createElement(k.a,{overlayClassName:"mltr",title:E.a.getHTML("market_lend_tip"),placement:"bottom"},d.a.createElement("span",{className:"tooltip-icon"}))),d.a.createElement("span",null,Object(T.a)(Object(T.K)(t)).gte(1)?Object(T.i)(Object(T.K)(t),0):Object(T.i)(Object(T.K)(t),2,{miniText:.01})," ",t.collateralSymbol)),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_dailyinterest")),d.a.createElement("span",null,Object(T.i)(t.earnUSDPerDay,2,{miniText:.01,needDolar:!0})))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_reserves")),d.a.createElement("span",null,Object(T.i)(t.totalReserves,6,{miniText:1e-6}))),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_factor")),d.a.createElement("span",null,Object(T.S)(t.reserveFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.getHTML("market.detail_jminted",{value:"j"+t.collateralSymbol})),d.a.createElement("span",null,Object(T.i)(t.totalSupply,0,{miniText:1}))),d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.get("market.detail_collateral")),d.a.createElement("span",null,Object(T.S)(t.collateralFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),d.a.createElement("section",null,d.a.createElement("div",{className:"column"},d.a.createElement("span",null,E.a.getHTML("market.detail_jexchangerate",{value:"j"+t.collateralSymbol})),d.a.createElement("span",null,Object(T.a)(t.oneToExchangeRate).lt(Object(T.a)(1).div(h.a.tokenDefaultPrecision))?"--":"1 "+t.collateralSymbol+" : "+Object(T.i)(t.oneToExchangeRate,18)+" j"+t.collateralSymbol)))))}},{key:"getEchartsOption",value:function(){var e=this.state,t=e.borrowList,a=e.supplyList,n=e.baseList,l=e.labelStatus,r=e.checked,s=this.state,o=s.current,c=s.jTokenData,i=this.props.lend.assetList,m=Object(T.E)(c,i),d=m.mintApy,p=m.mintApyWithUSDD;return{tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,lineStyle:{color:"rgba(69, 77, 226, 0.2)",type:"dashed"},label:{precision:2}},backgroundColor:"rgba(255,255,255,0.5)",borderWidth:"0",textStyle:{color:"#333",fontFamily:"AvenirNext-Medium",fontSize:"14px"},formatter:function(e){var t="--",a=h.a.usddMint.includes(c.jtokenAddress)?p:d;r||(a=0),"--"!==d&&(t=Object(T.i)(Object(T.a)(e[1].value).minus(Object(T.a)(a)._toFixed(2,1)),2));var n=c.model.filter((function(e){return!e.current})),l=Object(T.a)(n[e[0].dataIndex].base).times(100);return'<div class="default-text-clone'+(r?" include-mint":"")+'"><p class="use-rate">'+E.a.get("use_rate")+"<span>"+Number(Object(T.i)(Object(T.a)(l).gt(100)?100:l,2))+"%</span></p><p>"+E.a.get("lend.depositapy")+'<span class="blue">'+Object(T.i)(e[1].value,2)+"%</span></p><p>-"+E.a.get("market.baseAPY")+'<span class="sub-span">'+t+'%</span></p><p class="mint-p">-'+E.a.get("lend.miningapy")+'<span class="sub-span">'+Object(T.i)(a,2)+"%</span></p><p>"+e[0].seriesName+'<span class="green">'+Object(T.i)(e[0].value,2)+"%</span></p></div>"}},grid:{left:"0%",right:"3%",bottom:"5%",containLabel:!0},yAxis:{name:"Y : APY(%)",nameTextStyle:{color:"#545699",align:"left"},type:"value",axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dotted",color:["#ccc"]}},splitNumber:3,axisTick:{show:!1},axisLabel:{textStyle:{color:"#84869E"}}},xAxis:{type:"category",axisPointer:{value:Number(Object(T.i)(o.base,2)),lineStyle:{color:"#e9e9e9",width:2},label:{show:l,formatter:function(e,t){return E.a.get("market.current")},backgroundColor:"rgba(0,0,0,0.5)"},handle:{show:!0,color:"transparent"}},name:"",nameTextStyle:{color:"#84869E"},data:n,axisLine:{lineStyle:{color:["#E9E9E9"]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{interval:0,formatter:function(e,t){return t%10==0&&0!=t?t:null},textStyle:{color:"#84869E"}}},series:[{name:E.a.get("market.borrow_apy"),type:"line",hoverAnimation:!1,itemStyle:{normal:{color:"#1ED0AC",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#9EF9E6",borderColor:"#1ED0AC",borderWidth:3}},data:t,showSymbol:!1,symbolSize:11},{name:E.a.get("market.deposit_apy"),type:"line",itemStyle:{normal:{color:"#3D56D6",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#BBBAFF",borderColor:"#3D56D6",borderWidth:3}},hoverAnimation:!1,data:a,showSymbol:!1,symbolSize:11}]}}},{key:"render",value:function(){var e=this,t=this.state,a=t.mobile,n=(t.jtokenAddress,t.current),l=t.curStatus,r=t.jTokenData,s=t.checked,o=this.props.network.menuFlag,c=this.props.lend,i=c.assetList,m=c.DAWPop,p=c.borrowModalInfo,u=Object(T.E)(r,i),b=u.mintApyWithUSDD,g=(u.totalApy,u.mintApy);s||(g=0);var v=this.props.network.multyRealStart,f=Object(T.a)(n.base),k=this.props.lend.marketList||this.props.lend.userList,O=k[r.jtokenAddress]?k[r.jtokenAddress]:{},C=this.borrowMax(O,this.props.lend.userList[r.jtokenAddress]),L=Object(T.K)(r),M=Object(T.a)(C).isNaN()||Object(T.a)(L).isNaN()?"--":Object(T.a)(C).gte(L)?L:C;return d.a.createElement("div",{className:"modal-container main "+(a?"":"flex-end")},d.a.createElement(w.a,{classNames:"transparant-bg",instantActions:this.getMarketData,mountedActions:this.getUserData}),a?d.a.createElement(_,null):d.a.createElement("div",{className:a?"market-container right-container mobile-right-container":o?"market-container right-container":"market-container right-container max-width"},d.a.createElement("div",{className:"market-info-block flex-between"},this.renderInfo(),d.a.createElement("div",{className:"echarts-frame",onClick:function(){return e.judgeBox()},onTouchStart:function(){return e.judgeBox()},onTouchMove:function(){return e.judgeBox()}},d.a.createElement("span",{className:"echarts-title"},E.a.getHTML("market.detail_apymodel"),d.a.createElement("br",null),v?"":d.a.createElement("p",{className:"echarts-subtitle"},E.a.get("market.deposit_apy_include"))),d.a.createElement("span",{className:"left"},"APY(%)"),d.a.createElement("div",{className:"canvas-box",onMouseOver:function(){e.hideDBox(),e.canvasHover()},onMouseLeave:function(){e.showDBox(),e.canvasBlur()}},d.a.createElement(y.a,{option:this.getEchartsOption(),className:"market-detail-echarts"})),d.a.createElement("div",{className:"default-text "+(l?"":"hide")+(s?" include-mint":"")},d.a.createElement("p",{className:"use-rate"},E.a.get("use_rate"),d.a.createElement("span",null,Object(T.i)(Object(T.a)(f).gt(100)?100:f,2),"%")),d.a.createElement("p",null,E.a.get("lend.depositapy"),d.a.createElement("span",{className:"blue"},"--"===Object(T.i)(Object(T.a)(Object(T.i)(n.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(g,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(T.i)(Object(T.a)(n.supply).plus(g),2,{miniText:.01,per:!0}):Object(T.i)(Object(T.a)(Object(T.i)(n.supply,2,{miniText:.01,per:!0})).plus(Object(T.i)(g,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,"-",E.a.get("market.baseAPY"),d.a.createElement("span",{className:"sub-span"},Object(T.i)(n.supply,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",{className:"mint-p"},"-",E.a.get("lend.miningapy"),d.a.createElement("span",{className:"sub-span"},Object(T.i)(g,2,{miniText:.01,per:!0}),"%")),d.a.createElement("p",null,E.a.get("market.borrow_apy"),d.a.createElement("span",{className:"green"},Object(T.i)(n.borrow,2,{miniText:.01,per:!0}),"%"))),d.a.createElement("span",{className:"right tar"},"X : ",E.a.get("market.detail_use_rate")+"(%)"),v&&!(h.a.hideMarketMintIcon.indexOf(r.collateralSymbol)>-1)&&d.a.createElement("div",{className:"echarts-bar"},d.a.createElement("div",{className:"flexB"},d.a.createElement("div",null,d.a.createElement("strong",null,E.a.get("market.detail_distubutedapy")),E.a.get("market.sun_mining_nex2")),d.a.createElement("div",{className:"te-subtitle pc-te-subtitle"},d.a.createElement(N.a,{className:"show-all-markets checkbox-detail-m",checked:s,onChange:function(t){return e.onChange(t.target.checked)}},E.a.get("modal_mining_apy")),d.a.createElement("span",{className:"data"},h.a.usddMint.includes(r.jtokenAddress)?"".concat(Object(T.i)(b,2,{per:!0,miniText:"0.01",needDolar:!1})):Object(T.i)(u.mintApy,2,{per:!0,miniText:"0.01",needDolar:!1}),"%"))),d.a.createElement("div",{className:"bottom-bar"},"USDD"===(null===r||void 0===r?void 0:r.collateralSymbol)?E.a.get("market.detail_data_hotdesc1"):E.a.get("market.detail_data_hotdesc"))))),this.props.network.isConnected&&d.a.createElement("div",{className:"market-footer"},d.a.createElement("div",{className:"wallet-info flex-between"},d.a.createElement("div",{className:"name"},E.a.get("wallet_info")),d.a.createElement("div",{className:"action"},d.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.clickDeposit(O)}},E.a.get("index.markets_deposit")),d.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.clickBorrow(O)}},E.a.get("index.markets_withdraw")))),d.a.createElement("div",{className:"wallet-detail"},d.a.createElement("div",{className:"flex-between"},d.a.createElement("span",null,E.a.get("wallet_ballance")),Object(T.O)(O,this.props.lend.balanceInfo,3)),d.a.createElement("div",{className:"flex-between"},d.a.createElement("span",null,E.a.get("current_borrow")),d.a.createElement("span",null," ",Object(T.a)(M).isNaN()||Object(T.a)(M).eq(0)?"0":Object(T.c)(M,2,{miniText:.01})," ",O.collateralSymbol)))),d.a.createElement(j.a,{title:" ",footer:null,onCancel:function(){return e.setState({isNetworkError:!1})},className:"borrow-modal network-error-modal",visible:this.state.isNetworkError,width:350},d.a.createElement("div",{className:"network-error"},E.a.get("network_error")),d.a.createElement(x.a,{className:"modal-btn",type:"primary",onClick:function(){return e.setState({isNetworkError:!1})}},E.a.get("got_it"))),m.show&&d.a.createElement(A.a,{detailInfo:!0}),p.visible&&d.a.createElement(S.a,{detailInfo:!0}),d.a.createElement(D.a,null)))}}]),a}(d.a.Component))||l)||l)||l)||l,F=Object(f.b)("network")(r=Object(f.c)(r=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.network.setData({routeName:"market"})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(M,null))}}]),a}(d.a.Component))||r)||r;t.default=F},596:function(e,t,a){},603:function(e,t,a){"use strict";var n,l=a(5),r=a(8),s=a(13),o=a(12),c=a(0),i=a.n(c),m=a(149),d=a(24),p=a.n(d),u=a(129),b=a(150),g=a(850),v=a(851),E=a(577),f=a(1209),w=a(575),h=a(11),k=(a(642),a(643),a(7)),N=a(644),j=a.n(N),x=a(645),O=a.n(x),y=a(646),A=a.n(y),S=a(647),D=a.n(S),T=a(648),C=a.n(T),_=a(649),L=a.n(_),M=a(650),F=a.n(M),P=a(651),U=a.n(P),B=a(652),I=a.n(B),W=a(653),H=a.n(W),R=a(654),z=a.n(R),J=(a(655),g.a.Option),V=(v.a.SubMenu,Object(u.b)("network")(n=Object(u.c)(n=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setLanguage=function(e){n.props.network.setData({lang:e}),n.setState({lang:e}),window.localStorage.setItem("lang",e),window.location.search="?lang=".concat(e)},n.handleCancel=function(){n.props.network.setData({loginModalVisible:!1})},n.goBack=function(){n.props.network.setData({loginModalStep:1})},n.showLoginModal=function(e){n.props.network.connectWallet()},n.loginWallet=function(e,t){n.props.network.setData({loginModalStep:2}),n.props.network.initTronLinkWallet((function(){n.props.network.isConnected&&(n.props.network.setData({loginModalStep:2}),n.props.mountedActions&&n.props.mountedActions())}),(function(){n.props.unmountedActions&&n.props.unmountedActions()}))},n.showAccountInfo=function(){n.setState({accountModal:!0})},n.handleCancelAccount=function(){n.setState({accountModal:!1})},n.hideSecondPop=function(){n.props.network.setData({noSupport:!1}),n.onClose()},n.openDrawer=function(){n.setState({drawerVisible:!0})},n.onClose=function(){n.setState({drawerVisible:!1})},n.renderMobileHeader=function(){var e=n.props.network,t=(e.isConnected,e.defaultAccount,e.routeName),a=n.state,l=a.lang;a.mobile;return i.a.createElement("div",{className:"menu-content wallet-content"},i.a.createElement("div",{className:""},i.a.createElement("div",{className:"mobile-drawer-logo"},i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("discover_dao"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("a",{href:k.a.portalLink+"?lang="+l,target:"potal",onClick:gtag("event","click",{event_category:"H5",event_label:"portal_logo"})},i.a.createElement("img",{src:z.a,alt:""})))),i.a.createElement(b.b,{className:"mobile-link logos big-logo index-logo",to:"/home"},i.a.createElement("span",{id:"home"===t?"active-bg":""}),i.a.createElement("span",{id:"home"===t?"m-active-menu-text":""},p.a.get("overview"))),i.a.createElement(b.b,{className:"mobile-link logos big-logo market-logo",to:"/market"},i.a.createElement("span",{id:"market"===t?"active-bg":""}),i.a.createElement("span",{id:"market"===t?"m-active-menu-text":""},p.a.get("navi.market_btn"))),i.a.createElement(b.b,{className:"mobile-link logos big-logo vote-logo",to:"/vote"},i.a.createElement("span",{id:"vote"===t?"active-bg":""}),i.a.createElement("span",{id:"vote"===t?"m-active-menu-text":""},p.a.get("navi.vote_btn")))),i.a.createElement("div",{className:"horizontal-line menu"}),i.a.createElement("div",null,i.a.createElement("a",{className:"mobile-link logos small-logo portal-logo",href:k.a.portalLink+"?lang="+l,target:"portal",onClick:gtag("event","click",{event_category:"H5",event_label:"portal_left_menu"})},i.a.createElement("span",null),i.a.createElement("span",null,p.a.get("website"))),i.a.createElement("span",{className:"mobile-link mobile-language-link logos small-logo language-logo new-menu mobile-resources"},i.a.createElement(g.a,{value:p.a.get("navi.resources"),style:{width:156},dropdownClassName:"mobile-select",dropdownMatchSelectWidth:156},i.a.createElement(J,{value:"",key:"white"},i.a.createElement("a",{className:"logos small-logo white-logo",href:"en-US"===l?k.a.whitePaperEn:"zh-CN"===l?k.a.whitePaperCn:k.a.whitePaperTc,target:"whitePaper"},i.a.createElement("span",null),i.a.createElement("span",{className:"fs14"},p.a.get("navi.white_paper")))),i.a.createElement(J,{value:"",key:"audit"},i.a.createElement("a",{className:"logos small-logo audit-logo",href:k.a.auditEn,target:"audit"},i.a.createElement("span",null),i.a.createElement("span",null,p.a.get("navi.audit")))))),i.a.createElement("span",{className:"mobile-link mobile-language-link logos small-logo language-logo new-menu mobile-developer"},i.a.createElement(g.a,{value:p.a.get("navi.developer"),style:{width:156},dropdownClassName:"mobile-select",dropdownMatchSelectWidth:156},i.a.createElement(J,{value:"",key:"document"},i.a.createElement("a",{className:"logos small-logo document-logo",href:"en-US"===l?" https://docs.justlend.org/":"https://docs-zh.justlend.org/",target:"guide"},i.a.createElement("span",null),i.a.createElement("span",null,p.a.get("footer.develop")))),i.a.createElement(J,{value:"",key:"github"},i.a.createElement("a",{className:"logos small-logo github-logo",href:k.a.github,target:"github"},i.a.createElement("span",null),i.a.createElement("span",null,p.a.get("navi.github")))),i.a.createElement(J,{value:"",key:"bounty"},i.a.createElement("a",{className:"logos small-logo bounty-logo",href:k.a.bountyLink,target:"bounty"},i.a.createElement("span",null),i.a.createElement("span",null,p.a.get("navi.bug_bounty")))))),i.a.createElement("a",{className:"mobile-link logos small-logo help-logo",href:"en-US"===l?k.a.helpEn:k.a.helpCn,target:"report"},i.a.createElement("span",null),i.a.createElement("span",null,p.a.get("navi.help"))),i.a.createElement("span",{className:"mobile-link mobile-language-link logos small-logo language-logo new-menu"+("zh-CN"===l?" ch-logo":"")},i.a.createElement(g.a,{defaultValue:l,style:{width:120},onChange:n.setLanguage,dropdownClassName:"lang-select"},i.a.createElement(J,{value:"en-US"},"English"),i.a.createElement(J,{value:"zh-TC"},"\u7e41\u4f53\u4e2d\u6587"),i.a.createElement(J,{value:"zh-CN"},"\u7b80\u4f53\u4e2d\u6587"))),i.a.createElement("div",{className:"mobile-drawer-footer"},i.a.createElement("a",{className:"mobile-link footer-logo",href:k.a.twitter,target:"twitter"},i.a.createElement("span",{className:"mobile-twitter-logo"}),i.a.createElement("span",null,p.a.get("navi.twitter"))),i.a.createElement("a",{className:"mobile-link footer-logo",href:k.a.telegram,target:"telegram"},i.a.createElement("span",{className:"mobile-telegram-logo"}),i.a.createElement("span",null,p.a.get("navi.telegram"))))))},n.setWidth=function(){n.props.network.changeMenuWidth()},n.state={lang:window.localStorage.getItem("lang")||p.a.options.currentLocale,visible:!1,step:1,accountModal:!1,drawerVisible:!1,mobile:Object(m.a)(window.navigator).any},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.instantActions&&this.props.instantActions(),this.props.network.isConnected?this.props.mountedActions&&this.props.mountedActions():this.props.network.initTronLinkWallet((function(){e.props.mountedActions&&e.props.mountedActions()}),(function(){e.props.unmountedActions&&e.props.unmountedActions()}),!1),this.props.network.listenTronLink()}},{key:"render",value:function(){var e=this,t=this.state,a=t.accountModal,n=t.lang,l=t.drawerVisible,r=t.mobile,s=this.props.network,o=s.isConnected,c=s.defaultAccount,m=s.defaultSelectedKeys,d=s.loginModalVisible,u=s.loginModalStep,v=s.routeName,N=s.menuFlag;return i.a.createElement(i.a.Fragment,null,r?i.a.createElement("div",{className:"mobile-header "+this.props.classNames},i.a.createElement("div",{className:"flex-between aic"},i.a.createElement("div",{className:"mobile-logo flex-between"},i.a.createElement("span",null)),i.a.createElement("div",{className:"connect-wallet-new"},o?i.a.createElement("div",{onClick:function(){e.showAccountInfo()},className:"wallet-info pointer"},i.a.createElement("img",{className:"wallet-success",src:j.a,alt:""}),i.a.createElement("span",null,Object(h.f)(c,4,4))):i.a.createElement("div",{onClick:function(t){e.showLoginModal(t)},className:"wallet-info pointer"},i.a.createElement("img",{className:"wallet-success",src:O.a,alt:""}),i.a.createElement("span",null,p.a.get("navi.wallet_linkbtn")))),i.a.createElement("div",{className:"mobile-category",onClick:function(t){e.openDrawer()}})),i.a.createElement(f.a,{title:null,placement:"right",className:"m-menu-drawer mobile-menu-drawer",closable:!0,onClose:this.onClose,visible:l,closeIcon:i.a.createElement("img",{src:C.a,alt:"close",className:"closeIconMobile"})},this.renderMobileHeader())):i.a.createElement("div",{className:"header-container "+(N?"":"minWid"),id:"language-area"},i.a.createElement("div",{className:"menu-scroll-frame"},i.a.createElement("div",{className:"menu-scroll"},i.a.createElement("div",{className:"logos header-logos"},i.a.createElement("span",{className:"header-text"},i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("discover_dao"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("a",{href:k.a.portalLink+"?lang="+n,target:"potal",onClick:gtag("event","click",{event_category:"PC",event_label:"portal_logo"})},"\xa0")))),i.a.createElement("div",{className:"menu-content"},i.a.createElement("div",{className:"features"},i.a.createElement("div",{className:"connect-wallet"},o?i.a.createElement("div",{className:r?"account-basic-info-m":"account-basic-info"},i.a.createElement("div",{onClick:function(){e.showAccountInfo()},className:"address-text pointer"},i.a.createElement("img",{src:j.a,alt:""}),i.a.createElement("span",{className:"addr-span"},Object(h.f)(c,4,4)))):i.a.createElement("div",{onClick:function(t){e.showLoginModal(t)},className:"address-text pointer"},i.a.createElement("img",{src:A.a,alt:""}),i.a.createElement("span",{className:"addr-span"},p.a.get("navi.wallet_linkbtn")))),i.a.createElement("div",{className:"horizontal-line menu"}),i.a.createElement(b.b,{className:"logos big-logo index-logo",to:"/home"},N?i.a.createElement("span",{id:"home"===v?"active-bg":""}):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("overview"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",{id:"home"===v?"active-bg":""})),i.a.createElement("span",{id:"home"===v?"active-menu-text":"",title:p.a.get("overview")},p.a.get("overview"))),i.a.createElement(b.b,{className:"logos big-logo market-logo",to:"/market"},N?i.a.createElement("span",{id:"market"===v?"active-bg":""}):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.market_btn"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",{id:"market"===v?"active-bg":""})),i.a.createElement("span",{id:"market"===v?"active-menu-text":"",title:p.a.get("navi.market_btn")},p.a.get("navi.market_btn"))),i.a.createElement(b.b,{className:"logos big-logo vote-logo",to:"/vote"},N?i.a.createElement("span",{id:"vote"===v?"active-bg":""}):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.vote_btn"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",{id:"vote"===v?"active-bg":""})),i.a.createElement("span",{id:"vote"===v?"active-menu-text":"",title:p.a.get("navi.vote_btn")},p.a.get("navi.vote_btn")))),i.a.createElement("div",{className:"horizontal-line menu"}),i.a.createElement("div",{className:"links"},i.a.createElement("a",{className:"logos small-logo portal-logo",href:k.a.portalLink+"?lang="+n,target:"portal",onClick:gtag("event","click",{event_category:"PC",event_label:"portal_left_menu"})},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("website"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",null)),i.a.createElement("span",null,p.a.get("website"))),i.a.createElement("div",{className:"small-logo resources-logo"},i.a.createElement("span",null),N?i.a.createElement("span",{className:"name"},p.a.get("navi.resources")):null,i.a.createElement("em",{className:"arrow"}),i.a.createElement("div",{className:"sub-menu-links"},i.a.createElement("a",{className:"logos small-logo white-logo",href:"en-US"===n?k.a.whitePaperEn:"zh-CN"===n?k.a.whitePaperCn:k.a.whitePaperTc,target:"whitePaper"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.white_paper"),placement:"right",arrowPointAtCenter:"center"}),i.a.createElement("span",null,p.a.get("navi.white_paper"))),i.a.createElement("a",{className:"logos small-logo audit-logo",href:k.a.auditEn,target:"audit"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.audit"),placement:"right",arrowPointAtCenter:"center"}),i.a.createElement("span",null,p.a.get("navi.audit"))))),i.a.createElement("div",{className:"small-logo resources-logo developer"},i.a.createElement("span",null),N?i.a.createElement("span",{className:"name"},p.a.get("navi.developer")):null,i.a.createElement("em",{className:"arrow"}),i.a.createElement("div",{className:"sub-menu-links"},i.a.createElement("a",{className:"logos small-logo document-logo",href:"en-US"===n?" https://docs.justlend.org/":"https://docs-zh.justlend.org/",target:"guide"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("footer.develop"),placement:"right",arrowPointAtCenter:"center"}),i.a.createElement("span",null,p.a.get("footer.develop"))),i.a.createElement("a",{className:"logos small-logo github-logo",href:k.a.github,target:"github"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.github"),placement:"right",arrowPointAtCenter:"center"}),i.a.createElement("span",null,p.a.get("navi.github"))),i.a.createElement("a",{className:"logos small-logo bounty-logo",href:k.a.bountyLink,target:"bounty"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.bug_bounty"),placement:"right",arrowPointAtCenter:"center"}),i.a.createElement("span",null,p.a.get("navi.bug_bounty"))))),i.a.createElement("a",{className:"logos small-logo help-logo",href:"en-US"===n?k.a.helpEn:k.a.helpCn,target:"report"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.help"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",null)),i.a.createElement("span",null,p.a.get("navi.help"))),i.a.createElement("span",{className:"lg-mobile logos small-logo language-logo new-menu"+(["zh-CN","zh-TC"].includes(n)?" ch-logo":"")},i.a.createElement(g.a,{defaultValue:n,style:{width:120},onChange:this.setLanguage,dropdownClassName:"lang-select",getPopupContainer:function(){return document.getElementById("language-area")}},i.a.createElement(J,{value:"en-US"},"English"),i.a.createElement(J,{value:"zh-TC"},"\u7e41\u4f53\u4e2d\u6587"),i.a.createElement(J,{value:"zh-CN"},"\u7b80\u4f53\u4e2d\u6587"))))))),i.a.createElement("div",{className:"menu-footer"},i.a.createElement("a",{className:"logos mini-logo twitter-logo",href:k.a.twitter,target:"twitter"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.twitter"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",null)),i.a.createElement("span",null,p.a.get("navi.twitter"))),i.a.createElement("a",{className:"logos mini-logo telegram-logo",href:k.a.telegram,target:"telegram"},N?i.a.createElement("span",null):i.a.createElement(E.a,{className:"logos-tooltip",overlayClassName:"logos-tooltip-dropdown",title:p.a.get("navi.telegram"),placement:"right",arrowPointAtCenter:"center"},i.a.createElement("span",null)),i.a.createElement("span",null,p.a.get("navi.telegram"))),i.a.createElement("div",{className:"arrow",onClick:function(){return e.setWidth()}},i.a.createElement("img",{src:N?I.a:H.a,alt:""})))),i.a.createElement(w.a,{title:p.a.get("navi.wallet_linkbtn"),visible:d,onCancel:this.handleCancel,footer:null,className:"login-modal custom-modal",width:320},1===u?i.a.createElement("div",{className:"center"},i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:D.a,alt:""})),i.a.createElement("div",{className:"mt20 fs12 c-5A5E89"},p.a.get("wallet.use_justlend")),i.a.createElement("div",{className:"wallet-list"},i.a.createElement("div",{className:"wallet-item",onClick:function(t){e.loginWallet(t,1)}},i.a.createElement("span",null,i.a.createElement("img",{src:L.a,className:"tronlink-logo",alt:""})),i.a.createElement("div",null,i.a.createElement("span",{className:"wallet-txt"},p.a.get("login_modal.tronlink")),i.a.createElement("img",{src:U.a,className:"tronlink-right-arrow-logo",alt:""})))),i.a.createElement("div",{className:"tronlink-tips"},i.a.createElement("span",null,p.a.get("wallet.accept_tips")," "),i.a.createElement("a",{href:"".concat(k.a.fileLink,"JustLend_Terms_of_Use_").concat("en-US"===n?"en":"zh-CN"===n?"cn":"tc",".pdf"),target:"walletService"},p.a.get("wallet.service")),"\xa0",i.a.createElement("a",{href:"".concat(k.a.fileLink,"JustLend_Privacy_Policy_").concat("en-US"===n?"en":"zh-CN"===n?"cn":"tc",".pdf"),target:"walletPrivacy"},p.a.get("wallet.privacy")))):i.a.createElement("div",{className:"center"},i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:D.a,alt:""})),i.a.createElement("div",{className:"mt20 fs12 c-5A5E89"},p.a.get("wallet.authorize_justlend")),i.a.createElement("div",{className:"wallet-list"},i.a.createElement("div",{className:"wallet-item flex-justify-center"},i.a.createElement("div",{className:"points"},i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"})))),i.a.createElement("div",{className:"tronlink-tips"},i.a.createElement("span",null,p.a.get("wallet.no_wallet")," "),i.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/tronlink%EF%BC%88%E6%B3%A2%E5%AE%9D%E9%92%B1%E5%8C%85%EF%BC%89/ibnejdfjmmkpcnlpebklmnkoeoihofec"},p.a.get("wallet.click_to_get"))))),i.a.createElement(w.a,{title:p.a.get("account_modal.account"),footer:null,onCancel:this.handleCancelAccount,className:"login-modal custom-modal",visible:a,style:"1"===m,width:320},i.a.createElement("div",null,i.a.createElement("img",{className:"mb16",src:F.a,alt:""}),i.a.createElement("div",{className:"address-con"},i.a.createElement("div",{className:"tip-text mb16 fs12 c-5A5E89"},p.a.get("account_modal.connect_with_tronlink")),i.a.createElement("div",{className:"address-tex mb16"},i.a.createElement("div",{className:"c-0F134F fs12"},c),i.a.createElement("div",{className:"pointer c-3D56D6 fs12",title:c,id:"copySpan",onClick:function(e){Object(h.e)(e,"","copySpan")}},p.a.get("account_modal.copy")))))))}}]),a}(i.a.Component))||n)||n);t.a=V},604:function(e,t,a){},605:function(e,t,a){"use strict";var n,l=a(5),r=a(8),s=a(13),o=a(12),c=a(0),i=a.n(c),m=(a(149),a(129)),d=a(11),p=a(575),u=a(24),b=a.n(u),g=(a(596),a(152)),v=a.n(g),E=a(155),f=a.n(E),w=a(610),h=a.n(w),k=Object(m.b)("network")(n=Object(m.b)("lend")(n=Object(m.b)("system")(n=Object(m.c)(n=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).close=function(){e.props.system.setData({transModalInfo:{visible:!1}})},e.state={},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.system.transModalInfo,a=t.visible,n=t.step,l=t.txId,r=t.title,s=t.obj,o=t.title2,c=t.title3,m=t.title4;return i.a.createElement(p.a,{title:"",visible:a,closable:!0,icon:null,onCancel:function(){return e.props.system.hideTransModal()},footer:null,width:345,className:"trans-modal"},i.a.createElement("div",{className:"trans-modal-body center"},1==n?i.a.createElement(i.a.Fragment,{key:"step1"},r&&i.a.createElement("div",{className:"trans-modal-title"},b.a.get(m||r,s)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:h.a,className:"authorizeIcon"}),i.a.createElement("div",{className:"points"},i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}),i.a.createElement("span",{className:"point"}))),i.a.createElement("div",{className:"trans-modal-status trans-modal-wait-confirm"},b.a.get("deposit.explanation2"))):null,2==n?i.a.createElement(i.a.Fragment,{key:"step2"},i.a.createElement("div",{className:"trans-modal-title"},b.a.get(o||"deposit.transactionsent",s)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:f.a,alt:"",style:{width:"40px"}})),i.a.createElement("div",{className:"trans-modal-tips trans-modal-submit-tips"},Object(d.V)(b.a.get("deposit.explanation4"),l)),i.a.createElement("div",{className:"modal-btn border-btn",onClick:this.props.system.hideTransModal,style:{marginTop:"40px"}},b.a.get("deposit.closed"))):null,3==n?i.a.createElement(i.a.Fragment,{key:"step3"},i.a.createElement("div",{className:"trans-modal-title"},b.a.get(c||"toast.ex_failed",s)),i.a.createElement("div",{className:"trans-modal-icon"},i.a.createElement("img",{src:v.a,alt:"",style:{width:"40px"}})),i.a.createElement("div",{className:"trans-modal-status trans-modal-cancel"},b.a.get("deposit.explanation3"))):null))}}]),a}(i.a.Component))||n)||n)||n)||n;t.a=k},610:function(e,t,a){e.exports=a.p+"static/media/authorize.6f2e8e85.svg"},642:function(e,t,a){},643:function(e,t,a){},644:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAnCAYAAABJ0cukAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUSSURBVHgB7VlfTFtVGP/YHwiVrk0oZMytLM5hSUp0Tp6qEXmQhAc3fdKoqPEBTZYMfWBRiWCCRvbg5ssme5hTZ1yiUfpC4kyARHlZNmayJpSZTiiTGv7EFpY2MJd6fl/vuTv9f3ubtLjsl5ze03PPLb/fd77vnO+7EN1LiMfjbaKNi/ZPvDwYF+0xMgPxYH9886DHKO8KjfxecfkT/eGfF2nopxCtRu9QKbHHUUkvPVVLvc83yKFnKioqJvI9t0W79uPjuCD+wbc3S04emF/e4L8PA2p4zchzUsBhfHz36wqVG1/cFXDYyHwpwI4PWKHcUDjYjczfQv9z3BdQbtwXUG5sy3XT02wlj6uGJqfXKCh2h82wS6UipwDfXJS87+0n0k7HiDjgfMEYj0PMNXG9Jr6X4+CTyCkAhEevhKnzYGJLtlm28oqgqYAorBCE+YJRCi5t8FgpsC3fhOGLi7qAbHA7q7l1Pm7Tx0q1WjKZi+Pq6JrKOGlisJkJqkBcYHVaGi20p66KWsT9HWKF8iF1tdxOC8eaUyRzSOhS8I5oIyKpm6ViBCBDVLJEHRCA5E8GN8iAiLuxOtGvq0wTbhLnRPsokxBDAuD7U5+5+SrJSmvBmoc+uZ5zh5LCPM019KJImW3aSq3duU1jkRCNhf8mfyxCC+tRHt9VZSFXtY3abTvpUK1T/kxYE3FS/W1D5wD8+YKWqYL4kTOzbH0AxOBi3R31WZ+Hq4xOhfl3JPmxcIg6fL9Q3+xV7kvyAPoY65u7ynO8K0EMIxBPCFv3FywAAAEJ+GzX5zc4fwdA6uOXd2d0M4nuZ+v1+8dv+ujojUu8AvmwsBFlIUPzPjk0oFZshgVMTt+iSf9agoywNkhDQNfJAFsWAMGJQVdaMOJ77wsJ8qdCfvpmMUCF4vxSQBXRr1WRhaUSo5cjfOXzQKwCj01FqK1vOimQve83JQXvMSEMz8AVTodmyCwgQnGnLwsWcOG3Fd3a3R11+jjIPycCWa6QGhewPgIXOFUEeYkh4X6a6+ENir0gAWowe1zWpBN5nnejP/S4ABAXX/fs4z4sB38uFiA/klgFoKfgbFQN5kwnNL8YOD+vf2/RXAlbpRm8Ur9PtIeSxi7fWpbdpwsWoAazuqerGL64RAfe9SWdDX+ZsH7vbjcd49ZC1q3b9XF/dFV295qqB9Rglv6dChkXEjOxSNocWPfBSkvaOMiebfLQq+I+XAbbqLrlKq5oToAazJ0HbVnn5TqdcdLCut83t3FfAoJ+EGOtNQ4m+sb1SbnzZIQpAbmCmbKI2JViaaQOICatDRGtNbUsCHOxYiCfaeUUdwqbLinzBbNEcHmdr6qVJeAaqoizTU9yH2Mgn23XarXqbvu7aQFGglnOS/mjWUUAOKlTfT4V7TY9ZfEWVdQbCWb5rhNZpbqTqADh04L40cClvCc1YkTJUEeKEmAkmHEfKwXyg40Hsv4WTmmk1vnwdsMjsnsO9YEUwA6doSLKCZCTFs4VzEfOzPHcdntD2qFUCLDtatbn2gAdKcCLj7dy5PTZIOsCIFtNwK/Of1zgPg4lxYqGAfLYdjXo1RlH3sDAAFi8/sTDD/BdVFlGi+/FyL9caTkdVVRv305fjS3T+u142rwrgcSOgiy21epgX56JreatCeB6HzofpTd37lfJfyq/VMiOViScoBIDOxBXZGLL9McSKQLOAVf1DhaqBH/GkjIJ8bv/5NtsGI9rBUwq/gMCTDQnUkCsdAAAAABJRU5ErkJggg=="},645:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAnCAYAAABJ0cukAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS5SURBVHgB7VlbaFRHGP7XWsVUk7RNAqUxCtqSlA20tRQhvVgoCeSh1dKCUkhLH5oWfYgiitfEKyqi8UEwPnhDMQ+iyUvQPJiIBkQ0CFmMeHfjBWLURCXijeN8M+c/Z/Zk9uzZDexG8YM5Z85czv7fzHwz/3+W6G2CZVkzRGoT6aGVGbSJ9CWlAtGx1ho5qAlqd8g2frK4XUe+4VgvbTxylx4NvqJ0YmLeGJrz/ce0aNYnXPRTKBRqT9RvlH2vxWWTMHzZgVtpNx7o6Xsufx8DaOOvIP2YwExcDp68T5nGDpfAzCDtmUAuLhiFTEOzITdI+1H0huMdgUzjHYFMY7RfZVnJBCorHk8d3Y8pKnaHkbBLeeFLIHJzkJqXfEZkn44D4oCLRJ/KcpDpEvcu8ZyJg4/hSwAGt5zrp8ppakvOyXpPzgiSDpDCDIFYJDpI0XvPZVk6MDpRg4bWXodAPISLxslU+XWOU5au2WJnzsI9r6rT2Kh9bYk0UAd0gdkpnZRFE/PHUqmozxYzlAje2QoXZUmtFQlnDg6dB/NFahJO3Q0aDgF4iJqX6AAE4PyxuGEMDAlPGqfy+WOGEE8Re0RaZSISiADWfueWsLyzsTxaGM1f11/y3aGYWFnJeJotXOYcnqlHQietXSJFiC7cJrr1QJUXfkT0xadE5WGi37/l1/TbJOr1dwc6B7CeG21PFYbP23lDjj4Aw7DEqisK4vbHUmnp7JfvcYyH4d+tIVp4UOXZeAB5lKEObQ6dQSmEuFWMdW3SBAAYwMCardp2TfrvAIxa92ehcZkxqssL3PrVTUT/7lIzkAggAyLoo1CnR2yBCXR0P6GOi4+VMWK0YTQIVNVflSMLwMD2tcVDxIjnRb/ZxtcfI9p1gpIG+rgkau0oMjlXouXsgLzL80DMgizrHKAZy7tjhNy89PMY8S4WxOTSwVKoP0opAyTc5bQ7aQKNp+47o11dke+Uw/hfhJB5hnRdYPQhXAmMvo5TK1SCaL1AGdfrwCyopYcvKLlJEdDFXFY8IeZE7pG70WVHFwB0sa9minrAyOlC1Q1tnBtLwlTGgPFqFoCapL1RXcymE1p+GNjf4zyX8lLCVunF7O2KlG6wnkcd2nhx+grnfkyagC7mmD1dQ0PrPfpqQST2bDCNPhuok/Aab+p34Q7nJqcUD+hidta3B6wL90dvm1/mJZHIeO4zHAK6mCun5cRtl474ISUCfmL2wiFhEiSX68vGqwkTsp0tuj/lkDKRmBnRvmcqA9/GC5NgTcL2YvoUzp1PmUAQMXM7z4+6MAnWJGwvyks51zysoD6ImJ1vnfAqsw2utUmwfiIGKddDbRoWgSBiRr2cKRi/eU5sJTxNpHhbLNfrqKng3B7EB0xALmhDROQLGMcj7CfmeTtvKqKY+n9+oJSBvmr0ZWyADBNoxuU/H58+HjguAOLFBPLT+WH78Fk5Sx/F4IDx6KvgRGdSeXV1dbDi72+mfiBrEWUFDb57B17KSKsobywV5L5Pe4/30bMX1pB2564Oyrv0YqdPVWsZJ2qimABLb90fRP//rBu/gR9CnLGDhK2UbsAx44iMXYTCD9W2C6Ku+I0hZQws90++kYY2yw5gvHgNqiMCiBd04cYAAAAASUVORK5CYII="},646:function(e,t,a){e.exports=a.p+"static/media/walletFail.ce8b20dd.svg"},647:function(e,t,a){e.exports=a.p+"static/media/mainLogo.2a33100e.svg"},648:function(e,t,a){e.exports=a.p+"static/media/close-icon.743b07e8.svg"},649:function(e,t,a){e.exports=a.p+"static/media/tronlinkLogo.5b031fbe.svg"},650:function(e,t,a){e.exports=a.p+"static/media/tronlinkBlue.a0d1fdfc.svg"},651:function(e,t,a){e.exports=a.p+"static/media/tronlinkRightArrow.6021c8fd.svg"},652:function(e,t,a){e.exports=a.p+"static/media/menuLeft.32868c37.svg"},653:function(e,t,a){e.exports=a.p+"static/media/menuRight.67fa27b7.svg"},654:function(e,t,a){e.exports=a.p+"static/media/justLend.1a53c9b2.svg"},655:function(e,t,a){e.exports=a.p+"static/media/copy.c24f9608.svg"},656:function(e,t,a){e.exports=a.p+"static/media/warning-triangle.fac74cfc.svg"},679:function(e,t,a){"use strict";var n,l=a(1),r=a.n(l),s=a(10),o=a(5),c=a(8),i=a(13),m=a(12),d=a(0),p=a.n(d),u=(a(149),a(23)),b=a.n(u),g=a(129),v=a(11),E=a(32),f=a(1206),w=a(1207),h=a(94),k=a(575),N=a(24),j=a.n(N),x=(a(596),a(151)),O=a.n(x),y=a(713),A=a.n(y),S=a(656),D=a.n(S),T=a(7),C=f.a.TabPane,_=Object(g.b)("network")(n=Object(g.b)("lend")(n=Object(g.b)("system")(n=Object(g.c)(n=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.startInterval();var e=n.props.lend.borrowLimit;n.props.lend.DAWPop.popData;n.setState({borrowLimitAfter:e,withdrawLimitAfter:e})},n.getCash=Object(s.a)(r.a.mark((function e(){var t,a,l,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.lend.DAWPop.popData,!(a=void 0===t?{}:t)||!a.jtokenAddress){e.next=9;break}return e.next=4,Object(E.c)(a.jtokenAddress);case 4:l=e.sent,s=l.balance,o=void 0===s?0:s,l.success&&(n.state.poolCash=b()(o));case 9:case"end":return e.stop()}}),e)}))),n.startInterval=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.timerInterval){e.next=4;break}return e.next=3,n.getCash();case 3:n.timerInterval=setInterval(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCash();case 2:case"end":return e.stop()}}),e)}))),3e3);case 4:case"end":return e.stop()}}),e)}))),n.clickMaxWithdraw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deposited,a=void 0===t?0:t,l=e.collateralDecimal,r=b()(a)._toFixed(l,1);try{n.setState({withdrawValue:r},(function(){n.withdrawChange(r)}))}catch(s){console.log("clickMaxWithdraw: ",s)}},n.clickSafeMax=function(e){try{var t=n.props.lend,a=t.borrowLimit,l=t.totalBorrowUsdForUSDD,r=t.trxPrice,s=t.userList,o=e.precision,c=e.collateralFactor,i=e.assetPrice,m=e.collateralDecimal,d=e.jtokenAddress,p=e.deposited_usd,u=void 0===p?0:p,g=e.deposited,E=void 0===g?0:g,f=b()(0);if(f=d===T.a.usddJtoken?b()(a).minus(b()(E).times(c).div(T.a.tokenDefaultPrecision)):b()(a).minus(b()(u).times(c).div(T.a.tokenDefaultPrecision)),!Object(v.d)(s,d)||n.checkSafe(l,f))return n.setState({isClear:!0}),n.clickMaxWithdraw(e);var w=b()(l).div(T.a.safeMaxRate),h=b()(0);h=(h=d===T.a.usddJtoken?b()(a).minus(w).div(c).times(T.a.tokenDefaultPrecision):b()(a).minus(w).times(T.a.defaultPrecision).div(r).times(T.a.tokenDefaultPrecision).div(i).times(T.a.tokenDefaultPrecision).div(c).times(T.a.tokenDefaultPrecision).div(o)).lt(0)?0:h._toFixed(m,1),n.setState({withdrawValue:h,withdrawLimitAfter:w},(function(){n.withdrawChange(h)}))}catch(k){console.log("clickSafeMax: ",k)}},n.clickMax=function(){try{var e=n.props.lend.balanceInfo,t=n.props.lend.DAWPop.popData,a=t.precision,l=t.collateralDecimal,r=t.jtokenAddress,s=t.collateralAddress,o=b()(e[r].balance).div(a);o=s===T.a.zeroAddr&&o.lt(0)?0:o._toFixed(l,1),n.setState({depositValue:o},(function(){n.depositChange(o)}))}catch(c){console.log("clickMax:",c)}},n.checkSafe=function(e,t){return b()(e).eq(0)||b()(e).div(t).gte(0)&&b()(e).div(t).lt(T.a.safeMaxRate)},n.getSafeMaxText=function(e){try{var t=n.props.lend,a=t.borrowLimit,l=t.totalBorrowUsdForUSDD,r=t.userList,s=e.jtokenAddress,o=e.deposited_usd,c=void 0===o?0:o,i=e.collateralFactor,m=e.deposited,d=b()(a).minus(b()(s===T.a.usddJtoken?m:c).times(i).div(T.a.tokenDefaultPrecision));return!Object(v.d)(r,s)||n.checkSafe(l,d)?j.a.get("deposit.max"):j.a.get("withdraw.safemax")}catch(p){return console.log("getSafeMaxText, ",p),j.a.get("withdraw.safemax")}},n.withDrawContent=function(e){var t=n.state,a=t.withdrawValue,l=t.withdrawLimitAfter,r=t.isClear,s=t.errInfo2,o=s.btnText,c=s.status,i=n.props.lend,m=i.borrowLimit,d=i.totalBorrowUsdForUSDD,u=i.assetList,g=Object(v.B)(d,m),E=Object(v.B)(d,l,!1),f=n.getSafeMaxText(e),k=""!=a&&(!b()(m).eq(0)||!b()(l).eq(0)),N=""!=a&&(b()(E).gt(0)||b()(g).gt(0)),x=b()(E).gt(100),O=Object(v.E)(e,u).totalApy;return p.a.createElement("div",{className:"deposit mt16"},p.a.createElement(w.a,{className:"common-input",prefix:r?p.a.createElement("span",null,"~"):p.a.createElement("span",null),placeholder:j.a.get("withdraw.enteramount"),size:"small",addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){n.clickSafeMax(e)}},f),value:a,onChange:function(e){return n.withdrawChange(e.target.value,!0)}}),p.a.createElement("p",{className:"flex-between mb16",style:{marginTop:16}},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.Loanlimit")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.i)(m,2,{miniText:.01,needDolar:!0})),k&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.i)(l,2,{miniText:.01,needDolar:!0})))),p.a.createElement("p",{className:"flex-between"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.S)(g)),N&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.S)(E)))),p.a.createElement("div",{className:"modal-progress mb16"},N&&e.account_entered&&0!==e.account_entered?Object(v.T)(E,{showInfo:!1,reverse:!0}):Object(v.T)(g,{showInfo:!1,reverse:!0})),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("market_withdraw")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.c)(b()(e.totalCash).div(b()(10).pow(e.collateralDecimal)),2)," ",e.collateralSymbol)),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("withdraw.withdrawamount")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.i)(b()(e.deposited),3)," ",e.collateralSymbol)),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.depositapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.S)(O,{cutZero:!1,useFull:!1}))),p.a.createElement(h.a,{className:"modal-btn withdraw-btn",disabled:!c||x&&0!==e.account_entered,onClick:n.withdraw},x&&N&&0!==e.account_entered?j.a.get("withdraw.Insufficient_mortgage"):o))},n.getBorrowLimitAfter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var a=n.props.lend,l=a.DAWPop,r=a.borrowLimit,s=a.trxPrice,o=l.popData,c=o.precision,i=o.assetPrice,m=o.jtokenAddress,d=b()(o.collateralFactor).div(T.a.tokenDefaultPrecision),p=b()(0);return p=m===T.a.usddJtoken?b()(e).times(d):b()(e).times(c).times(d).times(i).times(s).div(T.a.tokenDefaultPrecision).div(T.a.tokenDefaultPrecision).div(T.a.defaultPrecision),t?r.minus(p).lt(0)?b()(0):r.minus(p):r.plus(p)}catch(u){console.log("getBorrowLimitAfter error: ".concat(u))}},n.setSafeFee=function(){var e=n.props.lend.balanceInfo,t=n.props.lend.DAWPop.popData,a=t.precision,l=t.collateralDecimal,r=t.jtokenAddress,s=b()(e[r].balance).div(a),o=b()(s).minus(n.state.trxFee)._toFixed(l,1);n.setState({depositValue:o},(function(){n.depositChange(o)}))},n.depositContent=function(e){var t=n.props.lend,a=(t.userList,t.marketList,t.balanceInfo),l=t.borrowLimit,r=t.totalBorrowUsdForUSDD,s=t.assetList,o=n.state,c=o.depositValue,i=o.borrowLimitAfter,m=o.errInfo1,d=m.btnText,u=m.status,g=o.lang,E=Object(v.B)(r,l),f=Object(v.B)(r,i),k=""!=c&&(!b()(l).eq(0)||!b()(i).eq(0)),N=""!=c&&(b()(f).gt(0)||b()(E).gt(0)),x=Object(v.E)(e,s).totalApy,O=e.precision,y=(e.collateralDecimal,e.jtokenAddress),A=(e.collateralAddress,b()(a[y].balance).div(O));return p.a.createElement("div",{className:"deposit mt16"},p.a.createElement("div",{className:"safe-input"},p.a.createElement(w.a,{className:"common-input mb16",placeholder:j.a.get("deposit.enteramount"),addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){n.clickMax()}},j.a.get("deposit.max")),value:c,onChange:function(e){return n.depositChange(e.target.value)}}),u&&b()(A).lte(n.state.trxFee)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:D.a}),p.a.createElement("div",null,j.a.getHTML("safe_tip",{value:n.state.trxFee}))):u&&b()(b()(A).minus(n.state.trxFee)).lt(c)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:D.a}),p.a.createElement("div",null,j.a.getHTML("safe_tip",{value:n.state.trxFee})," ",p.a.createElement("span",{className:"safe-fee",onClick:function(e){return n.setSafeFee()}},j.a.get("safe_fee")))):""),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.Loanlimit")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.i)(l,2,{miniText:.01,needDolar:!0})),k&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.i)(i,2,{miniText:.01,needDolar:!0})))),p.a.createElement("div",{className:"flex-between"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(v.S)(E)),N&&1==e.account_entered&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(v.S)(f)))),p.a.createElement("div",{className:"modal-progress"},Object(v.T)(f,{showInfo:!1,reverse:!0})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.deposited")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.i)(b()(e.deposited),3)," ",e.collateralSymbol)),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.O)(e,a,3),p.a.createElement("a",{className:"toSwap",href:"".concat(T.a.sunSwap,"?lang=").concat(g).concat("TRX"===e.collateralSymbol?"":"?tokenAddress=".concat(e.collateralAddress,"&type=swap")),target:"sunswap"},j.a.get("index.get")))),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.depositapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.S)(x,{cutZero:!1,useFull:!1}))),p.a.createElement(h.a,{className:"modal-btn deposit-btn",onClick:function(){return n.deposit()},disabled:!u},d))},n.deposit=Object(s.a)(r.a.mark((function e(){var t,a,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.depositValue,a=n.props.lend.DAWPop,l=a.popData,s={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:t,token:l.collateralSymbol||""}},n.setState({isSuccess:!1,txID:""}),e.next=7,n.props.system.justMint(l,new b.a(t).times(l.precision)._toHex(),s);case 7:e.sent&&setTimeout((function(){n.props.lend.getTokenBalanceInfo()}),5e3);case 9:case"end":return e.stop()}}),e)}))),n.getDepositFee=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,l,s,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.lend.DAWPop,l=a.popData,s={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:t,token:l.collateralSymbol||""}},e.next=5,n.props.system.justMintValue(l,new b.a(t).times(l.precision)._toHex(),s);case 5:o=e.sent,c=b()(b()(o).times(T.a.energyFeeRate).div(1e6)._toFixed(0,1)).plus(2).toNumber(),n.setState({trxFee:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.withdraw=Object(s.a)(r.a.mark((function e(){var t,a,l,s,o,c,i,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.withdrawValue,l=t.isClear,s=n.props.lend.DAWPop.popData,o=s.jtokenAddress,c={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:a,token:s.collateralSymbol}},!l){e.next=12;break}return e.next=7,Object(E.g)(o,window.defaultAccount);case 7:return i=e.sent,m=i.value,e.next=11,n.props.system.justRedeem(s,new b.a(m)._toHex(),c,!0);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,n.props.system.justRedeem(s,new b.a(a).times(s.precision)._toHex(),c);case 14:e.sent&&setTimeout((function(){n.props.lend.getTokenBalanceInfo(),n.props.detailInfo&&(n.props.lend.getUserData(),n.props.lend.getMarketData())}),5e3);case 16:case"end":return e.stop()}}),e)}))),n.approveContent=function(e){var t=n.props.lend,a=t.balanceInfo,l=t.assetList,o=n.state,c=o.lang,i=o.approving,m=Object(v.E)(e,l).totalApy;return p.a.createElement("div",{className:"deposit"},p.a.createElement("img",{src:A.a,alt:"Token Logo",onError:function(e){e.target.onerror=null,e.target.src=O.a}}),p.a.createElement("div",{className:"approve-tip"},j.a.getHTML("deposit.explanation1",{value:e.collateralSymbol})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.O)(e,a,3),p.a.createElement("a",{className:"toSwap",href:"".concat(T.a.sunSwap,"?lang=").concat(c).concat("TRX"===e.collateralSymbol?"":"?tokenAddress=".concat(e.collateralAddress,"&type=swap")),target:"sunswap"},j.a.get("index.get")))),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},j.a.get("deposit.depositapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(v.S)(m,{cutZero:!1,useFull:!1}))),i?p.a.createElement("button",{className:"modal-btn deposit-btn",disabled:!0},p.a.createElement("div",{className:"points"},p.a.createElement("span",{className:"point"}),p.a.createElement("span",{className:"point"}),p.a.createElement("span",{className:"point"}))):p.a.createElement("button",{className:"modal-btn deposit-btn",onClick:Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({approving:!0}),t.next=3,n.props.system.approveToken(e);case 3:t.sent&&(n.props.lend.getTokenBalanceInfo(),n.props.detailInfo&&(n.props.lend.getUserData(),n.props.lend.getMarketData()));case 5:case"end":return t.stop()}}),t)})))},j.a.get("deposit.approve",{value:e.collateralSymbol})))},n.distribute=function(e){var t=n.props.lend,a=t.DAWPop,l=t.balanceInfo,r=void 0===l?{}:l,s=t.userList,o=t.marketList,c=a.popData,i=c,m=i.jtokenAddress,d=i.collateralAddress;c=s[m]||o[m];var u=r[m]&&b()(r[m].allowance).gt(0)||!1;return c&&m&&r[m]?1===e?d===T.a.zeroAddr||u?n.depositContent(c):n.approveContent(c):n.withDrawContent(c):p.a.createElement(p.a.Fragment,null)},n.withdrawChange=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,l,s,o,c,i,m,d,p,u,g,E,f,w,h,k,N,x,O,y,A=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=A.length>1&&void 0!==A[1]&&A[1];try{l=n.props.lend,s=l.DAWPop,l.balanceInfo,o=l.userList,c=l.marketList,i=s.popData,d=(m=void 0===i?{}:i).jtokenAddress,m=o[d]||c[d],u=(p=m).deposited,g=void 0===u?0:u,E=p.totalCash,f=p.collateralDecimal,w=Object(v.L)(t,m.collateralDecimal),h=w.valid,k=w.str,h&&(N=n.state.errInfo2.status,x=n.state.errInfo2.btnText,O=n.state.isClear,n.setState({isClear:!a&&O,withdrawValue:t}),2!==m.account_entered&&0!=t&&n.setState({withdrawLimitAfter:""!==k&&Object(v.d)(o,d)?n.getBorrowLimitAfter(k,!0):0}),y=b()(k),Object(v.J)(y,g)?(N=!1,x=j.a.get("withdraw.Insufficient_withdrawamount")):y.isNaN()||y.eq(0)?(N=!1,x=j.a.get("withdraw.enter_amount")):b()(y).gt(b()(E).div(b()(10).pow(f)))?(N=!1,x=j.a.get("withdraw_lack")):(N=!0,x=j.a.get("deposit.withdraw")),n.setState({errInfo2:{status:N,btnText:x}}))}catch(r){}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.depositChange=function(e){try{var t=n.props.lend,a=t.DAWPop,l=t.balanceInfo,r=t.userList,s=a.popData,o=void 0===s?{}:s,c=o.jtokenAddress,i=o.precision,m=o.collateralSymbol,d=(l[c]||{}).balance,p=Object(v.L)(e,o.collateralDecimal),u=p.valid,g=p.str;if(u){var E=n.state.errInfo1.status,f=n.state.errInfo1.btnText;n.setState({depositValue:g,borrowLimitAfter:""!==g&&Object(v.d)(r,c)?n.getBorrowLimitAfter(g):n.props.lend.borrowLimit});var w=b()(g);Object(v.J)(w,d,i)?(E=!1,f=j.a.get("deposit.amountout")):w.isNaN()||w.eq(0)?(E=!1,f=j.a.get("deposit.enteramount2")):(E=!0,f=j.a.get("deposit.deposit")),E&&!n.state.trxFee&&"TRX"===m&&n.getDepositFee(g),n.setState({errInfo1:{status:E,btnText:f}})}}catch(h){}},n.changeTab=function(e){1==e?n.withdrawChange("",!0):n.depositChange("",!0);var t=n.props.lend.DAWPop.popData;n.props.lend.setData({DAWPop:{show:!0,activeKey:e,popData:t}})},n.getDepositStatus=function(e){try{var t=(n.props.lend.userList[e.jtokenAddress]||{}).borrowBalanceNew,a=void 0===t?0:t;return b()(a).gt(0)}catch(l){return!1}},n.timerInterval=null,n.state={lang:window.localStorage.getItem("lang")||j.a.options.currentLocale,approved:!1,approving:!1,errInfo1:{btnText:j.a.get("deposit.enteramount2"),status:!1},errInfo2:{btnText:j.a.get("withdraw.enter_amount"),status:!1},isClear:!1,poolCash:null,depositValue:"",withdrawValue:"",borrowLimitAfter:"",withdrawLimitAfter:"",trxFee:""},n}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval),this.timerInterval=null}},{key:"componentDidUpdate",value:function(e,t){if(!b()(e.lend.borrowLimit).eq(this.props.lend.borrowLimit)){if(1===Number(this.props.lend.DAWPop.activeKey))return this.depositChange(this.state.borrowValue);if(2===Number(this.props.lend.DAWPop.activeKey))return this.withdrawChange(this.state.withdrawValue)}}},{key:"render",value:function(){var e=this,t=this.props.lend.DAWPop,a=t.popData,n=void 0===a?{}:a,l=n.collateralSymbol,r=n.logoUrl;return p.a.createElement(k.a,{title:p.a.createElement("div",null,p.a.createElement("img",{src:r}),l||""),maskClosable:!1,visible:t.show,closable:!0,onCancel:function(){return e.props.lend.hideDAWPop()},footer:null,className:"DAWPop",getContainer:function(){return document.querySelector(".main")}},p.a.createElement(f.a,{className:"tabs-deposit",defaultActiveKey:t.activeKey,activeKey:t.activeKey,centered:!0,type:"card",onChange:this.changeTab},p.a.createElement(C,{tab:j.a.get("deposit.deposit"),key:"1"},this.distribute(1)),p.a.createElement(C,{tab:j.a.get("deposit.withdraw"),key:"2"},this.distribute(2))))}}]),a}(p.a.Component))||n)||n)||n)||n;t.a=_},680:function(e,t,a){"use strict";var n,l=a(1),r=a.n(l),s=a(10),o=a(5),c=a(8),i=a(13),m=a(12),d=a(0),p=a.n(d),u=(a(149),a(129)),b=a(11),g=a(1206),v=a(1207),E=a(577),f=a(94),w=a(575),h=a(24),k=a.n(h),N=a(7),j=(a(596),a(151)),x=a.n(j),O=a(714),y=a.n(O),A=a(656),S=a.n(A),D=a(32),T=g.a.TabPane,C=Object(u.b)("network")(n=Object(u.b)("lend")(n=Object(u.b)("system")(n=Object(u.c)(n=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.startInterval();var t=e.props.lend.totalBorrowUsdForUSDD;e.setState({totalBorrowUsdAfter:t,totalRepayUsdAfter:t})},e.getCash=Object(s.a)(r.a.mark((function t(){var a,n,l,s,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.props.lend,n=a.borrowModalInfo,a.userList,a.marketList,!(l=n.jtokenAddress)){t.next=11;break}return t.next=6,Object(D.c)(l);case 6:s=t.sent,o=s.balance,c=void 0===o?0:o,s.success&&(console.log(),e.state.poolCash=Object(b.a)(c));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e.startInterval=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.timerInterval){t.next=4;break}return t.next=3,e.getCash();case 3:e.timerInterval=setInterval(Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCash();case 2:case"end":return t.stop()}}),t)}))),3e3);case 4:case"end":return t.stop()}}),t)}))),e.clickSafeMax=function(t){try{var a=e.props.lend,n=a.borrowLimit,l=a.totalBorrowUsdForUSDD,r=a.trxPrice,s=t.precision,o=t.collateralFactor,c=t.assetPrice,i=t.collateralDecimal,m=t.jtokenAddress,d=t.account_entered,p=t.deposited,u=t.deposited_usd,g=n;0===d&&(g=m===N.a.usddJtoken?Object(b.a)(g).plus(Object(b.a)(p).times(o).div(N.a.tokenDefaultPrecision)):Object(b.a)(g).plus(Object(b.a)(u).times(o).div(N.a.tokenDefaultPrecision)));var v=Object(b.a)(g).times(N.a.safeMaxRate),E=Object(b.a)(0);E=(E=m===N.a.usddJtoken?Object(b.a)(v).minus(l):v.minus(l).times(N.a.tokenDefaultPrecision).div(c).times(N.a.tokenDefaultPrecision).div(r).times(N.a.defaultPrecision).div(s)).lt(0)?0:E._toFixed(i,1),e.setState({borrowValue:E,totalBorrowUsdAfter:v},(function(){e.onChangeBorrow(E)}))}catch(f){console.log("clickSafeMax: ",f)}},e.onChangeBorrow=function(){var t=Object(s.a)(r.a.mark((function t(a){var n,l,s,o,c,i,m,d,p,u,g,v,E,f,w,h,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=e.props.lend,l=n.borrowModalInfo,s=n.userList,o=n.marketList,c=n.totalBorrowUsdForUSDD,i=n.borrowLimit,m=l.jtokenAddress,d=s[m]||o[m],p=Object(b.L)(a,d.collateralDecimal),u=p.valid,g=p.str,d.collateralDecimal,d.borrowPaused,v=Object(b.K)(o[m]),u&&(E=""===g?c:e.getTotalBorrowUsdAfter(g),e.setState({borrowValue:g,totalBorrowUsdAfter:E}),f=e.state.errInfo1.status,w=e.state.errInfo1.btnText,h=Object(b.a)(g),j=i,0===d.account_entered&&(j=d.jtokenAddress===N.a.usddJtoken?Object(b.a)(j).plus(Object(b.a)(d.deposited).times(d.collateralFactor).div(N.a.tokenDefaultPrecision)):Object(b.a)(j).plus(Object(b.a)(d.deposited_usd).times(d.collateralFactor).div(N.a.tokenDefaultPrecision))),h.isNaN()||h.eq(0)?(f=!1,w=k.a.get("borrow.enter_amount")):Object(b.a)(E).div(j).gte(1)?(f=!1,w=k.a.get("borrow.Insufficient_mortgage")):Object(b.a)(h).gt(v)?(f=!1,w=k.a.get("lend_lack")):(f=!0,w=k.a.get("borrow.borrow")),e.setState({errInfo1:{status:f,btnText:w}}))}catch(r){console.log("onChangeBorrow ",r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUsd=function(e,t,a,n){var l=a.precision,r=a.assetPrice;a.collateralFactor;return Object(b.a)(a.collateralFactor).div(N.a.tokenDefaultPrecision),a.jtokenAddress===N.a.usddJtoken?Object(b.a)(e):Object(b.a)(e).times(l).times(r).times(t).div(N.a.tokenDefaultPrecision).div(N.a.tokenDefaultPrecision).div(N.a.defaultPrecision)},e.getTotalBorrowUsdAfter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;try{var n=e.props.lend,l=n.borrowModalInfo,r=n.userList,s=n.marketList,o=n.totalBorrowUsdForUSDD,c=n.trxPrice,i=l.jtokenAddress,m=r[i]||s[i],d=e.getUsd(t,c,m,a);return a?Object(b.a)(o).minus(d):Object(b.a)(o).plus(d)}catch(p){console.log("getTotalBorrowUsdAfter ",p)}},e.onChangeRepay=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n=e.props.lend,l=n.borrowModalInfo,r=n.userList,s=n.marketList,o=n.totalBorrowUsdForUSDD,c=n.balanceInfo,i=l.jtokenAddress,m=r[i]||s[i],d=m.precision,p=m.collateralSymbol,u=void 0===p?"":p,g=m.borrowBalanceNew,v=void 0===g?0:g,E=(m.collateralDecimal,Object(b.L)(t,m.collateralDecimal)),f=E.valid,w=E.str;if(f){var h=e.state.isClear,N=""===w?o:e.getTotalBorrowUsdAfter(w,!0);e.setState({isClear:!a&&h,repayValue:w}),0!=t&&e.setState({totalRepayUsdAfter:N});var j=Object(b.a)(v).div(d),x=c[i]||{},O=x.balance,y=Object(b.a)(w),A=e.state.errInfo2.status,S=e.state.errInfo2.btnText;Object(b.a)(j).lte(0)?(A=!1,S=k.a.get("repay.no_debt")):y.isNaN()||y.eq(0)?(A=!1,S=k.a.get("repay.enter_amount")):y.gt(j)?(A=!1,S=k.a.get("repay.exceeded_amount_borrowed")):Object(b.J)(y,O,d)?(A=!1,S=k.a.get("repay.Insufficient_wallet_balance")):(A=!0,S=k.a.get("repay.repay")),A&&!e.state.trxFee&&"TRX"===u&&e.getRepayBorrowFee(w),e.setState({errInfo2:{status:A,btnText:S}})}}catch(D){console.log("onChangeRepay ",D)}},e.toBorrow=Object(s.a)(r.a.mark((function t(){var a,n,l,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.borrowValue,n=e.props.lend.borrowModalInfo.jtokenAddress,l=e.props.lend.marketList,s=l[n],e.props.lend.collateralValid(s.collateralSymbol)){t.next=6;break}return t.abrupt("return");case 6:return o={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:a,token:s.collateralSymbol}},t.next=9,e.props.system.borrow(s,new b.a(a).times(s.precision)._toHex(),o);case 9:t.sent&&setTimeout((function(){e.props.lend.getTokenBalanceInfo()}),5e3);case 11:case"end":return t.stop()}}),t)}))),e.renderBorrow=function(){var t=e.props.lend,a=(t.totalBorrowUsd,t.borrowLimit),n=t.borrowModalInfo,l=t.userList,r=t.marketList,s=t.totalBorrowUsdForUSDD,o=e.state,c=o.totalBorrowUsdAfter,i=o.borrowValue,m=o.errInfo1,d=m.status,u=m.btnText,g=n.jtokenAddress,w=l[g]||r[g],h=Object(b.K)(r[g]),j=w.precision,x=w.collateralSymbol,O=void 0===x?"":x,y=w.borrowBalanceNew,A=y?y.div(j):Object(b.a)(0),S=a;0===w.account_entered&&(S=w.jtokenAddress===N.a.usddJtoken?Object(b.a)(S).plus(Object(b.a)(w.deposited).times(w.collateralFactor).div(N.a.tokenDefaultPrecision)):Object(b.a)(S).plus(Object(b.a)(w.deposited_usd).times(w.collateralFactor).div(N.a.tokenDefaultPrecision)));var D=Object(b.B)(s,a),T=Object(b.B)(c,S),C=""!=i&&(!Object(b.a)(s).eq(0)||!Object(b.a)(c).eq(0)),_=""!=i&&(!Object(b.a)(D).eq(0)||!Object(b.a)(T).eq(0));return p.a.createElement("div",{className:"mt16"},p.a.createElement("div",{style:{marginBottom:16}},p.a.createElement(v.a,{className:"common-input",onChange:function(t){return e.onChangeBorrow(t.target.value)},addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){e.clickSafeMax(w)}},k.a.get("limit_amount")),value:i,placeholder:k.a.get("borrow.enter_amount")})),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between mb10"},p.a.createElement("span",{className:"c-545669 fs12"},k.a.get("borrow.total_borrowing")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-545669 fw400"},Object(b.i)(s,2,{miniText:.01,needDolar:!0})),C&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.i)(c,2,{miniText:.01,needDolar:!0})))),p.a.createElement("div",{className:"flex-between"},p.a.createElement("span",{className:"c-545669 fs12"},k.a.get("borrow.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-545669 fw400"},Object(b.S)(D,{keep0:!0})),_&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.S)(T,{keep0:!0})))),p.a.createElement("div",{className:"modal-progress mb10"},Object(b.T)(T,{showInfo:!1,reverse:!0})),p.a.createElement("p",{className:"flex-between mb10"},p.a.createElement("span",{className:"c-84869E fs12 flex aic"},p.a.createElement("span",{className:"mr-4"},k.a.get("market_lend")),p.a.createElement(E.a,{overlayClassName:"mltr",title:k.a.getHTML("market_lend_tip"),placement:"top"},p.a.createElement("span",{className:"tooltip-icon"}))),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.c)(Object(b.a)(h),2,{miniText:.01})," ",p.a.createElement("span",{className:"fw400"},w.collateralSymbol))),p.a.createElement("div",{className:"horizontal-line"})),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between mb10"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("index.markets_borrowapy")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.S)(w.lendApy,{cutZero:!1,useFull:!1}))),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("borrow.borrowed",{value:O})),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.i)(A,3,{miniText:"0.001",round:!1})," ",O))),p.a.createElement("div",null,p.a.createElement("div",{className:"borrow-tip"},p.a.createElement("span",null),k.a.get("borrow_tip")),p.a.createElement(f.a,{className:"modal-btn lend-btn",type:"primary",disabled:!d,onClick:function(){return e.toBorrow()}},u)))},e.clickMax=function(t,a){var n=t._toFixed(a,1);e.setState({isClear:!0,repayValue:n},(function(){e.onChangeRepay(n)}))},e.approveContent=function(t){var a=e.props.lend,n=a.balanceInfo,l=a.assetList,o=e.state.lang,c=(Object(b.E)(t,l).totalApy,t.precision),i=t.borrowBalanceNew,m=i?i.div(c):Object(b.a)(0);return p.a.createElement("div",{className:"deposit"},p.a.createElement("img",{src:y.a,alt:"Token Logo",onError:function(e){e.target.onerror=null,e.target.src=x.a}}),p.a.createElement("div",{className:"approve-tip"},k.a.getHTML("deposit.explanation1",{value:t.collateralSymbol})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("p",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.O)(t,n,3),p.a.createElement("a",{className:"toSwap",href:"".concat(N.a.sunSwap,"?lang=").concat(o).concat("TRX"===t.collateralSymbol?"":"?tokenAddress=".concat(t.collateralAddress,"&type=swap")),target:"sunswap"},k.a.get("index.get")))),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("borrow.borrowed",{value:t.collateralSymbol})),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.i)(m,3,{miniText:"0.001",round:!1})," ",t.collateralSymbol)),p.a.createElement(f.a,{className:"modal-btn deposit-btn",onClick:Object(s.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.system.approveToken(t);case 2:a.sent&&(e.props.lend.getTokenBalanceInfo(),e.props.detailInfo&&(e.props.lend.getUserData(),e.props.lend.getMarketData()));case 4:case"end":return a.stop()}}),a)})))},k.a.get("deposit.approve",{value:t.collateralSymbol})))},e.setSafeFee=function(){var t=e.props.lend.balanceInfo,a=e.props.lend,n=a.userList,l=a.marketList,r=e.props.lend.borrowModalInfo.jtokenAddress,s=n[r]||l[r],o=s.precision,c=s.collateralDecimal,i=Object(b.a)(t[r].balance).div(o),m=Object(b.a)(i).minus(e.state.trxFee)._toFixed(c,1);e.setState({repayValue:m},(function(){e.onChangeRepay(m,!0)}))},e.renderRepay=function(){var t=e.state,a=(t.totalBorrowUsdAfter,t.repayValue),n=t.totalRepayUsdAfter,l=t.errInfo2,r=l.status,s=l.btnText,o=t.isClear,c=t.lang,i=e.props.lend,m=i.borrowLimit,d=(i.totalBorrowUsd,i.balanceInfo),u=i.userLendDataSource,g=i.totalBorrowUsdForUSDD,E=e.props.lend,w=E.userList,h=E.marketList,j=e.props.lend.borrowModalInfo.jtokenAddress,x=w[j]||h[j],O=x.precision,y=x.collateralSymbol,A=void 0===y?"":y,D=x.borrowBalanceNew,T=x.collateralDecimal,C=D?D.div(O):Object(b.a)(0),_=d[j]&&d[j].balance&&d[j].balance.div(O),L=C;Object(b.a)(_).lt(0)&&(_=Object(b.a)(0)),Object(b.a)(_).lte(C)&&(L=_);var M=Object(b.B)(g,m),F=u&&1===u.length&&o,P=F&&0!=a?0:Object(b.B)(n,m),U=""!=a&&0!=a&&(!Object(b.a)(g).eq(0)||!Object(b.a)(L).eq(0)),B=""!=a&&0!=a&&(!Object(b.a)(M).eq(0)||!Object(b.a)(P).eq(0)),I=Object(b.a)(d[j].balance).div(O);return p.a.createElement("div",null,p.a.createElement("div",{className:"mt16"},p.a.createElement("div",{className:"safe-input"},p.a.createElement(v.a,{className:"common-input mb16",prefix:o&&Object(b.a)(_).gt(C)?p.a.createElement("span",null,"~"):p.a.createElement("span",null),size:"small",onChange:function(t){return e.onChangeRepay(t.target.value,!0)},addonAfter:p.a.createElement("span",{className:"pointer",onClick:function(){e.clickMax(L,T)}},k.a.get("deposit.max")),value:a,placeholder:k.a.get("repay.enter_amount")}),r&&Object(b.a)(I).lte(e.state.trxFee)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:S.a}),p.a.createElement("div",null,k.a.getHTML("safe_tip",{value:e.state.trxFee}))):r&&Object(b.a)(Object(b.a)(I).minus(e.state.trxFee)).lt(a)?p.a.createElement("div",{className:"safe-tip"},p.a.createElement("img",{src:S.a}),p.a.createElement("div",null,k.a.getHTML("safe_tip",{value:e.state.trxFee})," ",p.a.createElement("span",{className:"safe-fee",onClick:function(t){return e.setSafeFee()}},k.a.get("safe_fee")))):"")),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-545669 fs12"},k.a.get("borrow.borrowed",{value:A})),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.i)(C,3,{miniText:"0.001",round:!1})," ",A)),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-545669 fs12"},k.a.get("repay.borrowed_amount")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-545669 fw700"},Object(b.i)(g,2,{miniText:.01,needDolar:!0})),U&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.i)(F?0:n,2,{miniText:.01,needDolar:!0})))),p.a.createElement("div",null,p.a.createElement("div",{className:"flex-between"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("borrow.limitused")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},p.a.createElement("span",{className:"c-84869E fw700"},Object(b.S)(M,{keep0:!0})),B&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"arrow-right"}),Object(b.S)(P,{keep0:!0})))),p.a.createElement("div",{className:"modal-progress"},Object(b.T)(P,{showInfo:!1,reverse:!0})),p.a.createElement("div",{className:"horizontal-line"}),p.a.createElement("div",{className:"flex-between mb16"},p.a.createElement("span",{className:"c-84869E fs12"},k.a.get("deposit.wallet_balance")),p.a.createElement("span",{className:"c-0F134F fs14 fw700"},Object(b.O)(x,d,3),p.a.createElement("a",{className:"toSwap",href:"".concat(N.a.sunSwap,"?lang=").concat(c).concat("TRX"===x.collateralSymbol?"":"?tokenAddress=".concat(x.collateralAddress,"&type=swap")),target:"sunswap"},k.a.get("index.get"))))),p.a.createElement("div",null,p.a.createElement(f.a,{className:"modal-btn repay-btn",type:"primary",disabled:!r,onClick:function(){return e.repayBorrow()}},s))))},e.repayBorrow=Object(s.a)(r.a.mark((function t(){var a,n,l,s,o,c,i,m,d,p,u,g,v,E,f,w,h,k,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.lend,n=a.marketList,l=a.userList,s=a.balanceInfo,o=e.props.lend.borrowModalInfo.jtokenAddress,c=e.state,i=c.repayValue,m=c.isClear,d=l[o]||n[o],p=d.borrowratePerblock,u=d.precision,g=d.collateralDecimal,v=d.collateralSymbol,E=d.borrowBalanceNew,f=E?E.div(u):Object(b.a)(0),w=s[o]&&s[o].balance.div(u),"TRX"===v&&(w=Object(b.a)(w).minus(50),Object(b.a)(w).lt(0)&&(w=Object(b.a)(0))),h={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:i,token:d.collateralSymbol}},k=0,j=0,m&&Object(b.a)(w).gt(f)?(k=D.a,d.collateralAddress===N.a.zeroAddr&&(j=Object(b.a)(Object(b.a)(N.a.tokenDefaultPrecision).plus(Object(b.a)(p).times(20)).times(i).div(N.a.tokenDefaultPrecision)._toFixed(g,1)).times(u)._toHex())):k=Object(b.a)(i).times(u)._toHex(),t.next=14,e.props.system.repayBorrow(d,k,h,j,m&&Object(b.a)(w).gt(f));case 14:t.sent&&setTimeout((function(){e.props.lend.getTokenBalanceInfo(),e.props.detailInfo&&(e.props.lend.getUserData(),e.props.lend.getMarketData())}),5e3);case 16:case"end":return t.stop()}}),t)}))),e.getRepayBorrowFee=function(){var t=Object(s.a)(r.a.mark((function t(a){var n,l,s,o,c,i,m,d,p,u,g,v,E,f,w,h,k,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.lend,l=n.marketList,s=n.userList,o=n.balanceInfo,c=e.props.lend.borrowModalInfo.jtokenAddress,i=e.state.isClear,m=s[c]||l[c],d=m.borrowratePerblock,p=m.precision,u=m.collateralDecimal,g=m.collateralSymbol,v=m.borrowBalanceNew,E=v?v.div(p):Object(b.a)(0),f=o[c]&&o[c].balance.div(p),"TRX"===g&&(f=Object(b.a)(f).minus(50),Object(b.a)(f).lt(0)&&(f=Object(b.a)(0))),w={title:"toast.ex",title2:"deposit.transactionsent",title3:"toast.ex_failed",title4:"deposit.confirm_transaction",obj:{value:a,token:m.collateralSymbol}},0,h=0,i&&Object(b.a)(f).gt(E)?(D.a,m.collateralAddress===N.a.zeroAddr&&(h=Object(b.a)(Object(b.a)(N.a.tokenDefaultPrecision).plus(Object(b.a)(d).times(20)).times(a).div(N.a.tokenDefaultPrecision)._toFixed(u,1)).times(p)._toHex())):Object(b.a)(a).times(p)._toHex(),t.next=14,e.props.system.repayBorrowValue(m,w,h);case 14:k=t.sent,j=Object(b.a)(Object(b.a)(k).times(N.a.energyFeeRate).div(1e6)._toFixed(0,1)).plus(2).toNumber(),e.setState({trxFee:j});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeTab=function(t){var a=e.props.lend.borrowModalInfo.jtokenAddress;e.props.lend.setData({borrowModalInfo:{type:t,visible:!0,jtokenAddress:a}}),1!==Number(t)?e.onChangeBorrow("",!0):e.onChangeRepay("",!0)},e.renderContent=function(t){var a=e.props.lend,n=a.borrowModalInfo,l=a.balanceInfo,r=void 0===l?{}:l,s=a.marketList,o=a.userList,c=n.jtokenAddress,i=o[c]||s[c],m=i.collateralAddress,d=r[c]&&Object(b.a)(r[c].allowance).gt(0)||!1;return 1===t?e.renderBorrow():i&&c&&r[c]?m===N.a.zeroAddr||d?1===t?e.renderBorrow():e.renderRepay():e.approveContent(i):p.a.createElement(p.a.Fragment,null)},e.timerInterval=null,e.state={lang:window.localStorage.getItem("lang")||k.a.options.currentLocale,borrowValue:"",repayValue:"",errInfo1:{btnText:k.a.get("borrow.enter_amount"),status:!1},errInfo2:{btnText:k.a.get("repay.enter_amount"),status:!1},isClear:!1,poolCash:null,totalBorrowUsdAfter:"",totalRepayUsdAfter:"",totalRepayAfter:"",trxFee:""},e}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval),this.timerInterval=null}},{key:"componentDidUpdate",value:function(e,t){if(!Object(b.a)(e.lend.borrowLimit).eq(this.props.lend.borrowLimit)){if(1===Number(this.props.lend.borrowModalInfo.type))return this.onChangeBorrow(this.state.borrowValue);if(2===Number(this.props.lend.borrowModalInfo.type))return this.onChangeRepay(this.state.repayValue)}}},{key:"render",value:function(){var e=this,t=this.props.lend,a=t.borrowModalInfo,n=t.marketList,l=t.userList,r=a.jtokenAddress,s=a.type,o=a.visible,c=l[r]||n[r],i=c||{},m=i.collateralSymbol,d=i.logoUrl;return p.a.createElement(w.a,{title:p.a.createElement("div",null,p.a.createElement("img",{src:d}),m||""),maskClosable:!1,visible:o,closable:!0,onCancel:function(){return e.props.lend.hideBorrowModal()},footer:null,className:"borrow-modal",getContainer:function(){return document.querySelector(".main")}},!!c&&p.a.createElement(g.a,{className:"tabs-lend",defaultActiveKey:s,activeKey:s,centered:!0,type:"card",onChange:this.changeTab},p.a.createElement(T,{className:"tab-lend",tab:k.a.get("borrow.borrow"),key:"1"},this.renderContent(1)),p.a.createElement(T,{className:"tab-repay",tab:k.a.get("repay.repay"),key:"2"},this.renderContent(2))))}}]),a}(p.a.Component))||n)||n)||n)||n;t.a=C},681:function(e,t,a){},713:function(e,t,a){e.exports=a.p+"static/media/shield.773838eb.svg"},714:function(e,t,a){e.exports=a.p+"static/media/homeAuthodizeLogo.773838eb.svg"}}]);