(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[2],{1600:function(e,t,a){"use strict";var n,r,s=a(9),o=a(10),c=a(16),l=a(17),i=a(0),m=a.n(i),p=a(68),u=a(22),d=a(1),h=a.n(d),g=(a(1602),Object(u.b)("network")(n=Object(u.b)("lend")(n=Object(u.c)(n=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).touchStart=0,n.touchEnd=0,n.handleTouchStart=function(e){n.touchStart=e.changedTouches[0].clientY},n.handleTouchEnd=function(e){n.touchEnd=e.changedTouches[0].clientY,n.calculateSwipe()},n.calculateSwipe=function(){var e=n.props.network.showTabsBar,t=n.touchStart-n.touchEnd,a=document.body.scrollHeight||document.documentElement.scrollHeight,r=document.body.clientHeight||document.documentElement.clientHeight,s=document.body.scrollTop||document.documentElement.scrollTop;Number(s+r)===Number(a)?!e&&t>10&&n.props.network.setData({showTabsBar:!0}):t>10?n.props.network.setData({showTabsBar:!1}):Math.abs(t)>10&&n.props.network.setData({showTabsBar:!0})},n.state={showTabsBar:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchend",this.handleTouchEnd)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchend",this.handleTouchEnd)}},{key:"render",value:function(){return this.props.network.showTabsBar?this.props.children:null}}]),a}(m.a.Component))||n)||n)||n),v=Object(u.b)("network")(r=Object(u.b)("lend")(r=Object(u.c)(r=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={lang:window.localStorage.getItem("lang")||h.a.options.currentLocale},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.network.routeName,t="white"===this.props.theme;return m.a.createElement(g,null,m.a.createElement("div",{className:"m-tabsbar ".concat(this.props.classNames||""," ").concat(t?"white":"")},m.a.createElement("nav",{className:"menu"},m.a.createElement(p.b,{to:"/homeNew",className:"home"===e?"menu-item current":"menu-item"},m.a.createElement("span",{className:"menu-icons home"}),m.a.createElement("span",{className:"menu-item-label"},h.a.get("v2.lend_title"))),m.a.createElement(p.b,{to:"/strx",className:"LiquidityStake"===e?"menu-item current":"menu-item"},m.a.createElement("span",{className:"menu-icons strx"}),m.a.createElement("span",{className:"menu-item-label"},h.a.get("strx.stake_trx_liquid_staking"))),m.a.createElement(p.b,{to:"/energy",className:"EnergyRent"===e?"menu-item current":"menu-item"},m.a.createElement("span",{className:"menu-icons energy"}),m.a.createElement("span",{className:"menu-item-label"},h.a.get("strx.energy_rental"))),m.a.createElement(p.b,{to:"/voteNew",className:"vote"===e?"menu-item current":"menu-item"},m.a.createElement("span",{className:"menu-icons dao"}),m.a.createElement("span",{className:"menu-item-label"},h.a.get("navi.vote_btn"))))))}}]),a}(m.a.Component))||r)||r)||r;t.a=v},1602:function(e,t,a){},1619:function(e,t,a){},1632:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n,r,s=a(9),o=a(10),c=a(16),l=a(17),i=a(0),m=a.n(i),p=a(22),u=a(1),d=a.n(u),h=(a(1693),a(841),a(2)),g=a(38),v=a(215),y=a.n(v),b=a(100),f=a(18),E=a.n(f),x=Object(p.b)("lend")(n=Object(p.c)(n=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChartHightLight=function(e){var t=n.props.dataList,a=e.batch.reduce((function(e,t){return e[t.seriesIndex]=t,e}),{}),r=t[a[0].dataIndex];n.setState({hasTouchedChart:!0,curParams:[{axisValue:r.date,value:r.depositedAPY,dataIndex:a[0].dataIndex},{axisValue:r.date,value:r.depositedUSD,dataIndex:a[0].dataIndex}]})},n.initRef=function(e){n.echartRef=e},n.onChartReady=function(){setTimeout(n.showTooltipForCurrentData,800)},n.showTooltipForCurrentData=function(){var e,t,a=n.state.mobile,r=null===(e=n.echartRef)||void 0===e?void 0:e.getEchartsInstance();(null===(t=n.props.dataList)||void 0===t?void 0:t.length)?r&&r.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:n.props.dataList.findIndex((function(e){return e.current}))||0,position:a?[40,10]:[80,10]}):setTimeout(n.showTooltipForCurrentData,800)},n.hideTooltip=function(){var e,t=null===(e=n.echartRef)||void 0===e?void 0:e.getEchartsInstance();t&&t.dispatchAction({type:"hideTip"})},n.onChartMouseover=function(){!n.state.isHovering&&n.setState({isHovering:!0}),n.setState({labelStatus:!1})},n.onChartMouseout=function(){n.setState({isHovering:!1,labelStatus:!0}),setTimeout((function(){n.showTooltipForCurrentData()}),400)},n.state={mobile:Object(h.Y)().any,curParams:{trx1wEnergyShow:"--",totalApyShow:"--",supplyApyShow:"--",occupancyRateShow:"--",voteApyShow:"--",dataIndex:0},hasTouchedChart:!1,isHovering:!1,labelStatus:!0},n.echartRef=null,n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;this.hideTooltip(),setTimeout((function(){t.showTooltipForCurrentData()}))}},{key:"getEchartsOption",value:function(){var e=this.props,t=e.voteApy,a=void 0===t?0:t,n=e.type,r=e.totalApy,s=this.props.lend.theme,o=this.state,c=o.mobile,l=o.labelStatus;return function(e){var t=e.theme,a=e.dataList,n=e.type,r=e.isMobile,s=e.labelStatus,o=a.map((function(e){return 100*e.base})),c=a.map((function(e){return e.totalApy})),l=a.map((function(e){return 100*e.trx1wEnergy})),i="white"===t,m="stake"===n,p=m?o.map((function(e,t){return[e,c[t]]})):o.map((function(e,t){return[e,l[t]]}));return{color:[{type:"linear",x:1,y:0,x2:0,y2:0,colorStops:m?[{offset:0,color:"#9195FB"},{offset:1,color:"#18C19F"}]:[{offset:0,color:"#1BDCB5"},{offset:1,color:"#5FD2EB"}],global:!1},{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:m?[{offset:0,color:"rgba(29, 192, 163, 0)"},{offset:1,color:"rgba(146, 150, 251, 0.3)"}]:[{offset:0,color:"rgba(29, 192, 163, 0)"},{offset:1,color:"rgba(134, 255, 231, 0.3)"}],global:!1}],grid:{top:32,left:r?0:23,right:9,bottom:0,containLabel:!0},tooltip:{trigger:"axis",showContent:!0,extraCssText:"z-index: 999",position:r?["10%","20%"]:void 0,axisPointer:{type:"line",animation:!1,lineStyle:{color:i?"rgb(34, 35, 43, 0.4)":"rgba(255, 255, 255, 0.4)",type:"dashed",width:.5},label:{precision:2}},backgroundColor:i?"#ffffff":"#353745",borderWidth:"0",padding:0,textStyle:{color:"rgba(255,255,255,0.6)",fontFamily:"PingFang SC",fontSize:"14px"},formatter:function(e){var t=a[e[0].dataIndex];return"stake"===n?'<div class="tooltip">\n        <header class="header item color-primary">\n          <span class="title">'.concat(d.a.get("strx.stake_staking_apy"),'</span>\n          <span class="value">').concat(t.totalApyShow,'</span>\n        </header>\n        <div class="item">\n          <span class="title color-light">').concat(d.a.get("strx.energy_rental"),' APY</span>\n          <span class="value value-wrap">\n            <span class="num purple">').concat(t.supplyApyShow,'</span>\n            <span class="color-light value-extra">\n              <span class="">(').concat(d.a.get("strx.stake_data_energy_renting_rate",{value:""}),' </span>&nbsp;<span class="num color-primary">').concat(t.occupancyRateShow,'</span>)\n            </span>\n          </span>\n        </div>\n        <div class="item">\n          <span class="title color-light">').concat(d.a.get("strx.stake_data_voting_apy"),'</span>\n          <span class="value">\n            <span class="green num">').concat(t.voteApyShow,"</span>\n          </span>\n        </div>\n      </div>"):'<div class="tooltip energy">\n        <div class="item">\n          <span class="title color-light">'.concat(d.a.get("strx.energy_rent_energy_price"),'</span>\n          <span class="value value-wrap">\n            <span class="num green">').concat(t.trx1wEnergyShow," sun/").concat(d.a.get("strx.energy_day2"),'</span>\n          </span>\n          <span class="color-light value-extra">\n              <span>(').concat(d.a.get("strx.stake_data_energy_renting_rate",{value:""}),' </span>&nbsp;<span class="num color-primary">').concat(t.occupancyRateShow,"</span>)\n          </span>\n        </div>\n      </div>")}},xAxis:{type:"value",data:o,boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:i?"rgba(34,35,43,0.06)":"rgba(255,255,255,0.06)"}},axisLabel:{show:!0,color:i?"rgba(34,35,43,0.6)":"rgba(255,255,255,0.6)",margin:16,fontSize:10,align:"center",fontFamily:"Avenir Next",interval:function(e,t){return"".concat(t).endsWith("0")}},axisPointer:{value:a.findIndex((function(e){return e.current}))||0,label:{show:s,formatter:function(e,t){return d.a.get("market.current")},backgroundColor:"transparent",color:i?"rgba(34, 0, 34, 0.6)":"rgba(255,255,255,0.6)"},handle:{show:s,color:"transparent"}},axisTick:{show:!1},splitLine:{show:!1},name:r?"":"X:",nameLocation:"start",nameGap:0,nameTextStyle:{color:i?"rgba(34,35,43,0.6)":"rgba(255,255,255,0.6)",fontSize:12,lineHeight:16,verticalAlign:"top",fontWeight:400,padding:r?[13,12,0,0]:m?[35,16,0,0]:[12,16,0,0]}},yAxis:{type:"value",splitNumber:4,name:r?"":"Y:",nameLocation:"end",nameGap:55,nameTextStyle:{color:i?"rgba(34,35,43,0.6)":"rgba(255,255,255,0.6)",fontSize:12,lineHeight:16,verticalAlign:"top",fontWeight:400,padding:r?[13,12,0,0]:m?[10,50,0,0]:[30,80,0,0]},axisLabel:{show:!0,color:i?"rgba(34,35,43, 0.6)":"rgba(255,255,255,0.6)",margin:r?12:20,fontSize:10,verticalAlign:"middle",fontFamily:"Avenir Next",formatter:function(e){return m?Object(h.k)(e,0):E()(e).lte(0)?0:Object(h.k)(e,3,{cutZero:!0})}},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:i?"rgba(34,35,43,0.06)":"rgba(255,255,255,0.06)"}}},series:[{data:p,type:"line",areaStyle:{color:"transparent"},lineStyle:{width:3},itemStyle:{normal:{opacity:0,lineStyle:{width:3}},emphasis:{opacity:1,shadowOffsetX:2,shadowOffsetY:2,color:m?"#9195FB":"#18C19F",borderColor:"#ffffff",borderWidth:3,shadowBlur:2,shadowColor:"rgba(0, 0, 0, 0.1)"}},symbolSize:6},{data:p,type:"line",lineStyle:{color:"transparent"},areaStyle:{},itemStyle:{show:!1,normal:{opacity:0},emphasis:{opacity:0}}}]}}({theme:s,dataList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=e.find((function(e){return e.current}));t=n?E()(E()(a).toFixed(4,1)).minus(+E()(n.supply).toFixed(4,1)):E()(t);var r=Object(b.b)(100*t,2,{miniText:"0.01"})+"%";return e.map((function(e){var a=Object(b.b)(100*e.supply,2,{miniText:"0.01"})+"%",n=t.plus(E()(e.supply).toFixed(4,1)).times(100),s=Object(b.b)(n,2,{miniText:"0.01"})+"%",o=Object(b.b)(100*e.base,2,{round:!0})+"%";return Object(g.a)(Object(g.a)({},e),{},{totalApy:n.valueOf(),value:n.valueOf(),trx1wEnergyShow:Object(b.b)(100*e.trx1wEnergy,0,{miniText:"0.001"}),voteApyShow:r,supplyApyShow:a,totalApyShow:s,occupancyRateShow:o})}))}(this.props.dataList,a,r),type:n,isMobile:c,labelStatus:l})}},{key:"render",value:function(){this.state.mobile;return m.a.createElement("div",{className:"chart",onMouseOut:this.onChartMouseout,onMouseOver:this.onChartMouseover},m.a.createElement(y.a,{option:this.getEchartsOption(),ref:this.initRef,style:{height:194},className:"",onChartReady:this.onChartReady}))}}]),a}(i.Component))||n)||n;var w=Object(p.b)("network")(r=Object(p.b)("lend")(r=Object(p.b)("system")(r=Object(p.b)("pool")(r=Object(p.b)("strx")(r=Object(p.c)(r=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onReverseRate=function(){var e=n.state.reverseRate;n.setState({reverseRate:!e}),gtag("event","click",{event_category:"sTRX",event_label:"stake_reverse_rate"})},n.state={mobile:Object(h.Y)().any,reverseRate:!1},n}return Object(o.a)(a,[{key:"renderStakeMarket",value:function(){var e=this.props.data,t=this.state.reverseRate;return m.a.createElement("div",{className:"data-wrap color-primary"},m.a.createElement("div",{className:"summary"},m.a.createElement("span",{className:"title"},d.a.get("strx.stake_data_total_staked")),m.a.createElement("div",{className:"value"},m.a.createElement("span",{className:"num"},Object(h.k)(e.totalDeposits,0,{miniText:"1"})),m.a.createElement("span",{className:"postfix"},"TRX"))),m.a.createElement("div",{className:"divider-h"}),m.a.createElement("div",{className:"info-wrap"},m.a.createElement("div",{className:"info-item"},m.a.createElement("span",{className:"title color-light"},d.a.get("strx.stake_data_stakers")),m.a.createElement("span",{className:"value"},Object(h.k)(e.depositsHeadCounts,!1))),m.a.createElement("div",{className:"info-item"},m.a.createElement("span",{className:"title color-light"},d.a.get("strx.stake_data_ratio")),m.a.createElement("span",{className:"value exchange"},t?m.a.createElement("span",null,"1 sTRX = ",Object(h.k)(e.trx1sTrx,6)," TRX"):m.a.createElement("span",null,"1 TRX = ",Object(h.k)(e.sTrx1Trx,6)," sTRX"),m.a.createElement("span",{className:"icon",onClick:this.onReverseRate}))),m.a.createElement("div",{className:"info-item"},m.a.createElement("span",{className:"title color-light"},d.a.get("strx.stake_data_strx_supply")),m.a.createElement("span",{className:"value"},Object(h.k)(e.totalSupply,0,{miniText:"1"})))))}},{key:"renderEnergy",value:function(){var e=this.props.data,t=this.props.strx.maxRentableOfType;return m.a.createElement("div",{className:"data-wrap color-primary energy-data"},m.a.createElement("div",{className:"summary"},m.a.createElement("span",{className:"title"},d.a.get("strx.energy_rent_energy_price")),m.a.createElement("div",{className:"value"},m.a.createElement("span",{className:"num"},Object(h.k)(100*e.trx1wEnergy,0,{miniText:"0.001"})),m.a.createElement("span",{className:"postfix"},"sun/",d.a.get("strx.energy_day2"))),m.a.createElement("div",{className:"sumary-tip color-light"},d.a.get("strx.energy_rent_price"))),m.a.createElement("div",{className:"divider-h"}),m.a.createElement("div",{className:"info-wrap"},m.a.createElement("div",{className:"info-item"},m.a.createElement("div",{className:"title"},d.a.get("strx.energy_total_resource")),m.a.createElement("div",{className:"value"},m.a.createElement("span",{className:"num"},Object(h.k)(E()(e.totalUnfreezableEnergy).plus(e.totalDelegatedEnergy).times(e.energyStakePerTrx),0)),m.a.createElement("span",{className:"postfix"},d.a.get("strx.energy_energy")))),m.a.createElement("div",{className:"info-item"},m.a.createElement("div",{className:"title"},d.a.get("strx.energy_available_rental")),m.a.createElement("div",{className:"value"},m.a.createElement("span",{className:"num"},Object(h.k)(E()(e.energyStakePerTrx).times(t),0)),m.a.createElement("span",{className:"postfix"},d.a.get("strx.energy_energy"))))))}},{key:"render",value:function(){var e=this.props.lend.lang,t=this.props,a=t.data,n=t.type,r="stake"===n;return r?m.a.createElement("div",{className:"market-data stake ".concat(e)},m.a.createElement("div",{className:"section-title color-primary"},m.a.createElement("span",{className:"".concat(n," decoration")}),m.a.createElement("span",null,d.a.get("strx.stake_data_modal_data"))),m.a.createElement("div",{className:"market-data-section stake"},this.renderStakeMarket())):m.a.createElement("div",{className:"market-data ".concat(e)},m.a.createElement("div",{className:"section-title color-primary"},m.a.createElement("span",{className:"".concat(n," decoration")}),m.a.createElement("span",null,d.a.get("strx.energy_market_data"))),m.a.createElement("div",{className:"market-data-section"},this.renderEnergy(),m.a.createElement("div",{className:"divider-v"}),m.a.createElement("div",{className:"chart-wrap ".concat(r?"stake":"energy")},m.a.createElement("div",{className:"title-wrap"},m.a.createElement("span",{className:"title color-primary"},r?d.a.get("strx.stake_data_staking_apy_modal"):d.a.get("strx.energy_rent_price_model")),m.a.createElement("span",{className:"desc color-light"},m.a.createElement("span",{className:"desc"},d.a.get("strx.stake_data_energy_renting_apy")),m.a.createElement("span",{className:"y desc"},r?"Y: APY (%)":"Y: ".concat(d.a.get("strx.energy_rent_energy_price")," (sun/").concat(d.a.get("strx.energy_day2"),")")))),m.a.createElement(x,{dataList:a.model,voteApy:a.voteApy,type:n,totalApy:a.totalApy}))))}}]),a}(i.Component))||r)||r)||r)||r)||r)||r},1693:function(e,t,a){}}]);