(this["webpackJsonpjustlend-front"]=this["webpackJsonpjustlend-front"]||[]).push([[14],{1586:function(e,t,a){},1594:function(e,t,a){"use strict";a.r(t);var n,l=a(8),r=a(13),c=a(18),s=a(19),o=a(0),i=a.n(o),m=a(1),d=a.n(m),p=a(4),b=a(57),u=a(2),j=a.n(u),v=a(24),E=a(362),g=a(9),k=a(113),O=a(267),h=a(205),x=a.n(h),w=a(1524),f=a(1525),y=a(1517),N=a(3),T=a(55),S=(a(766),a(770),a(1586),Object(v.b)("network")(n=Object(v.b)("lend")(n=Object(v.c)(n=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0}),1e3),document.addEventListener("click",(function(e){n.setState({isShow:!1})}),!1),document.title="Market - JustLend DAO",e.next=5,n.props.lend.getMintInfo();case 5:return(t=window.location.hash.split("?")).length>1&&t[1].split("&").map((function(e){var t=e.split("=");t.length>1&&"jtokenAddress"===t[0]&&n.setState({jtokenAddress:t[1]},(function(){n.getJTokenData()}))})),e.next=9,n.props.network.getNowTime();case 9:n.props.network.getCountTime(),setInterval((function(){n.getJTokenData()}),3e4);case 11:case"end":return e.stop()}}),e)}))),n.getJTokenData=Object(p.a)(d.a.mark((function e(){var t,a,l,r,c,s,o,i,m=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:n.state.checked,e.prev=1,a=n.state.jtokenAddress,e.next=5,Object(T.d)(a);case 5:if(l=e.sent,r=n.props.lend.assetList,c=0,s=Object(N.K)(l.data,r),o=s.mintApy,i=s.mintApyWithUSDD,Object(N.a)(o).gte(0)&&(c=o),g.b.usddMint.includes(a)&&(c=i),t||(c=Object(N.a)(0)),l.success){e.next=14;break}return e.abrupt("return");case 14:n.setState({jTokenData:l.data},(function(){var e=l.data.model,t=[],a=[],r=[],s=[];e.map((function(e){e.current?n.setState({current:{base:Object(N.a)(e.base).times(100),borrow:Object(N.a)(e.borrow).times(100),supply:Object(N.a)(e.supply).times(100)}}):(t.push(Object(N.j)(Object(N.a)(e.borrow).times(100),2,{miniText:.01,per:!0})),a.push(Object(N.j)(Object(N.a)(e.supply).times(100).plus(Object(N.a)(c)._toFixed(2,1)),2,{miniText:.01,per:!0})),r.push(Object(N.j)(c,2,{miniText:.01,per:!0})),s.push(Object(N.j)(Object(N.a)(e.base).times(100),2,{miniText:.01,per:!0})))})),n.setState({borrowList:t,supplyList:a,baseList:s,mintList:r})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getMarketData",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),n.judgeBox=function(){n.hideDBox()},n.hideDBox=function(){n.setState({curStatus:!1})},n.showDBox=function(){n.setState({curStatus:!0})},n.canvasHover=function(){n.setState({labelStatus:!1})},n.canvasBlur=function(){n.setState({labelStatus:!0})},n.onChange=function(e){n.setState({checked:e}),n.getJTokenData(e),e?gtag("event","click",{event_category:"H5",event_label:"Show Mining APY",value:"yes"}):gtag("event","click",{event_category:"H5",event_label:"Show Mining APY",value:"no"})},n.categorySlide=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.setState({isShow:!0})},n.showDAW=function(e,t){n.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e}})},n.clickDeposit=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isRightChain?0!==n.props.network.isMainNetwork?n.props.lend.setData({DAWPop:{show:!0,activeKey:"1",popData:e}}):n.props.network.showNetworkErrorModal():n.props.network.changeChain()},n.clickBorrow=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isRightChain?0!==n.props.network.isMainNetwork?n.props.lend.collateralValid(e.collateralSymbol)&&n.props.lend.setData({visible:!0,jtokenAddress:e.jtokenAddress,type:"1"},"borrowModalInfo"):n.props.network.showNetworkErrorModal():n.props.network.changeChain()},n.borrowMax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=n.props.lend,l=a.borrowLimit,r=a.totalBorrowUsdForUSDD,c=a.trxPrice,s=e.assetPrice,o=e.precision,i=e.collateralDecimal,m=e.jtokenAddress,d=t.deposited,p=t.deposited_usd,b=t.collateralFactor,u=t.account_entered,j=l;0===u&&(j=m===g.b.usddJtoken?Object(N.a)(j).plus(Object(N.a)(d).times(b).div(g.b.tokenDefaultPrecision)):Object(N.a)(j).plus(Object(N.a)(p).times(b).div(g.b.tokenDefaultPrecision)));var v=Object(N.a)(j),E=Object(N.a)(0);return(E=m===g.b.usddJtoken?Object(N.a)(v).minus(r):v.minus(r).times(g.b.tokenDefaultPrecision).div(s).times(g.b.tokenDefaultPrecision).div(c).times(g.b.defaultPrecision).div(o)).lt(0)?0:E._toFixed(i,1)}catch(k){console.log("borrowMax: ",k)}},n.walletM=function(){var e=n.state.jTokenData,t=n.props.lend.marketList||n.props.lend.userList,a=t[e.jtokenAddress]?t[e.jtokenAddress]:{},l=n.borrowMax(a,n.props.lend.userList[e.jtokenAddress]),r=Object(N.U)(e),c=Object(N.a)(l).isNaN()||Object(N.a)(r).isNaN()?"--":Object(N.a)(l).gte(r)?r:l;return n.props.network.isConnected&&i.a.createElement("div",{className:"wallet-m"},i.a.createElement("div",{className:"market-card wallet-card"},i.a.createElement("div",{className:"card-top"},j.a.get("wallet_info")),i.a.createElement("div",{className:"card-bottom"},i.a.createElement("div",{className:"flex aic jcsb mb-10"},i.a.createElement("div",{className:"cb-title"},j.a.get("wallet_ballance")),i.a.createElement("div",{className:"cb-value wallet-cb-value"},Object(N.Z)(a,n.props.lend.balanceInfo,3))),i.a.createElement("div",{className:"flex aic jcsb mb-10"},i.a.createElement("div",{className:"cb-title"},j.a.get("current_borrow")),i.a.createElement("div",{className:"cb-value"},Object(N.a)(c).isNaN()||Object(N.a)(c).eq(0)?"0":Object(N.d)(c,2,{miniText:.01})," ",a.collateralSymbol)),i.a.createElement("div",{className:"flex aic jcsb "},i.a.createElement("button",{className:"btn-m deposit-btn",onClick:function(e){e.preventDefault(),n.clickDeposit(a)}},j.a.get("index.markets_deposit")),i.a.createElement("button",{className:"btn-m borrow-btn",onClick:function(e){e.preventDefault(),n.clickBorrow(a)}},j.a.get("index.markets_withdraw"))))))},n.scaleM=function(){var e,t=n.state,a=t.current,l=t.jTokenData,r=(t.checked,t.isShow),c=t.lang,s=n.props.lend.assetList,o=Object(N.K)(l,s),m=o.mintApyWithUSDD,d=o.totalApy,p=o.mintApy;return i.a.createElement("div",{className:"scale-m"},i.a.createElement("div",{className:"scale-top flex aic jcsb"},i.a.createElement("div",{className:"scale-logos"},i.a.createElement("img",{className:"scale-logo",src:l.logoUrl,alt:"logo"}),i.a.createElement("span",{className:"scale-symbol"},l.collateralName)," ",i.a.createElement("span",{className:"scale-subtitle"},"(",l.collateralSymbol,")")),i.a.createElement("div",{className:"scale-category",onClick:function(e){return n.categorySlide(e)}},i.a.createElement("div",{className:"category-icon"}),r&&i.a.createElement("div",{className:"category-dropdown"},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("img",{src:l.logoUrl,alt:"logo"}),l.collateralSymbol),i.a.createElement("div",{className:"flex aic"},"trx"!==(null===l||void 0===l||null===(e=l.collateralSymbol)||void 0===e?void 0:e.toLocaleLowerCase())?i.a.createElement(k.a,{title:j.a.getHTML("view_in_explorer"),placement:"top"},i.a.createElement("a",{href:"".concat("en-US"===c?g.b.tronscanUrlEN:g.b.tronscanUrlCN,"/address/").concat(l.collateralAddress),target:"_blank",rel:"noopener noreferrer",className:"to-tronscan-icon"},"\xa0")):i.a.createElement("div",{className:"to-tronscan-icon disabled"}))),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("img",{src:Object(N.z)(l.collateralSymbol),alt:"logo"}),"j",l.collateralSymbol),i.a.createElement("div",{className:"flex aic"},i.a.createElement(k.a,{title:j.a.getHTML("view_in_explorer"),placement:"top"},i.a.createElement("a",{href:"".concat("en-US"===c?g.b.tronscanUrlEN:g.b.tronscanUrlCN,"/address/").concat(l.jtokenAddress),target:"_blank",className:"to-tronscan-icon"},"\xa0"))))))),i.a.createElement("div",{className:"scale-content"},i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"s-title"},j.a.get("market.deposit_apy")),i.a.createElement("div",{className:"s-value blue flex aic"},"--"===Object(N.j)(Object(N.a)(Object(N.j)(a.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(p,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(N.j)(d,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(N.j)(Object(N.a)(Object(N.j)(a.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(p,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%",!(g.b.hideMarketMintIcon.indexOf(l.collateralSymbol)>-1)&&i.a.createElement("span",{className:"ic-fire ml-4 mb-0"}))),g.b.usddMint.includes(l.jtokenAddress)&&i.a.createElement("div",{className:"s-title mt-2"},"(",j.a.get("usddapy.hover2"),")"),i.a.createElement("div",{className:"s-apy"},i.a.createElement("div",{className:"flex aic jcsb "},i.a.createElement("div",{className:"s-apy-title"},j.a.get("market.deposit_base_nex1"),i.a.createElement("span",{className:"inline-block"},j.a.get("market.deposit_base_nex2"))),i.a.createElement("div",{className:"s-apy-value"},Object(N.j)(a.supply,2,{per:!0,miniText:"0.01"}),"%")),i.a.createElement("div",{className:"flex aic jcsb "},i.a.createElement("div",{className:"s-apy-title"},j.a.get("market.mining_nex1"),i.a.createElement("span",{className:"inline-block"},j.a.get("market.mining_nex2"))),i.a.createElement("div",{className:"s-apy-value"},g.b.usddMint.includes(l.jtokenAddress)?"".concat(Object(N.j)(m,2,{per:!0,miniText:"0.01"})):Object(N.j)(p,2,{per:!0,miniText:"0.01"}),"%"))),i.a.createElement("div",{className:"flex aic jcsb mb-10"},i.a.createElement("div",{className:"s-title"},j.a.get("market.borrow_apy")),i.a.createElement("div",{className:"s-value green"},Object(N.j)(Object(N.a)(l.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%")),i.a.createElement("div",{className:"flex aic jcsb mb-10"},i.a.createElement("div",{className:"s-title"},j.a.get("market.deposit_size")),i.a.createElement("div",{className:"s-value"},Object(N.a)(l.depositedUSD).isNaN()?"--":Object(N.d)(l.depositedUSD,2,{miniText:.01,needDolar:!0}))),i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"s-title"},j.a.get("market.borrow_size")),i.a.createElement("div",{className:"s-value"},Object(N.a)(l.borrowedUSD).isNaN()?"--":Object(N.d)(l.borrowedUSD,2,{miniText:.01,needDolar:!0})))))},n.addToTronlink=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.tronWeb||!window.tronWeb.defaultAddress.base58){e.next=4;break}return a=window.tronWeb,e.next=4,a.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:t}}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.detailM=function(){var e=n.state.jTokenData;return i.a.createElement("div",{className:"detail-m"},i.a.createElement("div",{className:"title-elements"},i.a.createElement("div",{className:"te-title"},j.a.getHTML("market.detail_data"))),i.a.createElement("div",{className:"market-card market-detail-card"},i.a.createElement("div",{className:"card-bottom"},i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"cb-ele"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_price")),i.a.createElement("div",{className:"cb-value"},"--"==e.priceUSD?"--":Object(N.d)(e.priceUSD,2,{miniText:.01,needDolar:!0}))),i.a.createElement("div",{className:"cb-ele cb-right"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_limitmax")),i.a.createElement("div",{className:"cb-value"},Object(N.a)(e.borrowLimit).gt(0)?Object(N.j)(e.borrowLimit,0)+" "+e.collateralSymbol:j.a.get("market.detail_none")))),i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"cb-ele"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_number_of_deposit_accounts")),i.a.createElement("div",{className:"cb-value"},e.depositHeadcount)),i.a.createElement("div",{className:"cb-ele cb-right"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_number_of_borrow_accounts")),i.a.createElement("div",{className:"cb-value"},e.borrowHeadcount))),i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"cb-ele"},i.a.createElement("div",{className:"cb-title flex aic"},i.a.createElement(k.a,{className:"tooltips-m bb-dash-545669",overlayClassName:"tooltip-m",title:j.a.getHTML("market_lend_tip"),placement:"topRight",trigger:"['hover','click']"},j.a.getHTML("market.borrow_market"))),i.a.createElement("div",{className:"cb-value"},Object(N.a)(Object(N.U)(e)).gte(1)?Object(N.j)(Object(N.U)(e),0):Object(N.j)(Object(N.U)(e),2,{miniText:.01})," ",i.a.createElement("span",{className:"font-dmsans"},e.collateralSymbol))),i.a.createElement("div",{className:"cb-ele cb-right"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_dailyinterest")),i.a.createElement("div",{className:"cb-value"},Object(N.j)(e.earnUSDPerDay,2,{miniText:.01,needDolar:!0})))),i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"cb-ele"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_reserves")),i.a.createElement("div",{className:"cb-value"},Object(N.j)(e.totalReserves,6,{miniText:1e-6}))),i.a.createElement("div",{className:"cb-ele cb-right"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_factor")),i.a.createElement("div",{className:"cb-value"},Object(N.db)(e.reserveFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"cb-ele"},i.a.createElement("div",{className:"cb-title"},j.a.getHTML("market.detail_jminted",{value:"j"+e.collateralSymbol})),i.a.createElement("div",{className:"cb-value"},Object(N.j)(e.totalSupply,0,{miniText:1}))),i.a.createElement("div",{className:"cb-ele cb-right"},i.a.createElement("div",{className:"cb-title"},j.a.get("market.detail_collateral")),i.a.createElement("div",{className:"cb-value"},Object(N.db)(e.collateralFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),i.a.createElement("div",{className:"flex aic jcsb"},i.a.createElement("div",{className:"cb-ele width-100-per mb-0"},i.a.createElement("div",{className:"cb-title"},j.a.getHTML("market.detail_jexchangerate",{value:"j"+e.collateralSymbol})),Object(N.a)(e.oneToExchangeRate).lt(Object(N.a)(1).div(g.b.tokenDefaultPrecision))&&i.a.createElement("div",{className:"cb-value"},"--"),Object(N.a)(e.oneToExchangeRate).gte(Object(N.a)(1).div(g.b.tokenDefaultPrecision))&&i.a.createElement("div",{className:"cb-value"},"1 ",i.a.createElement("span",{className:"font-dmsans"},e.collateralSymbol)," "," : "," ",Object(N.j)(e.oneToExchangeRate,18),i.a.createElement("span",{className:"font-dmsans"}," j",e.collateralSymbol)))))))},n.eachartsM=function(){var e=n.state,t=(e.mobile,e.jtokenAddress,e.current),a=e.curStatus,l=e.jTokenData,r=e.checked,c=(n.props.network.menuFlag,n.props.lend.assetList),s=Object(N.K)(l,c),o=s.mintApyWithUSDD,m=(s.totalApy,s.mintApy);r||(m=0);var d=n.props.network.multyRealStart,p=Object(N.a)(t.base),b="--"===n.state.useRate?Object(N.j)(Object(N.a)(p).gt(100)?100:p,2):n.state.useRate,u="--"===n.state.baseDeposit?t.supply:n.state.baseDeposit,v="--"===n.state.borrowApy?Object(N.j)(t.borrow,2,{miniText:.01,per:!0}):n.state.borrowApy;return i.a.createElement("div",{className:"echarts-m"},i.a.createElement("div",{className:"e-top"},i.a.createElement("div",null,j.a.get("use_rate")),i.a.createElement("div",null,a?Object(N.j)(Object(N.a)(p).gt(100)?100:p,2):b,"%")),i.a.createElement("div",{className:"e-content"},i.a.createElement("div",null,i.a.createElement("div",{className:"ec-title"},j.a.get("lend.depositapy"),i.a.createElement("span",{className:"inline-block"},"(",j.a.get("market.baseAPY"),r?"+"+j.a.get("market.mint_apy"):"",")")),i.a.createElement("div",{className:"ec-value"},a?"--"===Object(N.j)(Object(N.a)(Object(N.j)(t.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(m,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(N.j)(Object(N.a)(t.supply).plus(m),2,{miniText:.01,per:!0}):Object(N.j)(Object(N.a)(Object(N.j)(t.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(m,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}):r?Object(N.j)(Object(N.a)(u).plus(m),2,{miniText:.01,per:!0}):n.state.depositApy,"%",i.a.createElement("span",{className:"inline-block"+(r?"":" hide")},r?"(".concat(a?Object(N.j)(t.supply,2,{miniText:.01,per:!0}):Object(N.j)(u,2,{miniText:.01,per:!0}),"%+").concat(Object(N.j)(m,2,{miniText:.01,per:!0}),"%)"):""))),i.a.createElement("div",null,i.a.createElement("div",{className:"ec-title"},j.a.get("market.borrow_apy")),i.a.createElement("div",{className:"ec-value green"},a?Object(N.j)(t.borrow,2,{miniText:.01,per:!0}):v,"%"))),i.a.createElement("div",{className:"echarts-frame",onClick:function(){n.judgeBox()},onTouchStart:function(){return n.judgeBox()},onTouchMove:function(){return n.judgeBox()}},i.a.createElement("span",{className:"left"},"Y : APY(%)"),i.a.createElement("div",{className:"canvas-box",onMouseOver:function(){n.canvasHover()},onMouseLeave:function(){n.canvasBlur()}},i.a.createElement(x.a,{option:n.getEchartsOption(),className:"market-detail-echarts"}),i.a.createElement("div",{className:"show-current",onClick:function(e){return n.resetDefault(e)}},i.a.createElement("span",{className:"reset-icon"}),i.a.createElement("span",{className:"reset-text"},j.a.get("show_current")))),i.a.createElement("div",{className:"default-text "+(a?"":"hide")+(r?" include-mint":"")},i.a.createElement("p",{className:"use-rate"},j.a.get("use_rate"),i.a.createElement("span",null,Object(N.j)(Object(N.a)(p).gt(100)?100:p,2),"%")),i.a.createElement("p",null,j.a.get("lend.depositapy"),i.a.createElement("span",{className:"blue"},"--"===Object(N.j)(Object(N.a)(Object(N.j)(t.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(m,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(N.j)(Object(N.a)(t.supply).plus(m),2,{miniText:.01,per:!0}):Object(N.j)(Object(N.a)(Object(N.j)(t.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(m,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%")),i.a.createElement("p",null,"-",j.a.get("market.baseAPY"),i.a.createElement("span",{className:"sub-span"},Object(N.j)(t.supply,2,{miniText:.01,per:!0}),"%")),i.a.createElement("p",{className:"mint-p"},"-",j.a.get("lend.miningapy"),i.a.createElement("span",{className:"sub-span"},Object(N.j)(m,2,{miniText:.01,per:!0}),"%")),i.a.createElement("p",null,j.a.get("market.borrow_apy"),i.a.createElement("span",{className:"green"},Object(N.j)(t.borrow,2,{miniText:.01,per:!0}),"%")),i.a.createElement("div",{style:{opacity:0,height:0}},i.a.createElement("div",null,Object(N.j)(Object(N.a)(p).gt(100)?100:p,2),"%"),i.a.createElement("div",null,Object(N.j)(m,2,{miniText:.01,per:!0})),i.a.createElement("div",null,Object(N.j)(t.borrow,2,{miniText:.01,per:!0})))),i.a.createElement("span",{className:"right"},"X : ",j.a.get("market.detail_use_rate")+"(%)"),d&&!(g.b.hideMarketMintIcon.indexOf(l.collateralSymbol)>-1)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flexB gray-bar"},i.a.createElement("div",{className:"title"},j.a.get("market.detail_distubutedapy"),i.a.createElement("span",{className:"data-tip"},j.a.get("market.sun_mining_nex2"))),i.a.createElement("div",null,i.a.createElement("span",{className:"data"},g.b.usddMint.includes(l.jtokenAddress)?"".concat(Object(N.j)(o,2,{per:!0,miniText:"0.01",needDolar:!1})):Object(N.j)(s.mintApy,2,{per:!0,miniText:"0.01",needDolar:!1}),"%"))),i.a.createElement("div",{className:"bottom-bar"},"USDD"===(null===l||void 0===l?void 0:l.collateralSymbol)?j.a.get("market.detail_data_hotdesc1"):j.a.get("market.detail_data_hotdesc")))))},n.resetDefault=function(e){e.stopPropagation(),n.setState({curStatus:!0})},n.state={mobile:Object(b.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||j.a.options.currentLocale,jTokenData:{priceUSD:"--",depositHeadcount:"--",borrowHeadcount:"--",borrowLimit:"--",earnUSDPerDay:"--",totalReserves:"--",reserveFactor:"--",collateralFactor:"--",collateralSymbol:"--",totalSupply:"--",oneToExchangeRate:"--"},jtokenAddress:"",borrowList:[],supplyList:[],baseList:[],mintList:[],current:{base:"--",borrow:"--",supply:"--"},curStatus:!0,labelStatus:!0,checked:!0,isShow:!1,useRate:"--",depositApy:"--",borrowApy:"--",baseDeposit:"--"},n}return Object(r.a)(a,[{key:"getEchartsOption",value:function(){var e=this,t=this.state,a=t.borrowList,n=t.supplyList,l=t.baseList,r=(t.labelStatus,t.checked),c=t.curStatus,s=this.state,o=s.current,i=s.jTokenData,m=this.props.lend.assetList,d=Object(N.K)(i,m),p=d.mintApy,b=d.mintApyWithUSDD;return r||(p=0),{tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,lineStyle:{color:"rgba(69, 77, 226, 0.2)",type:"dashed"},label:{precision:2}},backgroundColor:"rgba(255,255,255,0.5)",borderWidth:"0",textStyle:{color:"#333",fontFamily:"AvenirNext-Medium",fontSize:"14px"},formatter:function(t){var a=g.b.usddMint.includes(i.jtokenAddress)?b:p;r||(a=0),"--"!==p&&Object(N.j)(Object(N.a)(t[1].value).minus(Object(N.a)(a)._toFixed(2,1)),2);var n=i.model.filter((function(e){return!e.current})),l=Object(N.a)(n[t[0].dataIndex].base).times(100);return e.setState({useRate:Object(N.j)(Object(N.a)(l).gt(100)?100:l,2),depositApy:Object(N.j)(t[1].value,2),borrowApy:Object(N.j)(t[0].value,2),baseDeposit:Object(N.a)(t[1].value).minus(Object(N.a)(a)._toFixed(2,1))}),""}},grid:{left:"0%",right:"3%",bottom:"5%",containLabel:!0},yAxis:{name:" ",nameTextStyle:{color:"#84869E",align:"left"},type:"value",axisLine:{show:!0,lineStyle:{width:1,color:["#e9e9e9"]}},splitLine:{show:!0,lineStyle:{type:"dotted",color:["#ccc"]}},splitNumber:3,axisTick:{show:!1},axisLabel:{textStyle:{color:"#84869E"}}},xAxis:{type:"category",axisPointer:{value:Number(Object(N.j)(o.base,2)),lineStyle:c?{color:"rgba(15,19,79,0.5)",width:1}:null,label:{show:c,formatter:function(e,t){return j.a.get("market.current")},backgroundColor:"rgba(0,0,0,0.5)"},handle:{show:!0,color:"transparent"}},name:"",nameTextStyle:{color:"#84869E"},data:l,axisLine:{lineStyle:{color:["#E9E9E9"]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{interval:0,formatter:function(e,t){return t%10==0&&0!=t?t:null},textStyle:{color:"#84869E"}}},series:[{name:j.a.get("market.borrow_apy"),type:"line",hoverAnimation:!1,itemStyle:{normal:{color:"#1ED0AC",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#9EF9E6",borderColor:"#1ED0AC",borderWidth:3}},data:a,showSymbol:!1,symbolSize:11},{name:j.a.get("market.deposit_apy"),type:"line",itemStyle:{normal:{color:"#3D56D6",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#BBBAFF",borderColor:"#3D56D6",borderWidth:3}},hoverAnimation:!1,data:n,showSymbol:!1,symbolSize:11}]}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.current,t.jTokenData),n=t.checked,l=this.props.lend,r=l.assetList,c=l.DAWPop,s=l.borrowModalInfo;Object(N.K)(a,r).mintApy;return n||0,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"modal-container main common-m market-detail-m block-m"},this.scaleM(),i.a.createElement("div",{className:"title-elements flex aic jcsb"},i.a.createElement("div",{className:"te-title"},j.a.getHTML("market.detail_apymodel")),!g.b.hideMarketMintIcon.includes(a.collateralSymbol)&&i.a.createElement("div",{className:"te-subtitle"},i.a.createElement(O.a,{checked:n,onChange:function(t){return e.onChange(t.target.checked)},className:"show-all-markets show-all-markets-m checkbox-detail-m"},j.a.get("modal_mining_apy")))),this.eachartsM(),this.detailM(),this.walletM()),c.show&&i.a.createElement(w.a,{detailInfo:!0}),s.visible&&i.a.createElement(f.a,{detailInfo:!0}),i.a.createElement(y.a,null))}}]),a}(i.a.Component))||n)||n)||n),D=a(6),_=a(122),A=function(e){return e?"function"===typeof e?e():e:null},L=a(120),M=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a},C=o.forwardRef((function(e,t){var a=e.prefixCls,n=e.title,l=e.content,r=M(e,["prefixCls","title","content"]),c=o.useContext(_.b).getPrefixCls,s=c("popover",a),i=c();return o.createElement(k.a,Object(D.a)({},r,{prefixCls:s,ref:t,overlay:function(e){return o.createElement(o.Fragment,null,n&&o.createElement("div",{className:"".concat(e,"-title")},A(n)),o.createElement("div",{className:"".concat(e,"-inner-content")},A(l)))}(s),transitionName:Object(L.b)(i,"zoom-big",r.transitionName)}))}));C.displayName="Popover",C.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var U,P,H=C,B=a(235),F=Object(v.b)("network")(U=Object(v.b)("lend")(U=Object(v.b)("pool")(U=Object(v.c)(U=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getUserData=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.lend.getUserData();case 2:return e.next=4,n.props.lend.getUserDataFromMarkets();case 4:return e.next=6,n.props.lend.getTokenBalanceInfo();case 6:case"end":return e.stop()}}),e)}))),n.getMarketData=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.lend.getMarketData();case 2:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(p.a)(d.a.mark((function e(){var t,a,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Market - JustLend DAO",e.next=3,n.props.lend.getMintInfo();case 3:return t=Object(N.F)("jtokenAddress"),a=!!Object(N.F)("supply"),l=!!Object(N.F)("borrow"),t&&(n.setState({jtokenAddress:t},(function(){n.getJTokenData()})),a&&!l&&setTimeout((function(){var e=n.state.jTokenData,t=n.props.lend.marketList||n.props.lend.userList,a=t[e.jtokenAddress]?t[e.jtokenAddress]:{};n.clickDeposit(a)}),1500),l&&!a&&setTimeout((function(){var e=n.state.jTokenData,t=n.props.lend.marketList||n.props.lend.userList,a=t[e.jtokenAddress]?t[e.jtokenAddress]:{};n.clickBorrow(a)}),1500)),e.next=9,n.props.network.getNowTime();case 9:n.props.network.getCountTime(),setInterval((function(){n.getJTokenData()}),3e4);case 11:case"end":return e.stop()}}),e)}))),n.getJTokenData=Object(p.a)(d.a.mark((function e(){var t,a,l,r,c,s,o,i,m=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:n.state.checked,e.prev=1,a=n.state.jtokenAddress,e.next=5,Object(T.d)(a);case 5:if(l=e.sent,r=n.props.lend.assetList,c=0,s=Object(N.K)(l.data,r),o=s.mintApy,i=s.mintApyWithUSDD,Object(N.a)(o).gte(0)&&(c=o),g.b.usddMint.includes(a)&&(c=i),t||(c=Object(N.a)(0)),l.success){e.next=14;break}return e.abrupt("return");case 14:n.setState({jTokenData:l.data},(function(){var e=l.data.model,t=[],a=[],r=[],s=[];e.map((function(e){e.current?n.setState({current:{base:Object(N.a)(e.base).times(100),borrow:Object(N.a)(e.borrow).times(100),supply:Object(N.a)(e.supply).times(100)}}):(t.push(Object(N.j)(Object(N.a)(e.borrow).times(100),2,{miniText:.01,per:!0})),a.push(Object(N.j)(Object(N.a)(e.supply).times(100).plus(Object(N.a)(c)._toFixed(2,1)),2,{miniText:.01,per:!0})),r.push(Object(N.j)(c,2,{miniText:.01,per:!0})),s.push(Object(N.j)(Object(N.a)(e.base).times(100),2,{miniText:.01,per:!0})))})),n.setState({borrowList:t,supplyList:a,baseList:s,mintList:r})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getMarketData",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),n.addToTronlink=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.network.isConnected){e.next=3;break}return e.abrupt("return",n.props.network.connectWallet());case 3:if(!window.tronWeb||!window.tronWeb.defaultAddress.base58){e.next=7;break}return a=window.tronWeb,e.next=7,a.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:t}}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.judgeBox=function(){n.state.mobile&&n.hideDBox()},n.hideDBox=function(){n.setState({curStatus:!1})},n.showDBox=function(){n.setState({curStatus:!0})},n.canvasHover=function(){n.setState({labelStatus:!1})},n.canvasBlur=function(){n.setState({labelStatus:!0})},n.onChange=function(e){n.setState({checked:e}),n.getJTokenData(e),e?gtag("event","click",{event_category:"PC",event_label:"Show Mining APY",value:"yes"}):gtag("event","click",{event_category:"PC",event_label:"Show Mining APY",value:"no"})},n.borrowMax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=n.props.lend,l=a.borrowLimit,r=a.totalBorrowUsdForUSDD,c=a.trxPrice,s=e.assetPrice,o=e.precision,i=e.collateralDecimal,m=e.jtokenAddress,d=t.deposited,p=t.deposited_usd,b=t.collateralFactor,u=t.account_entered,j=l;0===u&&(j=m===g.b.usddJtoken?Object(N.a)(j).plus(Object(N.a)(d).times(b).div(g.b.tokenDefaultPrecision)):Object(N.a)(j).plus(Object(N.a)(p).times(b).div(g.b.tokenDefaultPrecision)));var v=Object(N.a)(j),E=Object(N.a)(0);return(E=m===g.b.usddJtoken?Object(N.a)(v).minus(r):v.minus(r).times(g.b.tokenDefaultPrecision).div(s).times(g.b.tokenDefaultPrecision).div(c).times(g.b.defaultPrecision).div(o)).lt(0)?0:E._toFixed(i,1)}catch(k){console.log("borrowMax: ",k)}},n.clickDeposit=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isRightChain?0!==n.props.network.isMainNetwork?n.props.lend.setData({DAWPop:{show:!0,activeKey:"1",popData:e}}):n.props.network.showNetworkErrorModal():n.props.network.changeChain()},n.clickBorrow=function(e){if(!n.props.network.isConnected)return n.props.network.connectWallet();0!==n.props.network.isRightChain?0!==n.props.network.isMainNetwork?n.props.lend.collateralValid(e.collateralSymbol)&&n.props.lend.setData({visible:!0,jtokenAddress:e.jtokenAddress,type:"1"},"borrowModalInfo"):n.props.network.showNetworkErrorModal():n.props.network.changeChain()},n.state={mobile:Object(b.a)(window.navigator).any,lang:window.localStorage.getItem("lang")||j.a.options.currentLocale,jTokenData:{priceUSD:"--",depositHeadcount:"--",borrowHeadcount:"--",borrowLimit:"--",earnUSDPerDay:"--",totalReserves:"--",reserveFactor:"--",collateralFactor:"--",collateralSymbol:"--",totalSupply:"--",oneToExchangeRate:"--"},jtokenAddress:"",borrowList:[],supplyList:[],baseList:[],mintList:[],current:{base:"--",borrow:"--",supply:"--"},curStatus:!0,labelStatus:!0,checked:!0},n}return Object(r.a)(a,[{key:"renderHeader",value:function(){var e=this.state,t=e.jTokenData,a=e.current,n=this.props.lend.assetList,l=Object(N.K)(t,n),r=l.totalApy,c=(l.depositApy,l.mintApy),s=l.mintApyWithUSDD;return t&&t.logoUrl?i.a.createElement("div",{className:"market-detail-header flex-between"},i.a.createElement("div",{className:"common-title header-title"},i.a.createElement("img",{src:t.logoUrl,alt:"logo"}),i.a.createElement("span",null,"".concat(t.collateralName,"(").concat(t.collateralSymbol,")"))),i.a.createElement("div",{className:"header-info flex-between"},i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.deposit_size")),i.a.createElement("p",null,Object(N.d)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))),i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.deposit_apy")),i.a.createElement(k.a,{title:i.a.createElement("div",{className:"info-tooltip"},i.a.createElement("div",null,j.a.get("market.deposit_base_nex")," :"," ",Object(N.j)(a.supply,2,{per:!0,miniText:"0.01"}),"%"),i.a.createElement("div",null,g.b.usddMint.includes(t.jtokenAddress)?j.a.get("market.sun_mining_nex1"):j.a.get("market.sun_mining_nex")," ",":"," ",g.b.usddMint.includes(t.jtokenAddress)?"".concat(Object(N.j)(s,2,{per:!0,miniText:"0.01"})):Object(N.j)(c,2,{per:!0,miniText:"0.01"}),"%"),g.b.usddMint.includes(t.jtokenAddress)&&i.a.createElement("div",null,j.a.get("usddapy.hover2"))),placement:"bottomRight"},i.a.createElement("p",null,"--"===Object(N.j)(Object(N.a)(Object(N.j)(a.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(c,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(N.j)(r,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(N.j)(Object(N.a)(Object(N.j)(a.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(c,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%"))),i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.borrow_size")),i.a.createElement("p",null,Object(N.d)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))),i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.borrow_apy")),i.a.createElement("p",null,Object(N.j)(Object(N.a)(t.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%")))):i.a.createElement("div",{className:"market-detail-header flex-between"},i.a.createElement("div",{className:"common-title header-title"},i.a.createElement("span",null,"--")),i.a.createElement("div",{className:"header-info flex-between"},i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.deposit_size")),i.a.createElement("p",null,"--")),i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.deposit_apy")),i.a.createElement("p",null,"--","%")),i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.borrow_size")),i.a.createElement("p",null,"--")),i.a.createElement("div",{className:""},i.a.createElement("p",null,j.a.getHTML("market.borrow_apy")),i.a.createElement("p",null,"--","%"))))}},{key:"renderActionContent",value:function(e){var t,a,n=this,l=window.localStorage.getItem("lang")||"en-US";return i.a.createElement("div",null,i.a.createElement("div",{className:"flex-between"},i.a.createElement("div",null,i.a.createElement("img",{src:e.logoUrl,alt:"logo"}),i.a.createElement("span",null,i.a.createElement("strong",null,e.collateralSymbol))),i.a.createElement("div",{className:"flex aic"},"trx"!==(null===e||void 0===e||null===(t=e.collateralSymbol)||void 0===t?void 0:t.toLocaleLowerCase())?i.a.createElement(k.a,{title:j.a.getHTML("view_in_explorer"),placement:"top"},i.a.createElement("a",{className:"typo-text-link",href:"".concat("en-US"===l?g.b.tronscanUrlEN:g.b.tronscanUrlCN,"/address/").concat("--"!==(null===e||void 0===e?void 0:e.collateralSymbol)?e.collateralAddress:""),target:"_blank",rel:"noopener noreferrer"},i.a.createElement("span",{className:"toTronscan"}))):i.a.createElement("span",{className:"toTronscan disabled"}),"trx"!==(null===e||void 0===e||null===(a=e.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase())?i.a.createElement(k.a,{title:j.a.getHTML("add_to_tronlink"),placement:"top"},i.a.createElement("span",{className:"addtoTronLink ",onClick:function(){return n.addToTronlink(e.collateralAddress)}})):i.a.createElement("span",{className:"addtoTronLink disabled"}))),i.a.createElement("div",{className:"flex-between"},i.a.createElement("div",null,i.a.createElement("img",{src:Object(N.z)(e.collateralSymbol),alt:"logo"}),i.a.createElement("span",null,i.a.createElement("strong",null,"j",e.collateralSymbol))),i.a.createElement("div",{className:"flex aic"},i.a.createElement(k.a,{title:j.a.getHTML("view_in_explorer"),placement:"top"},i.a.createElement("a",{className:"typo-text-link",href:"".concat("en-US"===l?g.b.tronscanUrlEN:g.b.tronscanUrlCN,"/address/").concat(e.jtokenAddress),target:"_blank",rel:"noopener noreferrer"},i.a.createElement("span",{className:"toTronscan"}))),i.a.createElement(k.a,{title:j.a.getHTML("add_to_tronlink"),placement:"top"},i.a.createElement("span",{className:"addtoTronLink",onClick:function(){return n.addToTronlink(e.jtokenAddress)}})))))}},{key:"renderInfo",value:function(){var e=this.state,t=e.jTokenData,a=(e.jtokenAddress,e.current),n=this.props.lend.assetList,l=Object(N.K)(t,n),r=l.totalApy,c=(l.depositApy,l.mintApy),s=l.mintApyWithUSDD;return i.a.createElement("div",{className:"market-detail-info"},i.a.createElement("div",{className:"top"},i.a.createElement("div",{className:"header-title"},i.a.createElement("img",{src:t.logoUrl,alt:"logo"}),i.a.createElement("span",null,i.a.createElement("strong",null,t.collateralName),"(",t.collateralSymbol,")"),i.a.createElement(H,{placement:"bottomRight",title:"",content:this.renderActionContent(t),overlayClassName:"market-action-pop"},i.a.createElement("div",{className:"action"}))),i.a.createElement("section",null,i.a.createElement("div",{className:"apy"},i.a.createElement("span",null,j.a.getHTML("market.deposit_apy")),i.a.createElement("strong",{className:"deposit flex aic "},"--"===Object(N.j)(Object(N.a)(Object(N.j)(a.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(c,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(N.j)(r,2,{cutZero:!1,miniText:.01,needDolar:!1,per:!0}):Object(N.j)(Object(N.a)(Object(N.j)(a.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(c,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%",!(g.b.hideMarketMintIcon.indexOf(t.collateralSymbol)>-1)&&i.a.createElement("span",{className:"ic-fire ml-4 mb-0"}))),i.a.createElement("div",{className:"apy"},i.a.createElement("span",null,j.a.getHTML("market.borrow_apy")),i.a.createElement("strong",{className:"borrow"},Object(N.j)(Object(N.a)(t.borrowedAPY).times(100),2,{miniText:.01,per:!0}),"%"))),i.a.createElement("div",{className:"apy-box"},i.a.createElement("div",null,i.a.createElement("span",null,j.a.get("market.deposit_base_nex1"),i.a.createElement("span",{className:"inline-block"},j.a.get("market.deposit_base_nex2"))),i.a.createElement("span",null,Object(N.j)(a.supply,2,{per:!0,miniText:"0.01"}),"%")),i.a.createElement("div",null,i.a.createElement("span",null,j.a.get("market.mining_nex1"),i.a.createElement("span",{className:"inline-block"},j.a.get("market.mining_nex2"))),i.a.createElement("span",null,g.b.usddMint.includes(t.jtokenAddress)?"".concat(Object(N.j)(s,2,{per:!0,miniText:"0.01"})):Object(N.j)(c,2,{per:!0,miniText:"0.01"}),"%"))),i.a.createElement("section",null,i.a.createElement("div",{className:"apy"},i.a.createElement("span",null,j.a.getHTML("market.deposit_size")),i.a.createElement("strong",null,Object(N.a)(t.depositedUSD).isNaN()?"--":Object(N.d)(t.depositedUSD,2,{miniText:.01,needDolar:!0}))),i.a.createElement("div",{className:"apy"},i.a.createElement("span",null,j.a.getHTML("market.borrow_size")),i.a.createElement("strong",null,Object(N.a)(t.borrowedUSD).isNaN()?"--":Object(N.d)(t.borrowedUSD,2,{miniText:.01,needDolar:!0}))))),i.a.createElement("div",{className:"detail-info"},i.a.createElement("section",null,i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_price")),i.a.createElement("span",null,"--"==t.priceUSD?"--":Object(N.d)(t.priceUSD,2,{miniText:.01,needDolar:!0}))),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_limitmax")),i.a.createElement("span",null,Object(N.a)(t.borrowLimit).gt(0)?Object(N.j)(t.borrowLimit,0)+" "+t.collateralSymbol:j.a.get("market.detail_none")))),i.a.createElement("section",null,i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_number_of_deposit_accounts")),i.a.createElement("span",null,t.depositHeadcount)),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_number_of_borrow_accounts")),i.a.createElement("span",null,t.borrowHeadcount))),i.a.createElement("section",null,i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.getHTML("market.borrow_market"),i.a.createElement(k.a,{overlayClassName:"mltr",title:j.a.getHTML("market_lend_tip"),placement:"bottom"},i.a.createElement("span",{className:"tooltip-icon"}))),i.a.createElement("span",null,Object(N.a)(Object(N.U)(t)).gte(1)?Object(N.j)(Object(N.U)(t),0):Object(N.j)(Object(N.U)(t),2,{miniText:.01})," ",t.collateralSymbol)),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_dailyinterest")),i.a.createElement("span",null,Object(N.j)(t.earnUSDPerDay,2,{miniText:.01,needDolar:!0})))),i.a.createElement("section",null,i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_reserves")),i.a.createElement("span",null,Object(N.j)(t.totalReserves,6,{miniText:1e-6}))),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_factor")),i.a.createElement("span",null,Object(N.db)(t.reserveFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),i.a.createElement("section",null,i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.getHTML("market.detail_jminted",{value:"j"+t.collateralSymbol})),i.a.createElement("span",null,Object(N.j)(t.totalSupply,0,{miniText:1}))),i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.get("market.detail_collateral")),i.a.createElement("span",null,Object(N.db)(t.collateralFactor,{decimal:16,miniText:"0.0000000000000001",multi100:!0})))),i.a.createElement("section",null,i.a.createElement("div",{className:"column"},i.a.createElement("span",null,j.a.getHTML("market.detail_jexchangerate",{value:"j"+t.collateralSymbol})),i.a.createElement("span",null,Object(N.a)(t.oneToExchangeRate).lt(Object(N.a)(1).div(g.b.tokenDefaultPrecision))?"--":"1 "+t.collateralSymbol+" = "+Object(N.j)(t.oneToExchangeRate,18)+" j"+t.collateralSymbol)))))}},{key:"getEchartsOption",value:function(){var e=this.state,t=e.borrowList,a=e.supplyList,n=e.baseList,l=e.labelStatus,r=e.checked,c=this.state,s=c.current,o=c.jTokenData,i=this.props.lend.assetList,m=Object(N.K)(o,i),d=m.mintApy,p=m.mintApyWithUSDD;return{tooltip:{trigger:"axis",axisPointer:{type:"line",animation:!1,lineStyle:{color:"rgba(69, 77, 226, 0.2)",type:"dashed"},label:{precision:2}},backgroundColor:"rgba(255,255,255,0.5)",borderWidth:"0",textStyle:{color:"#333",fontFamily:"AvenirNext-Medium",fontSize:"14px"},formatter:function(e){var t="--",a=g.b.usddMint.includes(o.jtokenAddress)?p:d;r||(a=0),"--"!==d&&(t="< 0.01"===e[1].value?"< 0.01":Object(N.j)(Object(N.a)(e[1].value).minus(Object(N.a)(a)._toFixed(2,1)),2));var n=o.model.filter((function(e){return!e.current})),l=Object(N.a)(n[e[0].dataIndex].base).times(100);return'<div class="default-text-clone'+(r?" include-mint":"")+'"><p class="use-rate">'+j.a.get("use_rate")+"<span>"+Number(Object(N.j)(Object(N.a)(l).gt(100)?100:l,2))+"%</span></p><p>"+j.a.get("lend.depositapy")+'<span class="blue">'+("< 0.01"===e[1].value?"< 0.01":Object(N.j)(e[1].value,2))+"%</span></p><p>-"+j.a.get("market.baseAPY")+'<span class="sub-span">'+t+'%</span></p><p class="mint-p">-'+j.a.get("lend.miningapy")+'<span class="sub-span">'+Object(N.j)(a,2)+"%</span></p><p>"+e[0].seriesName+'<span class="green">'+Object(N.j)(e[0].value,2)+"%</span></p></div>"}},grid:{left:"0%",right:"3%",bottom:"5%",containLabel:!0},yAxis:{name:" ",nameTextStyle:{color:"#545699",align:"left"},type:"value",axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dotted",color:["#ccc"]}},splitNumber:3,axisTick:{show:!1},axisLabel:{textStyle:{color:"#84869E"}}},xAxis:{type:"category",axisPointer:{value:Number(Object(N.j)(s.base,2)),lineStyle:{color:"#e9e9e9",width:2},label:{show:l,formatter:function(e,t){return j.a.get("market.current")},backgroundColor:"rgba(0,0,0,0.5)"},handle:{show:!0,color:"transparent"}},name:"",nameTextStyle:{color:"#84869E"},data:n,axisLine:{lineStyle:{color:["#E9E9E9"]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{interval:0,formatter:function(e,t){return t%10==0&&0!=t?t:null},textStyle:{color:"#84869E"}}},series:[{name:j.a.get("market.borrow_apy"),type:"line",hoverAnimation:!1,itemStyle:{normal:{color:"#1ED0AC",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#9EF9E6",borderColor:"#1ED0AC",borderWidth:3}},data:t,showSymbol:!1,symbolSize:11},{name:j.a.get("market.deposit_apy"),type:"line",itemStyle:{normal:{color:"#3D56D6",lineStyle:{width:4}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 0.5)",color:"#BBBAFF",borderColor:"#3D56D6",borderWidth:3}},hoverAnimation:!1,data:a,showSymbol:!1,symbolSize:11}]}}},{key:"render",value:function(){var e=this,t=this.state,a=t.mobile,n=(t.jtokenAddress,t.current),l=t.curStatus,r=t.jTokenData,c=t.checked,s=t.lang,o=this.props.network.menuFlag,m=this.props.lend,d=m.assetList,p=m.DAWPop,b=m.borrowModalInfo,u=m.totalCollateralShow,v=m.hideTotalCollateralPop,k=Object(N.K)(r,d),h=k.mintApyWithUSDD,T=(k.totalApy,k.mintApy);c||(T=0);var D=this.props.network.multyRealStart,_=Object(N.a)(n.base),A=this.props.lend.marketList||this.props.lend.userList,L=A[r.jtokenAddress]?A[r.jtokenAddress]:{},M=this.borrowMax(L,this.props.lend.userList[r.jtokenAddress]),C=Object(N.U)(r),U=Object(N.a)(M).isNaN()||Object(N.a)(C).isNaN()?"--":Object(N.a)(M).gte(C)?C:M;return i.a.createElement("div",{className:"modal-container main "+(a?"":"flex-end")},i.a.createElement(E.a,{classNames:"transparant-bg",instantActions:this.getMarketData,mountedActions:this.getUserData}),a?i.a.createElement(S,null):i.a.createElement("div",{className:a?"market-container right-container mobile-right-container":o?"market-container right-container":"market-container right-container max-width"},i.a.createElement("div",{className:"market-info-block flex-between"},this.renderInfo(),i.a.createElement("div",{className:"echarts-frame",onClick:function(){return e.judgeBox()},onTouchStart:function(){return e.judgeBox()},onTouchMove:function(){return e.judgeBox()}},i.a.createElement("span",{className:"echarts-title"},j.a.getHTML("market.detail_apymodel"),i.a.createElement("br",null),D?"":i.a.createElement("p",{className:"echarts-subtitle"},j.a.get("market.deposit_apy_include"))),i.a.createElement("span",{className:"left"},"Y : APY(%)"),i.a.createElement("div",{className:"canvas-box",onMouseOver:function(){e.hideDBox(),e.canvasHover()},onMouseLeave:function(){e.showDBox(),e.canvasBlur()}},i.a.createElement(x.a,{option:this.getEchartsOption(),className:"market-detail-echarts"})),i.a.createElement("div",{className:"default-text "+(l?"":"hide")+(c?" include-mint":"")},i.a.createElement("p",{className:"use-rate"},j.a.get("use_rate"),i.a.createElement("span",null,Object(N.j)(Object(N.a)(_).gt(100)?100:_,2),"%")),i.a.createElement("p",null,j.a.get("lend.depositapy"),i.a.createElement("span",{className:"blue"},"--"===Object(N.j)(Object(N.a)(Object(N.j)(n.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(T,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0})?Object(N.j)(Object(N.a)(n.supply).plus(T),2,{miniText:.01,per:!0}):Object(N.j)(Object(N.a)(Object(N.j)(n.supply,2,{miniText:.01,per:!0})).plus(Object(N.j)(T,2,{miniText:.01,per:!0})),2,{miniText:.01,per:!0}),"%")),i.a.createElement("p",null,"-",j.a.get("market.baseAPY"),i.a.createElement("span",{className:"sub-span"},Object(N.j)(n.supply,2,{miniText:.01,per:!0}),"%")),i.a.createElement("p",{className:"mint-p"},"-",j.a.get("lend.miningapy"),i.a.createElement("span",{className:"sub-span"},Object(N.j)(T,2,{miniText:.01,per:!0}),"%")),i.a.createElement("p",null,j.a.get("market.borrow_apy"),i.a.createElement("span",{className:"green"},Object(N.j)(n.borrow,2,{miniText:.01,per:!0}),"%"))),i.a.createElement("span",{className:"right tar"},"X : ",j.a.get("market.detail_use_rate")+"(%)"),D&&!(g.b.hideMarketMintIcon.indexOf(r.collateralSymbol)>-1)&&i.a.createElement("div",{className:"echarts-bar"},i.a.createElement("div",{className:"flexB"},i.a.createElement("div",null,i.a.createElement("strong",null,j.a.get("market.detail_distubutedapy")),j.a.get("market.sun_mining_nex2")),i.a.createElement("div",{className:"te-subtitle pc-te-subtitle"},i.a.createElement(O.a,{className:"show-all-markets show-all-markets-m",checked:c,onChange:function(t){return e.onChange(t.target.checked)}},j.a.get("modal_mining_apy")),i.a.createElement("span",{className:"data"},g.b.usddMint.includes(r.jtokenAddress)?"".concat(Object(N.j)(h,2,{per:!0,miniText:"0.01",needDolar:!1})):Object(N.j)(k.mintApy,2,{per:!0,miniText:"0.01",needDolar:!1}),"%"))),i.a.createElement("div",{className:"bottom-bar"},"USDD"===(null===r||void 0===r?void 0:r.collateralSymbol)?j.a.get("market.detail_data_hotdesc1"):j.a.get("market.detail_data_hotdesc"))))),this.props.network.isConnected&&i.a.createElement("div",{className:"market-footer"},i.a.createElement("div",{className:"wallet-info flex-between"},i.a.createElement("div",{className:"name"},j.a.get("wallet_info")),i.a.createElement("div",{className:"action"},i.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.clickDeposit(L)}},j.a.get("index.markets_deposit")),i.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.clickBorrow(L)}},j.a.get("index.markets_withdraw")))),i.a.createElement("div",{className:"wallet-detail"},i.a.createElement("div",{className:"flex-between"},i.a.createElement("span",null,j.a.get("wallet_ballance")),Object(N.Z)(L,this.props.lend.balanceInfo,3)),i.a.createElement("div",{className:"flex-between"},i.a.createElement("span",null,j.a.get("current_borrow")),i.a.createElement("span",null,i.a.createElement("span",{className:"font-rubik-medium"},Object(N.a)(U).isNaN()||Object(N.a)(U).eq(0)?"0":Object(N.d)(U,2,{miniText:.01})," "),L.collateralSymbol)))),p.show&&i.a.createElement(w.a,{detailInfo:!0}),b.visible&&i.a.createElement(f.a,{detailInfo:!0}),i.a.createElement(y.a,null)),i.a.createElement(B.a,{visible:u,title:j.a.get("collateral_tip_title"),width:370,footer:null,className:"mortgage-modal tac",onCancel:function(){return v()}},i.a.createElement("div",{className:"mortgage-modal-body"+("zh-CN"===s?" tac":"")},j.a.getHTML("collateral_tip",{maxTotalCollateral:g.b.maxTotalCollateral})),i.a.createElement("button",{className:"collateral_btn",onClick:function(){return v()}},j.a.get("collateral_ok"))))}}]),a}(i.a.Component))||U)||U)||U)||U,W=Object(v.b)("network")(P=Object(v.c)(P=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.network.setData({routeName:"market"})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(F,null))}}]),a}(i.a.Component))||P)||P;t.default=W}}]);